'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x21f46b,_0x350f5d,_0x2eeba7)=>{_0x2eeba7['d'](_0x350f5d,{'JeP':()=>_0x47272c,'vxI':()=>_0x2abf53});var _0x4e3753=_0x2eeba7(0x133a);function _0x596ce4(){let _0x4f1d8a=null,_0x132c31=!0x1,_0x5ba7ee=null,_0x4972b4=null;function _0xa0f3fd(_0x2bbaa9,_0x2e0d54){_0x5ba7ee(_0x2bbaa9,_0x2e0d54),_0x4972b4=_0x4f1d8a['requestAnimationFrame'](_0xa0f3fd);}return{'start':function(){!0x0!==_0x132c31&&null!==_0x5ba7ee&&(_0x4972b4=_0x4f1d8a['requestAnimationFrame'](_0xa0f3fd),_0x132c31=!0x0);},'stop':function(){_0x4f1d8a['cancelAnimationFrame'](_0x4972b4),_0x132c31=!0x1;},'setAnimationLoop':function(_0x5ea6b7){_0x5ba7ee=_0x5ea6b7;},'setContext':function(_0x38797a){_0x4f1d8a=_0x38797a;}};}function _0x2c1541(_0x199b82){const _0x487f08=new WeakMap();return{'get':function(_0x425373){return _0x425373['isInterleavedBufferAttribute']&&(_0x425373=_0x425373['data']),_0x487f08['get'](_0x425373);},'remove':function(_0x56aba6){_0x56aba6['isInterleavedBufferAttribute']&&(_0x56aba6=_0x56aba6['data']);const _0x3788fa=_0x487f08['get'](_0x56aba6);_0x3788fa&&(_0x199b82['deleteBuffer'](_0x3788fa['buffer']),_0x487f08['delete'](_0x56aba6));},'update':function(_0x44116e,_0x42d560){if(_0x44116e['isInterleavedBufferAttribute']&&(_0x44116e=_0x44116e['data']),_0x44116e['isGLBufferAttribute']){const _0x397831=_0x487f08['get'](_0x44116e);return void((!_0x397831||_0x397831['version']<_0x44116e['version'])&&_0x487f08['set'](_0x44116e,{'buffer':_0x44116e['buffer'],'type':_0x44116e['type'],'bytesPerElement':_0x44116e['elementSize'],'version':_0x44116e['version']}));}const _0x425dc6=_0x487f08['get'](_0x44116e);if(void 0x0===_0x425dc6)_0x487f08['set'](_0x44116e,function(_0x573949,_0xad4c10){const _0x3bc62f=_0x573949['array'],_0x3fb181=_0x573949['usage'],_0x3c2a27=_0x3bc62f['byteLength'],_0x3dec1e=_0x199b82['createBuffer']();let _0x39581f;if(_0x199b82['bindBuffer'](_0xad4c10,_0x3dec1e),_0x199b82['bufferData'](_0xad4c10,_0x3bc62f,_0x3fb181),_0x573949['onUploadCallback'](),_0x3bc62f instanceof Float32Array)_0x39581f=_0x199b82['FLOAT'];else{if(_0x3bc62f instanceof Uint16Array)_0x39581f=_0x573949['isFloat16BufferAttribute']?_0x199b82['HALF_FLOAT']:_0x199b82['UNSIGNED_SHORT'];else{if(_0x3bc62f instanceof Int16Array)_0x39581f=_0x199b82['SHORT'];else{if(_0x3bc62f instanceof Uint32Array)_0x39581f=_0x199b82['UNSIGNED_INT'];else{if(_0x3bc62f instanceof Int32Array)_0x39581f=_0x199b82['INT'];else{if(_0x3bc62f instanceof Int8Array)_0x39581f=_0x199b82['BYTE'];else{if(_0x3bc62f instanceof Uint8Array)_0x39581f=_0x199b82['UNSIGNED_BYTE'];else{if(!(_0x3bc62f instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0x3bc62f);_0x39581f=_0x199b82['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0x3dec1e,'type':_0x39581f,'bytesPerElement':_0x3bc62f['BYTES_PER_ELEMENT'],'version':_0x573949['version'],'size':_0x3c2a27};}(_0x44116e,_0x42d560));else{if(_0x425dc6['version']<_0x44116e['version']){if(_0x425dc6['size']!==_0x44116e['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0x431987,_0x4da3f3,_0x1da19d){const _0x3d1240=_0x4da3f3['array'],_0x3dca18=_0x4da3f3['updateRanges'];if(_0x199b82['bindBuffer'](_0x1da19d,_0x431987),0x0===_0x3dca18['length'])_0x199b82['bufferSubData'](_0x1da19d,0x0,_0x3d1240);else{_0x3dca18['sort']((_0x4e7a43,_0x423562)=>_0x4e7a43['start']-_0x423562['start']);let _0x1eb2f3=0x0;for(let _0x37909d=0x1;_0x37909d<_0x3dca18['length'];_0x37909d++){const _0xcaecea=_0x3dca18[_0x1eb2f3],_0x14245b=_0x3dca18[_0x37909d];_0x14245b['start']<=_0xcaecea['start']+_0xcaecea['count']+0x1?_0xcaecea['count']=Math['max'](_0xcaecea['count'],_0x14245b['start']+_0x14245b['count']-_0xcaecea['start']):(++_0x1eb2f3,_0x3dca18[_0x1eb2f3]=_0x14245b);}_0x3dca18['length']=_0x1eb2f3+0x1;for(let _0x174c8e=0x0,_0x1eba38=_0x3dca18['length'];_0x174c8e<_0x1eba38;_0x174c8e++){const _0x3464ad=_0x3dca18[_0x174c8e];_0x199b82['bufferSubData'](_0x1da19d,_0x3464ad['start']*_0x3d1240['BYTES_PER_ELEMENT'],_0x3d1240,_0x3464ad['start'],_0x3464ad['count']);}_0x4da3f3['clearUpdateRanges']();}_0x4da3f3['onUploadCallback']();}(_0x425dc6['buffer'],_0x44116e,_0x42d560),_0x425dc6['version']=_0x44116e['version'];}}}};}const _0x2abf53={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x58e9bb={'common':{'diffuse':{'value':new _0x4e3753['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0x4e3753['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x4e3753['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0x4e3753['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0x4e3753['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0x4e3753['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0x4e3753['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0x4e3753['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0x4e3753['dwI']()},'normalScale':{'value':new _0x4e3753['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0x4e3753['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0x4e3753['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0x4e3753['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0x4e3753['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0x4e3753['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0x4e3753['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x4e3753['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0x4e3753['dwI']()}},'sprite':{'diffuse':{'value':new _0x4e3753['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0x4e3753['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0x4e3753['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x4e3753['dwI']()},'alphaTest':{'value':0x0}}},_0x49bb77={'basic':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['specularmap'],_0x58e9bb['envmap'],_0x58e9bb['aomap'],_0x58e9bb['lightmap'],_0x58e9bb['fog']]),'vertexShader':_0x2abf53['meshbasic_vert'],'fragmentShader':_0x2abf53['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['specularmap'],_0x58e9bb['envmap'],_0x58e9bb['aomap'],_0x58e9bb['lightmap'],_0x58e9bb['emissivemap'],_0x58e9bb['bumpmap'],_0x58e9bb['normalmap'],_0x58e9bb['displacementmap'],_0x58e9bb['fog'],_0x58e9bb['lights'],{'emissive':{'value':new _0x4e3753['Q1f'](0x0)}}]),'vertexShader':_0x2abf53['meshlambert_vert'],'fragmentShader':_0x2abf53['meshlambert_frag']},'phong':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['specularmap'],_0x58e9bb['envmap'],_0x58e9bb['aomap'],_0x58e9bb['lightmap'],_0x58e9bb['emissivemap'],_0x58e9bb['bumpmap'],_0x58e9bb['normalmap'],_0x58e9bb['displacementmap'],_0x58e9bb['fog'],_0x58e9bb['lights'],{'emissive':{'value':new _0x4e3753['Q1f'](0x0)},'specular':{'value':new _0x4e3753['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x2abf53['meshphong_vert'],'fragmentShader':_0x2abf53['meshphong_frag']},'standard':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['envmap'],_0x58e9bb['aomap'],_0x58e9bb['lightmap'],_0x58e9bb['emissivemap'],_0x58e9bb['bumpmap'],_0x58e9bb['normalmap'],_0x58e9bb['displacementmap'],_0x58e9bb['roughnessmap'],_0x58e9bb['metalnessmap'],_0x58e9bb['fog'],_0x58e9bb['lights'],{'emissive':{'value':new _0x4e3753['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x2abf53['meshphysical_vert'],'fragmentShader':_0x2abf53['meshphysical_frag']},'toon':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['aomap'],_0x58e9bb['lightmap'],_0x58e9bb['emissivemap'],_0x58e9bb['bumpmap'],_0x58e9bb['normalmap'],_0x58e9bb['displacementmap'],_0x58e9bb['gradientmap'],_0x58e9bb['fog'],_0x58e9bb['lights'],{'emissive':{'value':new _0x4e3753['Q1f'](0x0)}}]),'vertexShader':_0x2abf53['meshtoon_vert'],'fragmentShader':_0x2abf53['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['bumpmap'],_0x58e9bb['normalmap'],_0x58e9bb['displacementmap'],_0x58e9bb['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x2abf53['meshmatcap_vert'],'fragmentShader':_0x2abf53['meshmatcap_frag']},'points':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['points'],_0x58e9bb['fog']]),'vertexShader':_0x2abf53['points_vert'],'fragmentShader':_0x2abf53['points_frag']},'dashed':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x2abf53['linedashed_vert'],'fragmentShader':_0x2abf53['linedashed_frag']},'depth':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['displacementmap']]),'vertexShader':_0x2abf53['depth_vert'],'fragmentShader':_0x2abf53['depth_frag']},'normal':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['bumpmap'],_0x58e9bb['normalmap'],_0x58e9bb['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x2abf53['meshnormal_vert'],'fragmentShader':_0x2abf53['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['sprite'],_0x58e9bb['fog']]),'vertexShader':_0x2abf53['sprite_vert'],'fragmentShader':_0x2abf53['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0x4e3753['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x2abf53['background_vert'],'fragmentShader':_0x2abf53['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0x4e3753['dwI']()}},'vertexShader':_0x2abf53['backgroundCube_vert'],'fragmentShader':_0x2abf53['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x2abf53['cube_vert'],'fragmentShader':_0x2abf53['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x2abf53['equirect_vert'],'fragmentShader':_0x2abf53['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['common'],_0x58e9bb['displacementmap'],{'referencePosition':{'value':new _0x4e3753['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x2abf53['distanceRGBA_vert'],'fragmentShader':_0x2abf53['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0x4e3753['Iit'])([_0x58e9bb['lights'],_0x58e9bb['fog'],{'color':{'value':new _0x4e3753['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x2abf53['shadow_vert'],'fragmentShader':_0x2abf53['shadow_frag']}};_0x49bb77['physical']={'uniforms':(0x0,_0x4e3753['Iit'])([_0x49bb77['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0x4e3753['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0x4e3753['dwI']()},'clearcoatNormalScale':{'value':new _0x4e3753['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0x4e3753['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0x4e3753['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0x4e3753['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0x4e3753['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0x4e3753['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0x4e3753['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0x4e3753['dwI']()},'transmissionSamplerSize':{'value':new _0x4e3753['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0x4e3753['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0x4e3753['Q1f'](0x0)},'specularColor':{'value':new _0x4e3753['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0x4e3753['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0x4e3753['dwI']()},'anisotropyVector':{'value':new _0x4e3753['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0x4e3753['dwI']()}}]),'vertexShader':_0x2abf53['meshphysical_vert'],'fragmentShader':_0x2abf53['meshphysical_frag']};const _0xf3fc73={'r':0x0,'b':0x0,'g':0x0},_0x2fde72=new _0x4e3753['O9p'](),_0x53b9f1=new _0x4e3753['kn4']();function _0xfa47c7(_0x46b20d,_0x24fc5a,_0x3811e4,_0x3a55cb,_0x46d73d,_0xc9b27c,_0x2d65db){const _0x3f8d82=new _0x4e3753['Q1f'](0x0);let _0x45fe3e,_0x354dc4,_0x41d4db=!0x0===_0xc9b27c?0x0:0x1,_0x432181=null,_0x10455d=0x0,_0x4d6999=null;function _0x3f1a39(_0x3c1994){let _0x58a982=!0x0===_0x3c1994['isScene']?_0x3c1994['background']:null;return _0x58a982&&_0x58a982['isTexture']&&(_0x58a982=(_0x3c1994['backgroundBlurriness']>0x0?_0x3811e4:_0x24fc5a)['get'](_0x58a982)),_0x58a982;}function _0x4cfd5f(_0x4c541a,_0x25154c){_0x4c541a['getRGB'](_0xf3fc73,(0x0,_0x4e3753['_Ut'])(_0x46b20d)),_0x3a55cb['buffers']['color']['setClear'](_0xf3fc73['r'],_0xf3fc73['g'],_0xf3fc73['b'],_0x25154c,_0x2d65db);}return{'getClearColor':function(){return _0x3f8d82;},'setClearColor':function(_0x2ca1e3,_0x5c9409=0x1){_0x3f8d82['set'](_0x2ca1e3),_0x41d4db=_0x5c9409,_0x4cfd5f(_0x3f8d82,_0x41d4db);},'getClearAlpha':function(){return _0x41d4db;},'setClearAlpha':function(_0x4e808d){_0x41d4db=_0x4e808d,_0x4cfd5f(_0x3f8d82,_0x41d4db);},'render':function(_0x22acfe){let _0x1dad2f=!0x1;const _0x27cc37=_0x3f1a39(_0x22acfe);null===_0x27cc37?_0x4cfd5f(_0x3f8d82,_0x41d4db):_0x27cc37&&_0x27cc37['isColor']&&(_0x4cfd5f(_0x27cc37,0x1),_0x1dad2f=!0x0);const _0x4c7fa8=_0x46b20d['xr']['getEnvironmentBlendMode']();'additive'===_0x4c7fa8?_0x3a55cb['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0x2d65db):'alpha-blend'===_0x4c7fa8&&_0x3a55cb['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0x2d65db),(_0x46b20d['autoClear']||_0x1dad2f)&&(_0x3a55cb['buffers']['depth']['setTest'](!0x0),_0x3a55cb['buffers']['depth']['setMask'](!0x0),_0x3a55cb['buffers']['color']['setMask'](!0x0),_0x46b20d['clear'](_0x46b20d['autoClearColor'],_0x46b20d['autoClearDepth'],_0x46b20d['autoClearStencil']));},'addToRenderList':function(_0x4519dd,_0x4983f1){const _0x137e92=_0x3f1a39(_0x4983f1);_0x137e92&&(_0x137e92['isCubeTexture']||_0x137e92['mapping']===_0x4e3753['Om'])?(void 0x0===_0x354dc4&&(_0x354dc4=new _0x4e3753['eaF'](new _0x4e3753['iNn'](0x1,0x1,0x1),new _0x4e3753['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0x4e3753['lxW'])(_0x49bb77['backgroundCube']['uniforms']),'vertexShader':_0x49bb77['backgroundCube']['vertexShader'],'fragmentShader':_0x49bb77['backgroundCube']['fragmentShader'],'side':_0x4e3753['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x354dc4['geometry']['deleteAttribute']('normal'),_0x354dc4['geometry']['deleteAttribute']('uv'),_0x354dc4['onBeforeRender']=function(_0x4cb6a5,_0x545dd7,_0x5b6539){this['matrixWorld']['copyPosition'](_0x5b6539['matrixWorld']);},Object['defineProperty'](_0x354dc4['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x46d73d['update'](_0x354dc4)),_0x2fde72['copy'](_0x4983f1['backgroundRotation']),_0x2fde72['x']*=-0x1,_0x2fde72['y']*=-0x1,_0x2fde72['z']*=-0x1,_0x137e92['isCubeTexture']&&!0x1===_0x137e92['isRenderTargetTexture']&&(_0x2fde72['y']*=-0x1,_0x2fde72['z']*=-0x1),_0x354dc4['material']['uniforms']['envMap']['value']=_0x137e92,_0x354dc4['material']['uniforms']['flipEnvMap']['value']=_0x137e92['isCubeTexture']&&!0x1===_0x137e92['isRenderTargetTexture']?-0x1:0x1,_0x354dc4['material']['uniforms']['backgroundBlurriness']['value']=_0x4983f1['backgroundBlurriness'],_0x354dc4['material']['uniforms']['backgroundIntensity']['value']=_0x4983f1['backgroundIntensity'],_0x354dc4['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x53b9f1['makeRotationFromEuler'](_0x2fde72)),_0x354dc4['material']['toneMapped']=_0x4e3753['ppV']['getTransfer'](_0x137e92['colorSpace'])!==_0x4e3753['KLL'],_0x432181===_0x137e92&&_0x10455d===_0x137e92['version']&&_0x4d6999===_0x46b20d['toneMapping']||(_0x354dc4['material']['needsUpdate']=!0x0,_0x432181=_0x137e92,_0x10455d=_0x137e92['version'],_0x4d6999=_0x46b20d['toneMapping']),_0x354dc4['layers']['enableAll'](),_0x4519dd['unshift'](_0x354dc4,_0x354dc4['geometry'],_0x354dc4['material'],0x0,0x0,null)):_0x137e92&&_0x137e92['isTexture']&&(void 0x0===_0x45fe3e&&(_0x45fe3e=new _0x4e3753['eaF'](new _0x4e3753['bdM'](0x2,0x2),new _0x4e3753['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0x4e3753['lxW'])(_0x49bb77['background']['uniforms']),'vertexShader':_0x49bb77['background']['vertexShader'],'fragmentShader':_0x49bb77['background']['fragmentShader'],'side':_0x4e3753['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x45fe3e['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x45fe3e['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x46d73d['update'](_0x45fe3e)),_0x45fe3e['material']['uniforms']['t2D']['value']=_0x137e92,_0x45fe3e['material']['uniforms']['backgroundIntensity']['value']=_0x4983f1['backgroundIntensity'],_0x45fe3e['material']['toneMapped']=_0x4e3753['ppV']['getTransfer'](_0x137e92['colorSpace'])!==_0x4e3753['KLL'],!0x0===_0x137e92['matrixAutoUpdate']&&_0x137e92['updateMatrix'](),_0x45fe3e['material']['uniforms']['uvTransform']['value']['copy'](_0x137e92['matrix']),_0x432181===_0x137e92&&_0x10455d===_0x137e92['version']&&_0x4d6999===_0x46b20d['toneMapping']||(_0x45fe3e['material']['needsUpdate']=!0x0,_0x432181=_0x137e92,_0x10455d=_0x137e92['version'],_0x4d6999=_0x46b20d['toneMapping']),_0x45fe3e['layers']['enableAll'](),_0x4519dd['unshift'](_0x45fe3e,_0x45fe3e['geometry'],_0x45fe3e['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0x354dc4&&(_0x354dc4['geometry']['dispose'](),_0x354dc4['material']['dispose']()),void 0x0!==_0x45fe3e&&(_0x45fe3e['geometry']['dispose'](),_0x45fe3e['material']['dispose']());}};}function _0x2444c6(_0x39ebcf,_0x5e6689){const _0x11e986=_0x39ebcf['getParameter'](_0x39ebcf['MAX_VERTEX_ATTRIBS']),_0x108efc={},_0x408937=_0x532278(null);let _0x2516e8=_0x408937,_0x478bd8=!0x1;function _0x3f2c21(_0x16ed85){return _0x39ebcf['bindVertexArray'](_0x16ed85);}function _0x5399a3(_0x4104b0){return _0x39ebcf['deleteVertexArray'](_0x4104b0);}function _0x532278(_0x5ef235){const _0x5297df=[],_0x32ee2b=[],_0x120f1b=[];for(let _0x3e8086=0x0;_0x3e8086<_0x11e986;_0x3e8086++)_0x5297df[_0x3e8086]=0x0,_0x32ee2b[_0x3e8086]=0x0,_0x120f1b[_0x3e8086]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0x5297df,'enabledAttributes':_0x32ee2b,'attributeDivisors':_0x120f1b,'object':_0x5ef235,'attributes':{},'index':null};}function _0x5a9126(){const _0x55eee2=_0x2516e8['newAttributes'];for(let _0x56b25f=0x0,_0x24fd9a=_0x55eee2['length'];_0x56b25f<_0x24fd9a;_0x56b25f++)_0x55eee2[_0x56b25f]=0x0;}function _0x242f12(_0x2e47ad){_0xbeed84(_0x2e47ad,0x0);}function _0xbeed84(_0x36a205,_0x6618f0){const _0xa5be27=_0x2516e8['newAttributes'],_0x1084bf=_0x2516e8['enabledAttributes'],_0x15387a=_0x2516e8['attributeDivisors'];_0xa5be27[_0x36a205]=0x1,0x0===_0x1084bf[_0x36a205]&&(_0x39ebcf['enableVertexAttribArray'](_0x36a205),_0x1084bf[_0x36a205]=0x1),_0x15387a[_0x36a205]!==_0x6618f0&&(_0x39ebcf['vertexAttribDivisor'](_0x36a205,_0x6618f0),_0x15387a[_0x36a205]=_0x6618f0);}function _0x1b66dd(){const _0x208e0a=_0x2516e8['newAttributes'],_0x2c6a61=_0x2516e8['enabledAttributes'];for(let _0x4cded2=0x0,_0x14799e=_0x2c6a61['length'];_0x4cded2<_0x14799e;_0x4cded2++)_0x2c6a61[_0x4cded2]!==_0x208e0a[_0x4cded2]&&(_0x39ebcf['disableVertexAttribArray'](_0x4cded2),_0x2c6a61[_0x4cded2]=0x0);}function _0x1f4b9e(_0x3eb2e1,_0xb9edba,_0x186aee,_0x40468c,_0x1e112a,_0x2336dd,_0x194f0d){!0x0===_0x194f0d?_0x39ebcf['vertexAttribIPointer'](_0x3eb2e1,_0xb9edba,_0x186aee,_0x1e112a,_0x2336dd):_0x39ebcf['vertexAttribPointer'](_0x3eb2e1,_0xb9edba,_0x186aee,_0x40468c,_0x1e112a,_0x2336dd);}function _0x19a67b(){_0x342964(),_0x478bd8=!0x0,_0x2516e8!==_0x408937&&(_0x2516e8=_0x408937,_0x3f2c21(_0x2516e8['object']));}function _0x342964(){_0x408937['geometry']=null,_0x408937['program']=null,_0x408937['wireframe']=!0x1;}return{'setup':function(_0x32bd45,_0x266b9d,_0x4e63d5,_0x3e4807,_0x11d46b){let _0x56836d=!0x1;const _0x144edc=function(_0x1b8ca3,_0x19cd8a,_0x4819ee){const _0xcc00ec=!0x0===_0x4819ee['wireframe'];let _0x420ee2=_0x108efc[_0x1b8ca3['id']];void 0x0===_0x420ee2&&(_0x420ee2={},_0x108efc[_0x1b8ca3['id']]=_0x420ee2);let _0x359b06=_0x420ee2[_0x19cd8a['id']];void 0x0===_0x359b06&&(_0x359b06={},_0x420ee2[_0x19cd8a['id']]=_0x359b06);let _0x81731c=_0x359b06[_0xcc00ec];return void 0x0===_0x81731c&&(_0x81731c=_0x532278(_0x39ebcf['createVertexArray']()),_0x359b06[_0xcc00ec]=_0x81731c),_0x81731c;}(_0x3e4807,_0x4e63d5,_0x266b9d);_0x2516e8!==_0x144edc&&(_0x2516e8=_0x144edc,_0x3f2c21(_0x2516e8['object'])),_0x56836d=function(_0x28ef9a,_0x24554a,_0x41122c,_0x5cf11e){const _0x3fa144=_0x2516e8['attributes'],_0x3f57e8=_0x24554a['attributes'];let _0x1a7ae8=0x0;const _0x1bd06a=_0x41122c['getAttributes']();for(const _0x35665a in _0x1bd06a){if(_0x1bd06a[_0x35665a]['location']>=0x0){const _0x1e6c7f=_0x3fa144[_0x35665a];let _0x2e54ab=_0x3f57e8[_0x35665a];if(void 0x0===_0x2e54ab&&('instanceMatrix'===_0x35665a&&_0x28ef9a['instanceMatrix']&&(_0x2e54ab=_0x28ef9a['instanceMatrix']),'instanceColor'===_0x35665a&&_0x28ef9a['instanceColor']&&(_0x2e54ab=_0x28ef9a['instanceColor'])),void 0x0===_0x1e6c7f)return!0x0;if(_0x1e6c7f['attribute']!==_0x2e54ab)return!0x0;if(_0x2e54ab&&_0x1e6c7f['data']!==_0x2e54ab['data'])return!0x0;_0x1a7ae8++;}}return _0x2516e8['attributesNum']!==_0x1a7ae8||_0x2516e8['index']!==_0x5cf11e;}(_0x32bd45,_0x3e4807,_0x4e63d5,_0x11d46b),_0x56836d&&function(_0x5433dd,_0x8d4c6d,_0x208260,_0x55e5da){const _0xe32bfd={},_0x1a1dc0=_0x8d4c6d['attributes'];let _0x1570e9=0x0;const _0x53d06e=_0x208260['getAttributes']();for(const _0x50e2c4 in _0x53d06e){if(_0x53d06e[_0x50e2c4]['location']>=0x0){let _0x2a8b06=_0x1a1dc0[_0x50e2c4];void 0x0===_0x2a8b06&&('instanceMatrix'===_0x50e2c4&&_0x5433dd['instanceMatrix']&&(_0x2a8b06=_0x5433dd['instanceMatrix']),'instanceColor'===_0x50e2c4&&_0x5433dd['instanceColor']&&(_0x2a8b06=_0x5433dd['instanceColor']));const _0x3f3269={};_0x3f3269['attribute']=_0x2a8b06,_0x2a8b06&&_0x2a8b06['data']&&(_0x3f3269['data']=_0x2a8b06['data']),_0xe32bfd[_0x50e2c4]=_0x3f3269,_0x1570e9++;}}_0x2516e8['attributes']=_0xe32bfd,_0x2516e8['attributesNum']=_0x1570e9,_0x2516e8['index']=_0x55e5da;}(_0x32bd45,_0x3e4807,_0x4e63d5,_0x11d46b),null!==_0x11d46b&&_0x5e6689['update'](_0x11d46b,_0x39ebcf['ELEMENT_ARRAY_BUFFER']),(_0x56836d||_0x478bd8)&&(_0x478bd8=!0x1,function(_0x5c342e,_0x1fc9c5,_0x1451fe,_0x5caa02){_0x5a9126();const _0x52febd=_0x5caa02['attributes'],_0x29ef19=_0x1451fe['getAttributes'](),_0x470c7a=_0x1fc9c5['defaultAttributeValues'];for(const _0x4c999a in _0x29ef19){const _0x31fab8=_0x29ef19[_0x4c999a];if(_0x31fab8['location']>=0x0){let _0x36a0f5=_0x52febd[_0x4c999a];if(void 0x0===_0x36a0f5&&('instanceMatrix'===_0x4c999a&&_0x5c342e['instanceMatrix']&&(_0x36a0f5=_0x5c342e['instanceMatrix']),'instanceColor'===_0x4c999a&&_0x5c342e['instanceColor']&&(_0x36a0f5=_0x5c342e['instanceColor'])),void 0x0!==_0x36a0f5){const _0x144321=_0x36a0f5['normalized'],_0x52a647=_0x36a0f5['itemSize'],_0x2a6c87=_0x5e6689['get'](_0x36a0f5);if(void 0x0===_0x2a6c87)continue;const _0xe0b98e=_0x2a6c87['buffer'],_0x2a93d6=_0x2a6c87['type'],_0x18ffe2=_0x2a6c87['bytesPerElement'],_0x56566d=_0x2a93d6===_0x39ebcf['INT']||_0x2a93d6===_0x39ebcf['UNSIGNED_INT']||_0x36a0f5['gpuType']===_0x4e3753['Yuy'];if(_0x36a0f5['isInterleavedBufferAttribute']){const _0x2be9d8=_0x36a0f5['data'],_0x87766c=_0x2be9d8['stride'],_0x1a41bb=_0x36a0f5['offset'];if(_0x2be9d8['isInstancedInterleavedBuffer']){for(let _0x396510=0x0;_0x396510<_0x31fab8['locationSize'];_0x396510++)_0xbeed84(_0x31fab8['location']+_0x396510,_0x2be9d8['meshPerAttribute']);!0x0!==_0x5c342e['isInstancedMesh']&&void 0x0===_0x5caa02['_maxInstanceCount']&&(_0x5caa02['_maxInstanceCount']=_0x2be9d8['meshPerAttribute']*_0x2be9d8['count']);}else{for(let _0x3e0281=0x0;_0x3e0281<_0x31fab8['locationSize'];_0x3e0281++)_0x242f12(_0x31fab8['location']+_0x3e0281);}_0x39ebcf['bindBuffer'](_0x39ebcf['ARRAY_BUFFER'],_0xe0b98e);for(let _0x4714fe=0x0;_0x4714fe<_0x31fab8['locationSize'];_0x4714fe++)_0x1f4b9e(_0x31fab8['location']+_0x4714fe,_0x52a647/_0x31fab8['locationSize'],_0x2a93d6,_0x144321,_0x87766c*_0x18ffe2,(_0x1a41bb+_0x52a647/_0x31fab8['locationSize']*_0x4714fe)*_0x18ffe2,_0x56566d);}else{if(_0x36a0f5['isInstancedBufferAttribute']){for(let _0x2b0126=0x0;_0x2b0126<_0x31fab8['locationSize'];_0x2b0126++)_0xbeed84(_0x31fab8['location']+_0x2b0126,_0x36a0f5['meshPerAttribute']);!0x0!==_0x5c342e['isInstancedMesh']&&void 0x0===_0x5caa02['_maxInstanceCount']&&(_0x5caa02['_maxInstanceCount']=_0x36a0f5['meshPerAttribute']*_0x36a0f5['count']);}else{for(let _0x421b5e=0x0;_0x421b5e<_0x31fab8['locationSize'];_0x421b5e++)_0x242f12(_0x31fab8['location']+_0x421b5e);}_0x39ebcf['bindBuffer'](_0x39ebcf['ARRAY_BUFFER'],_0xe0b98e);for(let _0x3da6b1=0x0;_0x3da6b1<_0x31fab8['locationSize'];_0x3da6b1++)_0x1f4b9e(_0x31fab8['location']+_0x3da6b1,_0x52a647/_0x31fab8['locationSize'],_0x2a93d6,_0x144321,_0x52a647*_0x18ffe2,_0x52a647/_0x31fab8['locationSize']*_0x3da6b1*_0x18ffe2,_0x56566d);}}else{if(void 0x0!==_0x470c7a){const _0x7ddf65=_0x470c7a[_0x4c999a];if(void 0x0!==_0x7ddf65)switch(_0x7ddf65['length']){case 0x2:_0x39ebcf['vertexAttrib2fv'](_0x31fab8['location'],_0x7ddf65);break;case 0x3:_0x39ebcf['vertexAttrib3fv'](_0x31fab8['location'],_0x7ddf65);break;case 0x4:_0x39ebcf['vertexAttrib4fv'](_0x31fab8['location'],_0x7ddf65);break;default:_0x39ebcf['vertexAttrib1fv'](_0x31fab8['location'],_0x7ddf65);}}}}}_0x1b66dd();}(_0x32bd45,_0x266b9d,_0x4e63d5,_0x3e4807),null!==_0x11d46b&&_0x39ebcf['bindBuffer'](_0x39ebcf['ELEMENT_ARRAY_BUFFER'],_0x5e6689['get'](_0x11d46b)['buffer']));},'reset':_0x19a67b,'resetDefaultState':_0x342964,'dispose':function(){_0x19a67b();for(const _0x591ac3 in _0x108efc){const _0x485905=_0x108efc[_0x591ac3];for(const _0x98dc4f in _0x485905){const _0x9fdd2f=_0x485905[_0x98dc4f];for(const _0x4ac1b7 in _0x9fdd2f)_0x5399a3(_0x9fdd2f[_0x4ac1b7]['object']),delete _0x9fdd2f[_0x4ac1b7];delete _0x485905[_0x98dc4f];}delete _0x108efc[_0x591ac3];}},'releaseStatesOfGeometry':function(_0x528610){if(void 0x0===_0x108efc[_0x528610['id']])return;const _0x1e630f=_0x108efc[_0x528610['id']];for(const _0xd3f7f8 in _0x1e630f){const _0x5629fc=_0x1e630f[_0xd3f7f8];for(const _0x3e3c30 in _0x5629fc)_0x5399a3(_0x5629fc[_0x3e3c30]['object']),delete _0x5629fc[_0x3e3c30];delete _0x1e630f[_0xd3f7f8];}delete _0x108efc[_0x528610['id']];},'releaseStatesOfProgram':function(_0x46024a){for(const _0x734442 in _0x108efc){const _0xc8c448=_0x108efc[_0x734442];if(void 0x0===_0xc8c448[_0x46024a['id']])continue;const _0x3bd7c2=_0xc8c448[_0x46024a['id']];for(const _0x15217b in _0x3bd7c2)_0x5399a3(_0x3bd7c2[_0x15217b]['object']),delete _0x3bd7c2[_0x15217b];delete _0xc8c448[_0x46024a['id']];}},'initAttributes':_0x5a9126,'enableAttribute':_0x242f12,'disableUnusedAttributes':_0x1b66dd};}function _0x33d05b(_0x3b4b5f,_0x2d4134,_0x57f732){let _0x5babd7;function _0x1ea8f7(_0x2eda4d,_0x283df3,_0x13f8fc){0x0!==_0x13f8fc&&(_0x3b4b5f['drawArraysInstanced'](_0x5babd7,_0x2eda4d,_0x283df3,_0x13f8fc),_0x57f732['update'](_0x283df3,_0x5babd7,_0x13f8fc));}this['setMode']=function(_0x5de3aa){_0x5babd7=_0x5de3aa;},this['render']=function(_0x2609ab,_0x136e44){_0x3b4b5f['drawArrays'](_0x5babd7,_0x2609ab,_0x136e44),_0x57f732['update'](_0x136e44,_0x5babd7,0x1);},this['renderInstances']=_0x1ea8f7,this['renderMultiDraw']=function(_0x2a64c8,_0x50c754,_0x434be3){if(0x0===_0x434be3)return;_0x2d4134['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x5babd7,_0x2a64c8,0x0,_0x50c754,0x0,_0x434be3);let _0x57ed09=0x0;for(let _0x39cb59=0x0;_0x39cb59<_0x434be3;_0x39cb59++)_0x57ed09+=_0x50c754[_0x39cb59];_0x57f732['update'](_0x57ed09,_0x5babd7,0x1);},this['renderMultiDrawInstances']=function(_0x5c255a,_0x533f89,_0x335b2a,_0x3596a6){if(0x0===_0x335b2a)return;const _0x1ef394=_0x2d4134['get']('WEBGL_multi_draw');if(null===_0x1ef394){for(let _0x111355=0x0;_0x111355<_0x5c255a['length'];_0x111355++)_0x1ea8f7(_0x5c255a[_0x111355],_0x533f89[_0x111355],_0x3596a6[_0x111355]);}else{_0x1ef394['multiDrawArraysInstancedWEBGL'](_0x5babd7,_0x5c255a,0x0,_0x533f89,0x0,_0x3596a6,0x0,_0x335b2a);let _0x410623=0x0;for(let _0x3bf3d0=0x0;_0x3bf3d0<_0x335b2a;_0x3bf3d0++)_0x410623+=_0x533f89[_0x3bf3d0]*_0x3596a6[_0x3bf3d0];_0x57f732['update'](_0x410623,_0x5babd7,0x1);}};}function _0x4e3991(_0x3cf49a,_0x47f926,_0x28a92e,_0x108294){let _0x3c439a;function _0x4b1bbe(_0x2a1f31){if('highp'===_0x2a1f31){if(_0x3cf49a['getShaderPrecisionFormat'](_0x3cf49a['VERTEX_SHADER'],_0x3cf49a['HIGH_FLOAT'])['precision']>0x0&&_0x3cf49a['getShaderPrecisionFormat'](_0x3cf49a['FRAGMENT_SHADER'],_0x3cf49a['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x2a1f31='mediump';}return'mediump'===_0x2a1f31&&_0x3cf49a['getShaderPrecisionFormat'](_0x3cf49a['VERTEX_SHADER'],_0x3cf49a['MEDIUM_FLOAT'])['precision']>0x0&&_0x3cf49a['getShaderPrecisionFormat'](_0x3cf49a['FRAGMENT_SHADER'],_0x3cf49a['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x1a0042=void 0x0!==_0x28a92e['precision']?_0x28a92e['precision']:'highp';const _0x59b3fa=_0x4b1bbe(_0x1a0042);_0x59b3fa!==_0x1a0042&&(console['warn']('THREE.WebGLRenderer:',_0x1a0042,'not\x20supported,\x20using',_0x59b3fa,'instead.'),_0x1a0042=_0x59b3fa);const _0x4976e5=!0x0===_0x28a92e['logarithmicDepthBuffer'],_0x5ab166=!0x0===_0x28a92e['reverseDepthBuffer']&&_0x47f926['has']('EXT_clip_control'),_0x39c402=_0x3cf49a['getParameter'](_0x3cf49a['MAX_TEXTURE_IMAGE_UNITS']),_0xa3dd4d=_0x3cf49a['getParameter'](_0x3cf49a['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0x3c439a)return _0x3c439a;if(!0x0===_0x47f926['has']('EXT_texture_filter_anisotropic')){const _0x4bebf0=_0x47f926['get']('EXT_texture_filter_anisotropic');_0x3c439a=_0x3cf49a['getParameter'](_0x4bebf0['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0x3c439a=0x0;return _0x3c439a;},'getMaxPrecision':_0x4b1bbe,'textureFormatReadable':function(_0x37722b){return _0x37722b===_0x4e3753['GWd']||_0x108294['convert'](_0x37722b)===_0x3cf49a['getParameter'](_0x3cf49a['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x22ee5b){const _0x46646b=_0x22ee5b===_0x4e3753['ix0']&&(_0x47f926['has']('EXT_color_buffer_half_float')||_0x47f926['has']('EXT_color_buffer_float'));return!(_0x22ee5b!==_0x4e3753['OUM']&&_0x108294['convert'](_0x22ee5b)!==_0x3cf49a['getParameter'](_0x3cf49a['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x22ee5b!==_0x4e3753['RQf']&&!_0x46646b);},'precision':_0x1a0042,'logarithmicDepthBuffer':_0x4976e5,'reverseDepthBuffer':_0x5ab166,'maxTextures':_0x39c402,'maxVertexTextures':_0xa3dd4d,'maxTextureSize':_0x3cf49a['getParameter'](_0x3cf49a['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x3cf49a['getParameter'](_0x3cf49a['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x3cf49a['getParameter'](_0x3cf49a['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x3cf49a['getParameter'](_0x3cf49a['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x3cf49a['getParameter'](_0x3cf49a['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x3cf49a['getParameter'](_0x3cf49a['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0xa3dd4d>0x0,'maxSamples':_0x3cf49a['getParameter'](_0x3cf49a['MAX_SAMPLES'])};}function _0x11d283(_0x110b1d){const _0x3c6bd1=this;let _0x32e747=null,_0x16dc1c=0x0,_0x36fb4c=!0x1,_0x546753=!0x1;const _0x11ea43=new _0x4e3753['Zcv'](),_0x757d3f=new _0x4e3753['dwI'](),_0x113736={'value':null,'needsUpdate':!0x1};function _0x319cbc(_0xb55b2e,_0x5bba43,_0x2f3d1e,_0x4bb03a){const _0x173ebb=null!==_0xb55b2e?_0xb55b2e['length']:0x0;let _0x72cce2=null;if(0x0!==_0x173ebb){if(_0x72cce2=_0x113736['value'],!0x0!==_0x4bb03a||null===_0x72cce2){const _0x27d2e2=_0x2f3d1e+0x4*_0x173ebb,_0x3f0724=_0x5bba43['matrixWorldInverse'];_0x757d3f['getNormalMatrix'](_0x3f0724),(null===_0x72cce2||_0x72cce2['length']<_0x27d2e2)&&(_0x72cce2=new Float32Array(_0x27d2e2));for(let _0x28648a=0x0,_0x1c8ec9=_0x2f3d1e;_0x28648a!==_0x173ebb;++_0x28648a,_0x1c8ec9+=0x4)_0x11ea43['copy'](_0xb55b2e[_0x28648a])['applyMatrix4'](_0x3f0724,_0x757d3f),_0x11ea43['normal']['toArray'](_0x72cce2,_0x1c8ec9),_0x72cce2[_0x1c8ec9+0x3]=_0x11ea43['constant'];}_0x113736['value']=_0x72cce2,_0x113736['needsUpdate']=!0x0;}return _0x3c6bd1['numPlanes']=_0x173ebb,_0x3c6bd1['numIntersection']=0x0,_0x72cce2;}this['uniform']=_0x113736,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x112627,_0x4c1f31){const _0x308f4b=0x0!==_0x112627['length']||_0x4c1f31||0x0!==_0x16dc1c||_0x36fb4c;return _0x36fb4c=_0x4c1f31,_0x16dc1c=_0x112627['length'],_0x308f4b;},this['beginShadows']=function(){_0x546753=!0x0,_0x319cbc(null);},this['endShadows']=function(){_0x546753=!0x1;},this['setGlobalState']=function(_0x1eab2f,_0x4b2dd4){_0x32e747=_0x319cbc(_0x1eab2f,_0x4b2dd4,0x0);},this['setState']=function(_0xd48a76,_0x545caa,_0x2b0a40){const _0x5b2803=_0xd48a76['clippingPlanes'],_0x459812=_0xd48a76['clipIntersection'],_0x34f0cd=_0xd48a76['clipShadows'],_0x5eb66d=_0x110b1d['get'](_0xd48a76);if(!_0x36fb4c||null===_0x5b2803||0x0===_0x5b2803['length']||_0x546753&&!_0x34f0cd)_0x546753?_0x319cbc(null):(function(){_0x113736['value']!==_0x32e747&&(_0x113736['value']=_0x32e747,_0x113736['needsUpdate']=_0x16dc1c>0x0),(_0x3c6bd1['numPlanes']=_0x16dc1c,_0x3c6bd1['numIntersection']=0x0);}());else{const _0x583b7d=_0x546753?0x0:_0x16dc1c,_0x205cbe=0x4*_0x583b7d;let _0x1c8e61=_0x5eb66d['clippingState']||null;_0x113736['value']=_0x1c8e61,_0x1c8e61=_0x319cbc(_0x5b2803,_0x545caa,_0x205cbe,_0x2b0a40);for(let _0x3d65ac=0x0;_0x3d65ac!==_0x205cbe;++_0x3d65ac)_0x1c8e61[_0x3d65ac]=_0x32e747[_0x3d65ac];_0x5eb66d['clippingState']=_0x1c8e61,this['numIntersection']=_0x459812?this['numPlanes']:0x0,this['numPlanes']+=_0x583b7d;}};}function _0x1aff39(_0x1ff809){let _0x1a36ca=new WeakMap();function _0x238aca(_0x55e689,_0xd6f53e){return _0xd6f53e===_0x4e3753['wfO']?_0x55e689['mapping']=_0x4e3753['hy7']:_0xd6f53e===_0x4e3753['uV5']&&(_0x55e689['mapping']=_0x4e3753['xFO']),_0x55e689;}function _0x174f64(_0x464d05){const _0x43945b=_0x464d05['target'];_0x43945b['removeEventListener']('dispose',_0x174f64);const _0x2d0d5e=_0x1a36ca['get'](_0x43945b);void 0x0!==_0x2d0d5e&&(_0x1a36ca['delete'](_0x43945b),_0x2d0d5e['dispose']());}return{'get':function(_0x1c2c04){if(_0x1c2c04&&_0x1c2c04['isTexture']){const _0x280146=_0x1c2c04['mapping'];if(_0x280146===_0x4e3753['wfO']||_0x280146===_0x4e3753['uV5']){if(_0x1a36ca['has'](_0x1c2c04))return _0x238aca(_0x1a36ca['get'](_0x1c2c04)['texture'],_0x1c2c04['mapping']);{const _0x4bfe33=_0x1c2c04['image'];if(_0x4bfe33&&_0x4bfe33['height']>0x0){const _0x5e0894=new _0x4e3753['o6l'](_0x4bfe33['height']);return _0x5e0894['fromEquirectangularTexture'](_0x1ff809,_0x1c2c04),_0x1a36ca['set'](_0x1c2c04,_0x5e0894),_0x1c2c04['addEventListener']('dispose',_0x174f64),_0x238aca(_0x5e0894['texture'],_0x1c2c04['mapping']);}return null;}}}return _0x1c2c04;},'dispose':function(){_0x1a36ca=new WeakMap();}};}const _0x2c9c=[0.125,0.215,0.35,0.446,0.526,0.582],_0x3d0a32=0x14,_0x58dba0=new _0x4e3753['qUd'](),_0x547742=new _0x4e3753['Q1f']();let _0x481340=null,_0x2c728b=0x0,_0x5e1fe5=0x0,_0x8afb90=!0x1;const _0x9c863f=(0x1+Math['sqrt'](0x5))/0x2,_0x12d66d=0x1/_0x9c863f,_0x59e151=[new _0x4e3753['Pq0'](-_0x9c863f,_0x12d66d,0x0),new _0x4e3753['Pq0'](_0x9c863f,_0x12d66d,0x0),new _0x4e3753['Pq0'](-_0x12d66d,0x0,_0x9c863f),new _0x4e3753['Pq0'](_0x12d66d,0x0,_0x9c863f),new _0x4e3753['Pq0'](0x0,_0x9c863f,-_0x12d66d),new _0x4e3753['Pq0'](0x0,_0x9c863f,_0x12d66d),new _0x4e3753['Pq0'](-0x1,0x1,-0x1),new _0x4e3753['Pq0'](0x1,0x1,-0x1),new _0x4e3753['Pq0'](-0x1,0x1,0x1),new _0x4e3753['Pq0'](0x1,0x1,0x1)];class _0x1f7112{constructor(_0x1ff55c){this['_renderer']=_0x1ff55c,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0x25bf85,_0x55bd82=0x0,_0x4cdc9b=0.1,_0x471325=0x64){_0x481340=this['_renderer']['getRenderTarget'](),_0x2c728b=this['_renderer']['getActiveCubeFace'](),_0x5e1fe5=this['_renderer']['getActiveMipmapLevel'](),_0x8afb90=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0x48a1b3=this['_allocateTargets']();return _0x48a1b3['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0x25bf85,_0x4cdc9b,_0x471325,_0x48a1b3),_0x55bd82>0x0&&this['_blur'](_0x48a1b3,0x0,0x0,_0x55bd82),this['_applyPMREM'](_0x48a1b3),this['_cleanup'](_0x48a1b3),_0x48a1b3;}['fromEquirectangular'](_0x322959,_0x3a0889=null){return this['_fromTexture'](_0x322959,_0x3a0889);}['fromCubemap'](_0x2b05df,_0x4e37e1=null){return this['_fromTexture'](_0x2b05df,_0x4e37e1);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x1c2d67(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x253e12(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x3fea31){this['_lodMax']=Math['floor'](Math['log2'](_0x3fea31)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x110cc7=0x0;_0x110cc7<this['_lodPlanes']['length'];_0x110cc7++)this['_lodPlanes'][_0x110cc7]['dispose']();}['_cleanup'](_0x2510ef){this['_renderer']['setRenderTarget'](_0x481340,_0x2c728b,_0x5e1fe5),this['_renderer']['xr']['enabled']=_0x8afb90,_0x2510ef['scissorTest']=!0x1,_0x8cac43(_0x2510ef,0x0,0x0,_0x2510ef['width'],_0x2510ef['height']);}['_fromTexture'](_0x1f4317,_0x2c9ee8){_0x1f4317['mapping']===_0x4e3753['hy7']||_0x1f4317['mapping']===_0x4e3753['xFO']?this['_setSize'](0x0===_0x1f4317['image']['length']?0x10:_0x1f4317['image'][0x0]['width']||_0x1f4317['image'][0x0]['image']['width']):this['_setSize'](_0x1f4317['image']['width']/0x4),_0x481340=this['_renderer']['getRenderTarget'](),_0x2c728b=this['_renderer']['getActiveCubeFace'](),_0x5e1fe5=this['_renderer']['getActiveMipmapLevel'](),_0x8afb90=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0xd164e1=_0x2c9ee8||this['_allocateTargets']();return this['_textureToCubeUV'](_0x1f4317,_0xd164e1),this['_applyPMREM'](_0xd164e1),this['_cleanup'](_0xd164e1),_0xd164e1;}['_allocateTargets'](){const _0x1f9baf=0x3*Math['max'](this['_cubeSize'],0x70),_0x26273f=0x4*this['_cubeSize'],_0x41438d={'magFilter':_0x4e3753['k6q'],'minFilter':_0x4e3753['k6q'],'generateMipmaps':!0x1,'type':_0x4e3753['ix0'],'format':_0x4e3753['GWd'],'colorSpace':_0x4e3753['Zr2'],'depthBuffer':!0x1},_0x1ab822=_0x13d3f4(_0x1f9baf,_0x26273f,_0x41438d);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x1f9baf||this['_pingPongRenderTarget']['height']!==_0x26273f){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x13d3f4(_0x1f9baf,_0x26273f,_0x41438d);const {_lodMax:_0x4fb66a}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x384e57){const _0xf62646=[],_0x21c0ad=[],_0x179664=[];let _0x289c95=_0x384e57;const _0x4d7df8=_0x384e57-0x4+0x1+_0x2c9c['length'];for(let _0x5a37d9=0x0;_0x5a37d9<_0x4d7df8;_0x5a37d9++){const _0xe19e1d=Math['pow'](0x2,_0x289c95);_0x21c0ad['push'](_0xe19e1d);let _0x22b896=0x1/_0xe19e1d;_0x5a37d9>_0x384e57-0x4?_0x22b896=_0x2c9c[_0x5a37d9-_0x384e57+0x4-0x1]:0x0===_0x5a37d9&&(_0x22b896=0x0),_0x179664['push'](_0x22b896);const _0x57645b=0x1/(_0xe19e1d-0x2),_0x11e44b=-_0x57645b,_0x4a4fca=0x1+_0x57645b,_0x2e4e1d=[_0x11e44b,_0x11e44b,_0x4a4fca,_0x11e44b,_0x4a4fca,_0x4a4fca,_0x11e44b,_0x11e44b,_0x4a4fca,_0x4a4fca,_0x11e44b,_0x4a4fca],_0x224da7=0x6,_0x1b5b29=0x6,_0xa8105b=0x3,_0x4f9512=0x2,_0x2bd542=0x1,_0x3f4904=new Float32Array(_0xa8105b*_0x1b5b29*_0x224da7),_0xe240b4=new Float32Array(_0x4f9512*_0x1b5b29*_0x224da7),_0x32ce60=new Float32Array(_0x2bd542*_0x1b5b29*_0x224da7);for(let _0x1fe5b5=0x0;_0x1fe5b5<_0x224da7;_0x1fe5b5++){const _0x44cb15=_0x1fe5b5%0x3*0x2/0x3-0x1,_0x168b64=_0x1fe5b5>0x2?0x0:-0x1,_0x598391=[_0x44cb15,_0x168b64,0x0,_0x44cb15+0x2/0x3,_0x168b64,0x0,_0x44cb15+0x2/0x3,_0x168b64+0x1,0x0,_0x44cb15,_0x168b64,0x0,_0x44cb15+0x2/0x3,_0x168b64+0x1,0x0,_0x44cb15,_0x168b64+0x1,0x0];_0x3f4904['set'](_0x598391,_0xa8105b*_0x1b5b29*_0x1fe5b5),_0xe240b4['set'](_0x2e4e1d,_0x4f9512*_0x1b5b29*_0x1fe5b5);const _0x1985ae=[_0x1fe5b5,_0x1fe5b5,_0x1fe5b5,_0x1fe5b5,_0x1fe5b5,_0x1fe5b5];_0x32ce60['set'](_0x1985ae,_0x2bd542*_0x1b5b29*_0x1fe5b5);}const _0x1af73d=new _0x4e3753['LoY']();_0x1af73d['setAttribute']('position',new _0x4e3753['THS'](_0x3f4904,_0xa8105b)),_0x1af73d['setAttribute']('uv',new _0x4e3753['THS'](_0xe240b4,_0x4f9512)),_0x1af73d['setAttribute']('faceIndex',new _0x4e3753['THS'](_0x32ce60,_0x2bd542)),_0xf62646['push'](_0x1af73d),_0x289c95>0x4&&_0x289c95--;}return{'lodPlanes':_0xf62646,'sizeLods':_0x21c0ad,'sigmas':_0x179664};}(_0x4fb66a),this['_blurMaterial']=function(_0x5caf26,_0x27a6b2,_0x5bc615){const _0x42778b=new Float32Array(_0x3d0a32),_0x576f95=new _0x4e3753['Pq0'](0x0,0x1,0x0),_0x2c2f27=new _0x4e3753['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0x3d0a32,'CUBEUV_TEXEL_WIDTH':0x1/_0x27a6b2,'CUBEUV_TEXEL_HEIGHT':0x1/_0x5bc615,'CUBEUV_MAX_MIP':_0x5caf26+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0x42778b},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x576f95}},'vertexShader':_0x3028ce(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x4e3753['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0x2c2f27;}(_0x4fb66a,_0x1f9baf,_0x26273f));}return _0x1ab822;}['_compileMaterial'](_0x2b8531){const _0x4495a9=new _0x4e3753['eaF'](this['_lodPlanes'][0x0],_0x2b8531);this['_renderer']['compile'](_0x4495a9,_0x58dba0);}['_sceneToCubeUV'](_0x21349a,_0x9edde3,_0x35451b,_0x1ffd5d){const _0x21ff60=new _0x4e3753['ubm'](0x5a,0x1,_0x9edde3,_0x35451b),_0x3d3fb0=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x18f08e=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x56ac08=this['_renderer'],_0x3eb04d=_0x56ac08['autoClear'],_0x2bb06b=_0x56ac08['toneMapping'];_0x56ac08['getClearColor'](_0x547742),_0x56ac08['toneMapping']=_0x4e3753['y_p'],_0x56ac08['autoClear']=!0x1;const _0x5055d8=new _0x4e3753['V9B']({'name':'PMREM.Background','side':_0x4e3753['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x3110fa=new _0x4e3753['eaF'](new _0x4e3753['iNn'](),_0x5055d8);let _0x1bf449=!0x1;const _0x536ba8=_0x21349a['background'];_0x536ba8?_0x536ba8['isColor']&&(_0x5055d8['color']['copy'](_0x536ba8),_0x21349a['background']=null,_0x1bf449=!0x0):(_0x5055d8['color']['copy'](_0x547742),_0x1bf449=!0x0);for(let _0x79cc5=0x0;_0x79cc5<0x6;_0x79cc5++){const _0x14523c=_0x79cc5%0x3;0x0===_0x14523c?(_0x21ff60['up']['set'](0x0,_0x3d3fb0[_0x79cc5],0x0),_0x21ff60['lookAt'](_0x18f08e[_0x79cc5],0x0,0x0)):0x1===_0x14523c?(_0x21ff60['up']['set'](0x0,0x0,_0x3d3fb0[_0x79cc5]),_0x21ff60['lookAt'](0x0,_0x18f08e[_0x79cc5],0x0)):(_0x21ff60['up']['set'](0x0,_0x3d3fb0[_0x79cc5],0x0),_0x21ff60['lookAt'](0x0,0x0,_0x18f08e[_0x79cc5]));const _0x2da4c8=this['_cubeSize'];_0x8cac43(_0x1ffd5d,_0x14523c*_0x2da4c8,_0x79cc5>0x2?_0x2da4c8:0x0,_0x2da4c8,_0x2da4c8),_0x56ac08['setRenderTarget'](_0x1ffd5d),_0x1bf449&&_0x56ac08['render'](_0x3110fa,_0x21ff60),_0x56ac08['render'](_0x21349a,_0x21ff60);}_0x3110fa['geometry']['dispose'](),_0x3110fa['material']['dispose'](),_0x56ac08['toneMapping']=_0x2bb06b,_0x56ac08['autoClear']=_0x3eb04d,_0x21349a['background']=_0x536ba8;}['_textureToCubeUV'](_0x11b399,_0x1c6e5c){const _0x2ece7f=this['_renderer'],_0x138095=_0x11b399['mapping']===_0x4e3753['hy7']||_0x11b399['mapping']===_0x4e3753['xFO'];_0x138095?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x1c2d67()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0x11b399['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x253e12());const _0x125493=_0x138095?this['_cubemapMaterial']:this['_equirectMaterial'],_0x581279=new _0x4e3753['eaF'](this['_lodPlanes'][0x0],_0x125493);_0x125493['uniforms']['envMap']['value']=_0x11b399;const _0x9b6258=this['_cubeSize'];_0x8cac43(_0x1c6e5c,0x0,0x0,0x3*_0x9b6258,0x2*_0x9b6258),_0x2ece7f['setRenderTarget'](_0x1c6e5c),_0x2ece7f['render'](_0x581279,_0x58dba0);}['_applyPMREM'](_0x976024){const _0x10be60=this['_renderer'],_0x16659b=_0x10be60['autoClear'];_0x10be60['autoClear']=!0x1;const _0x55b192=this['_lodPlanes']['length'];for(let _0x2c5112=0x1;_0x2c5112<_0x55b192;_0x2c5112++){const _0xa02de2=Math['sqrt'](this['_sigmas'][_0x2c5112]*this['_sigmas'][_0x2c5112]-this['_sigmas'][_0x2c5112-0x1]*this['_sigmas'][_0x2c5112-0x1]),_0x3a5330=_0x59e151[(_0x55b192-_0x2c5112-0x1)%_0x59e151['length']];this['_blur'](_0x976024,_0x2c5112-0x1,_0x2c5112,_0xa02de2,_0x3a5330);}_0x10be60['autoClear']=_0x16659b;}['_blur'](_0x309ded,_0x4c09eb,_0xa60b2b,_0x2cd809,_0x43baa1){const _0x464d11=this['_pingPongRenderTarget'];this['_halfBlur'](_0x309ded,_0x464d11,_0x4c09eb,_0xa60b2b,_0x2cd809,'latitudinal',_0x43baa1),this['_halfBlur'](_0x464d11,_0x309ded,_0xa60b2b,_0xa60b2b,_0x2cd809,'longitudinal',_0x43baa1);}['_halfBlur'](_0x1de5e7,_0x2775b9,_0x3099eb,_0x1658a5,_0x1a7fc6,_0x391b08,_0x4c65ff){const _0x26cd67=this['_renderer'],_0xb9c7f6=this['_blurMaterial'];'latitudinal'!==_0x391b08&&'longitudinal'!==_0x391b08&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x5269bb=new _0x4e3753['eaF'](this['_lodPlanes'][_0x1658a5],_0xb9c7f6),_0x5bbc76=_0xb9c7f6['uniforms'],_0x1082ef=this['_sizeLods'][_0x3099eb]-0x1,_0x453632=isFinite(_0x1a7fc6)?Math['PI']/(0x2*_0x1082ef):0x2*Math['PI']/0x27,_0x208075=_0x1a7fc6/_0x453632,_0x236c22=isFinite(_0x1a7fc6)?0x1+Math['floor'](0x3*_0x208075):_0x3d0a32;_0x236c22>_0x3d0a32&&console['warn']('sigmaRadians,\x20'+_0x1a7fc6+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0x236c22+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x2373f9=[];let _0x43a688=0x0;for(let _0x29f185=0x0;_0x29f185<_0x3d0a32;++_0x29f185){const _0x5d9c26=_0x29f185/_0x208075,_0xa4756b=Math['exp'](-_0x5d9c26*_0x5d9c26/0x2);_0x2373f9['push'](_0xa4756b),0x0===_0x29f185?_0x43a688+=_0xa4756b:_0x29f185<_0x236c22&&(_0x43a688+=0x2*_0xa4756b);}for(let _0x682b2c=0x0;_0x682b2c<_0x2373f9['length'];_0x682b2c++)_0x2373f9[_0x682b2c]=_0x2373f9[_0x682b2c]/_0x43a688;_0x5bbc76['envMap']['value']=_0x1de5e7['texture'],_0x5bbc76['samples']['value']=_0x236c22,_0x5bbc76['weights']['value']=_0x2373f9,_0x5bbc76['latitudinal']['value']='latitudinal'===_0x391b08,_0x4c65ff&&(_0x5bbc76['poleAxis']['value']=_0x4c65ff);const {_lodMax:_0x454868}=this;_0x5bbc76['dTheta']['value']=_0x453632,_0x5bbc76['mipInt']['value']=_0x454868-_0x3099eb;const _0x15c101=this['_sizeLods'][_0x1658a5];_0x8cac43(_0x2775b9,0x3*_0x15c101*(_0x1658a5>_0x454868-0x4?_0x1658a5-_0x454868+0x4:0x0),0x4*(this['_cubeSize']-_0x15c101),0x3*_0x15c101,0x2*_0x15c101),_0x26cd67['setRenderTarget'](_0x2775b9),_0x26cd67['render'](_0x5269bb,_0x58dba0);}}function _0x13d3f4(_0x1e62f8,_0x8df3c7,_0x1e2ba2){const _0x42e400=new _0x4e3753['nWS'](_0x1e62f8,_0x8df3c7,_0x1e2ba2);return _0x42e400['texture']['mapping']=_0x4e3753['Om'],_0x42e400['texture']['name']='PMREM.cubeUv',_0x42e400['scissorTest']=!0x0,_0x42e400;}function _0x8cac43(_0x396c1f,_0x24450b,_0x22082b,_0x5b3b6c,_0x511cd1){_0x396c1f['viewport']['set'](_0x24450b,_0x22082b,_0x5b3b6c,_0x511cd1),_0x396c1f['scissor']['set'](_0x24450b,_0x22082b,_0x5b3b6c,_0x511cd1);}function _0x253e12(){return new _0x4e3753['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x3028ce(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x4e3753['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x1c2d67(){return new _0x4e3753['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x3028ce(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x4e3753['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x3028ce(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x259f3c(_0xf6f129){let _0x1439bc=new WeakMap(),_0x4b9c27=null;function _0x2dcc69(_0x3ee711){const _0x1d7221=_0x3ee711['target'];_0x1d7221['removeEventListener']('dispose',_0x2dcc69);const _0x52a698=_0x1439bc['get'](_0x1d7221);void 0x0!==_0x52a698&&(_0x1439bc['delete'](_0x1d7221),_0x52a698['dispose']());}return{'get':function(_0x53209c){if(_0x53209c&&_0x53209c['isTexture']){const _0xc00f27=_0x53209c['mapping'],_0x593137=_0xc00f27===_0x4e3753['wfO']||_0xc00f27===_0x4e3753['uV5'],_0x1b9d1b=_0xc00f27===_0x4e3753['hy7']||_0xc00f27===_0x4e3753['xFO'];if(_0x593137||_0x1b9d1b){let _0x17fc3a=_0x1439bc['get'](_0x53209c);const _0x5a472b=void 0x0!==_0x17fc3a?_0x17fc3a['texture']['pmremVersion']:0x0;if(_0x53209c['isRenderTargetTexture']&&_0x53209c['pmremVersion']!==_0x5a472b)return null===_0x4b9c27&&(_0x4b9c27=new _0x1f7112(_0xf6f129)),_0x17fc3a=_0x593137?_0x4b9c27['fromEquirectangular'](_0x53209c,_0x17fc3a):_0x4b9c27['fromCubemap'](_0x53209c,_0x17fc3a),_0x17fc3a['texture']['pmremVersion']=_0x53209c['pmremVersion'],_0x1439bc['set'](_0x53209c,_0x17fc3a),_0x17fc3a['texture'];if(void 0x0!==_0x17fc3a)return _0x17fc3a['texture'];{const _0x38eb08=_0x53209c['image'];return _0x593137&&_0x38eb08&&_0x38eb08['height']>0x0||_0x1b9d1b&&_0x38eb08&&function(_0x3ea11a){let _0x13515a=0x0;const _0x2c8fd8=0x6;for(let _0x5743b6=0x0;_0x5743b6<_0x2c8fd8;_0x5743b6++)void 0x0!==_0x3ea11a[_0x5743b6]&&_0x13515a++;return _0x13515a===_0x2c8fd8;}(_0x38eb08)?(null===_0x4b9c27&&(_0x4b9c27=new _0x1f7112(_0xf6f129)),_0x17fc3a=_0x593137?_0x4b9c27['fromEquirectangular'](_0x53209c):_0x4b9c27['fromCubemap'](_0x53209c),_0x17fc3a['texture']['pmremVersion']=_0x53209c['pmremVersion'],_0x1439bc['set'](_0x53209c,_0x17fc3a),_0x53209c['addEventListener']('dispose',_0x2dcc69),_0x17fc3a['texture']):null;}}}return _0x53209c;},'dispose':function(){_0x1439bc=new WeakMap(),null!==_0x4b9c27&&(_0x4b9c27['dispose'](),_0x4b9c27=null);}};}function _0x59d322(_0x284d0e){const _0x1e8c23={};function _0x5ec9d4(_0x25be41){if(void 0x0!==_0x1e8c23[_0x25be41])return _0x1e8c23[_0x25be41];let _0x1b74df;switch(_0x25be41){case'WEBGL_depth_texture':_0x1b74df=_0x284d0e['getExtension']('WEBGL_depth_texture')||_0x284d0e['getExtension']('MOZ_WEBGL_depth_texture')||_0x284d0e['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0x1b74df=_0x284d0e['getExtension']('EXT_texture_filter_anisotropic')||_0x284d0e['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x284d0e['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0x1b74df=_0x284d0e['getExtension']('WEBGL_compressed_texture_s3tc')||_0x284d0e['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x284d0e['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0x1b74df=_0x284d0e['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x284d0e['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0x1b74df=_0x284d0e['getExtension'](_0x25be41);}return _0x1e8c23[_0x25be41]=_0x1b74df,_0x1b74df;}return{'has':function(_0x447087){return null!==_0x5ec9d4(_0x447087);},'init':function(){_0x5ec9d4('EXT_color_buffer_float'),_0x5ec9d4('WEBGL_clip_cull_distance'),_0x5ec9d4('OES_texture_float_linear'),_0x5ec9d4('EXT_color_buffer_half_float'),_0x5ec9d4('WEBGL_multisampled_render_to_texture'),_0x5ec9d4('WEBGL_render_shared_exponent');},'get':function(_0x2a158a){const _0x2df052=_0x5ec9d4(_0x2a158a);return null===_0x2df052&&(0x0,_0x4e3753['mcG'])('THREE.WebGLRenderer:\x20'+_0x2a158a+'\x20extension\x20not\x20supported.'),_0x2df052;}};}function _0x17ed1e(_0xa7cf38,_0x135b07,_0x1e65bd,_0x3d4a2f){const _0xb64463={},_0x79f32=new WeakMap();function _0x3ff203(_0x38886e){const _0x3b48ec=_0x38886e['target'];null!==_0x3b48ec['index']&&_0x135b07['remove'](_0x3b48ec['index']);for(const _0x1876ba in _0x3b48ec['attributes'])_0x135b07['remove'](_0x3b48ec['attributes'][_0x1876ba]);_0x3b48ec['removeEventListener']('dispose',_0x3ff203),delete _0xb64463[_0x3b48ec['id']];const _0x30d75e=_0x79f32['get'](_0x3b48ec);_0x30d75e&&(_0x135b07['remove'](_0x30d75e),_0x79f32['delete'](_0x3b48ec)),_0x3d4a2f['releaseStatesOfGeometry'](_0x3b48ec),!0x0===_0x3b48ec['isInstancedBufferGeometry']&&delete _0x3b48ec['_maxInstanceCount'],_0x1e65bd['memory']['geometries']--;}function _0x275e16(_0x1d0874){const _0x230252=[],_0x1031bb=_0x1d0874['index'],_0x1321fb=_0x1d0874['attributes']['position'];let _0x1cedba=0x0;if(null!==_0x1031bb){const _0x336491=_0x1031bb['array'];_0x1cedba=_0x1031bb['version'];for(let _0x1199ac=0x0,_0x56af51=_0x336491['length'];_0x1199ac<_0x56af51;_0x1199ac+=0x3){const _0x461e95=_0x336491[_0x1199ac+0x0],_0x233420=_0x336491[_0x1199ac+0x1],_0x993cc2=_0x336491[_0x1199ac+0x2];_0x230252['push'](_0x461e95,_0x233420,_0x233420,_0x993cc2,_0x993cc2,_0x461e95);}}else{if(void 0x0===_0x1321fb)return;{const _0xc0766d=_0x1321fb['array'];_0x1cedba=_0x1321fb['version'];for(let _0x10291e=0x0,_0x186c87=_0xc0766d['length']/0x3-0x1;_0x10291e<_0x186c87;_0x10291e+=0x3){const _0x283ed5=_0x10291e+0x0,_0x1cebfa=_0x10291e+0x1,_0x490d69=_0x10291e+0x2;_0x230252['push'](_0x283ed5,_0x1cebfa,_0x1cebfa,_0x490d69,_0x490d69,_0x283ed5);}}}const _0x187697=new(((0x0,_0x4e3753['AQS'])(_0x230252))?_0x4e3753['MW4']:_0x4e3753['A$4'])(_0x230252,0x1);_0x187697['version']=_0x1cedba;const _0x443043=_0x79f32['get'](_0x1d0874);_0x443043&&_0x135b07['remove'](_0x443043),_0x79f32['set'](_0x1d0874,_0x187697);}return{'get':function(_0x262c2c,_0x8abbe9){return!0x0===_0xb64463[_0x8abbe9['id']]||(_0x8abbe9['addEventListener']('dispose',_0x3ff203),_0xb64463[_0x8abbe9['id']]=!0x0,_0x1e65bd['memory']['geometries']++),_0x8abbe9;},'update':function(_0x39a52b){const _0x4eb9f7=_0x39a52b['attributes'];for(const _0x4e73da in _0x4eb9f7)_0x135b07['update'](_0x4eb9f7[_0x4e73da],_0xa7cf38['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0xc00d7){const _0x3df2c7=_0x79f32['get'](_0xc00d7);if(_0x3df2c7){const _0x4db043=_0xc00d7['index'];null!==_0x4db043&&_0x3df2c7['version']<_0x4db043['version']&&_0x275e16(_0xc00d7);}else _0x275e16(_0xc00d7);return _0x79f32['get'](_0xc00d7);}};}function _0x231e6f(_0x488bae,_0x3e22cd,_0x5c211c){let _0x225720,_0xb70bc6,_0x28223f;function _0xb71865(_0x15c227,_0x11c266,_0x1b9468){0x0!==_0x1b9468&&(_0x488bae['drawElementsInstanced'](_0x225720,_0x11c266,_0xb70bc6,_0x15c227*_0x28223f,_0x1b9468),_0x5c211c['update'](_0x11c266,_0x225720,_0x1b9468));}this['setMode']=function(_0x47443c){_0x225720=_0x47443c;},this['setIndex']=function(_0x147ab2){_0xb70bc6=_0x147ab2['type'],_0x28223f=_0x147ab2['bytesPerElement'];},this['render']=function(_0x2994e3,_0x2c77ab){_0x488bae['drawElements'](_0x225720,_0x2c77ab,_0xb70bc6,_0x2994e3*_0x28223f),_0x5c211c['update'](_0x2c77ab,_0x225720,0x1);},this['renderInstances']=_0xb71865,this['renderMultiDraw']=function(_0x5831a6,_0x806a0f,_0x213139){if(0x0===_0x213139)return;_0x3e22cd['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0x225720,_0x806a0f,0x0,_0xb70bc6,_0x5831a6,0x0,_0x213139);let _0x595aaf=0x0;for(let _0x1065b4=0x0;_0x1065b4<_0x213139;_0x1065b4++)_0x595aaf+=_0x806a0f[_0x1065b4];_0x5c211c['update'](_0x595aaf,_0x225720,0x1);},this['renderMultiDrawInstances']=function(_0x3ee194,_0x35b73e,_0x31394e,_0x2188b1){if(0x0===_0x31394e)return;const _0xe0f2d4=_0x3e22cd['get']('WEBGL_multi_draw');if(null===_0xe0f2d4){for(let _0x233d4a=0x0;_0x233d4a<_0x3ee194['length'];_0x233d4a++)_0xb71865(_0x3ee194[_0x233d4a]/_0x28223f,_0x35b73e[_0x233d4a],_0x2188b1[_0x233d4a]);}else{_0xe0f2d4['multiDrawElementsInstancedWEBGL'](_0x225720,_0x35b73e,0x0,_0xb70bc6,_0x3ee194,0x0,_0x2188b1,0x0,_0x31394e);let _0xffd14c=0x0;for(let _0xe80200=0x0;_0xe80200<_0x31394e;_0xe80200++)_0xffd14c+=_0x35b73e[_0xe80200]*_0x2188b1[_0xe80200];_0x5c211c['update'](_0xffd14c,_0x225720,0x1);}};}function _0x264b84(_0x443317){const _0x365910={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x365910,'programs':null,'autoReset':!0x0,'reset':function(){_0x365910['calls']=0x0,_0x365910['triangles']=0x0,_0x365910['points']=0x0,_0x365910['lines']=0x0;},'update':function(_0x420689,_0x3b3745,_0x329591){switch(_0x365910['calls']++,_0x3b3745){case _0x443317['TRIANGLES']:_0x365910['triangles']+=_0x329591*(_0x420689/0x3);break;case _0x443317['LINES']:_0x365910['lines']+=_0x329591*(_0x420689/0x2);break;case _0x443317['LINE_STRIP']:_0x365910['lines']+=_0x329591*(_0x420689-0x1);break;case _0x443317['LINE_LOOP']:_0x365910['lines']+=_0x329591*_0x420689;break;case _0x443317['POINTS']:_0x365910['points']+=_0x329591*_0x420689;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x3b3745);}}};}function _0x502cd0(_0x53f3f8,_0x327ee9,_0x58052a){const _0x1e540a=new WeakMap(),_0x245e04=new _0x4e3753['IUQ']();return{'update':function(_0x474348,_0x134fde,_0x2aaa58){const _0x875346=_0x474348['morphTargetInfluences'],_0x52ba3a=_0x134fde['morphAttributes']['position']||_0x134fde['morphAttributes']['normal']||_0x134fde['morphAttributes']['color'],_0x23320b=void 0x0!==_0x52ba3a?_0x52ba3a['length']:0x0;let _0x1285ab=_0x1e540a['get'](_0x134fde);if(void 0x0===_0x1285ab||_0x1285ab['count']!==_0x23320b){void 0x0!==_0x1285ab&&_0x1285ab['texture']['dispose']();const _0x373dbc=void 0x0!==_0x134fde['morphAttributes']['position'],_0xb58346=void 0x0!==_0x134fde['morphAttributes']['normal'],_0x23a0f9=void 0x0!==_0x134fde['morphAttributes']['color'],_0x1129a6=_0x134fde['morphAttributes']['position']||[],_0x2af2db=_0x134fde['morphAttributes']['normal']||[],_0x427e55=_0x134fde['morphAttributes']['color']||[];let _0x1b136a=0x0;!0x0===_0x373dbc&&(_0x1b136a=0x1),!0x0===_0xb58346&&(_0x1b136a=0x2),!0x0===_0x23a0f9&&(_0x1b136a=0x3);let _0x16071b=_0x134fde['attributes']['position']['count']*_0x1b136a,_0x24c201=0x1;_0x16071b>_0x327ee9['maxTextureSize']&&(_0x24c201=Math['ceil'](_0x16071b/_0x327ee9['maxTextureSize']),_0x16071b=_0x327ee9['maxTextureSize']);const _0x2ebe2e=new Float32Array(_0x16071b*_0x24c201*0x4*_0x23320b),_0x32d213=new _0x4e3753['rFo'](_0x2ebe2e,_0x16071b,_0x24c201,_0x23320b);_0x32d213['type']=_0x4e3753['RQf'],_0x32d213['needsUpdate']=!0x0;const _0x5ba2f7=0x4*_0x1b136a;for(let _0x2381f5=0x0;_0x2381f5<_0x23320b;_0x2381f5++){const _0x4e4af9=_0x1129a6[_0x2381f5],_0x3da5ba=_0x2af2db[_0x2381f5],_0x3d8f0b=_0x427e55[_0x2381f5],_0x176213=_0x16071b*_0x24c201*0x4*_0x2381f5;for(let _0x270ff0=0x0;_0x270ff0<_0x4e4af9['count'];_0x270ff0++){const _0xc88956=_0x270ff0*_0x5ba2f7;!0x0===_0x373dbc&&(_0x245e04['fromBufferAttribute'](_0x4e4af9,_0x270ff0),_0x2ebe2e[_0x176213+_0xc88956+0x0]=_0x245e04['x'],_0x2ebe2e[_0x176213+_0xc88956+0x1]=_0x245e04['y'],_0x2ebe2e[_0x176213+_0xc88956+0x2]=_0x245e04['z'],_0x2ebe2e[_0x176213+_0xc88956+0x3]=0x0),!0x0===_0xb58346&&(_0x245e04['fromBufferAttribute'](_0x3da5ba,_0x270ff0),_0x2ebe2e[_0x176213+_0xc88956+0x4]=_0x245e04['x'],_0x2ebe2e[_0x176213+_0xc88956+0x5]=_0x245e04['y'],_0x2ebe2e[_0x176213+_0xc88956+0x6]=_0x245e04['z'],_0x2ebe2e[_0x176213+_0xc88956+0x7]=0x0),!0x0===_0x23a0f9&&(_0x245e04['fromBufferAttribute'](_0x3d8f0b,_0x270ff0),_0x2ebe2e[_0x176213+_0xc88956+0x8]=_0x245e04['x'],_0x2ebe2e[_0x176213+_0xc88956+0x9]=_0x245e04['y'],_0x2ebe2e[_0x176213+_0xc88956+0xa]=_0x245e04['z'],_0x2ebe2e[_0x176213+_0xc88956+0xb]=0x4===_0x3d8f0b['itemSize']?_0x245e04['w']:0x1);}}function _0x2876ab(){_0x32d213['dispose'](),_0x1e540a['delete'](_0x134fde),_0x134fde['removeEventListener']('dispose',_0x2876ab);}_0x1285ab={'count':_0x23320b,'texture':_0x32d213,'size':new _0x4e3753['I9Y'](_0x16071b,_0x24c201)},_0x1e540a['set'](_0x134fde,_0x1285ab),_0x134fde['addEventListener']('dispose',_0x2876ab);}if(!0x0===_0x474348['isInstancedMesh']&&null!==_0x474348['morphTexture'])_0x2aaa58['getUniforms']()['setValue'](_0x53f3f8,'morphTexture',_0x474348['morphTexture'],_0x58052a);else{let _0x85d325=0x0;for(let _0x3ab35b=0x0;_0x3ab35b<_0x875346['length'];_0x3ab35b++)_0x85d325+=_0x875346[_0x3ab35b];const _0x552671=_0x134fde['morphTargetsRelative']?0x1:0x1-_0x85d325;_0x2aaa58['getUniforms']()['setValue'](_0x53f3f8,'morphTargetBaseInfluence',_0x552671),_0x2aaa58['getUniforms']()['setValue'](_0x53f3f8,'morphTargetInfluences',_0x875346);}_0x2aaa58['getUniforms']()['setValue'](_0x53f3f8,'morphTargetsTexture',_0x1285ab['texture'],_0x58052a),_0x2aaa58['getUniforms']()['setValue'](_0x53f3f8,'morphTargetsTextureSize',_0x1285ab['size']);}};}function _0x32d935(_0x261405,_0x3248f9,_0x1e3b40,_0xc5fca7){let _0x4c800e=new WeakMap();function _0x8d5952(_0x10aff3){const _0x425ae7=_0x10aff3['target'];_0x425ae7['removeEventListener']('dispose',_0x8d5952),_0x1e3b40['remove'](_0x425ae7['instanceMatrix']),null!==_0x425ae7['instanceColor']&&_0x1e3b40['remove'](_0x425ae7['instanceColor']);}return{'update':function(_0x589a25){const _0x1a3c6b=_0xc5fca7['render']['frame'],_0x460914=_0x589a25['geometry'],_0x5a6927=_0x3248f9['get'](_0x589a25,_0x460914);if(_0x4c800e['get'](_0x5a6927)!==_0x1a3c6b&&(_0x3248f9['update'](_0x5a6927),_0x4c800e['set'](_0x5a6927,_0x1a3c6b)),_0x589a25['isInstancedMesh']&&(!0x1===_0x589a25['hasEventListener']('dispose',_0x8d5952)&&_0x589a25['addEventListener']('dispose',_0x8d5952),_0x4c800e['get'](_0x589a25)!==_0x1a3c6b&&(_0x1e3b40['update'](_0x589a25['instanceMatrix'],_0x261405['ARRAY_BUFFER']),null!==_0x589a25['instanceColor']&&_0x1e3b40['update'](_0x589a25['instanceColor'],_0x261405['ARRAY_BUFFER']),_0x4c800e['set'](_0x589a25,_0x1a3c6b))),_0x589a25['isSkinnedMesh']){const _0x5cbcdc=_0x589a25['skeleton'];_0x4c800e['get'](_0x5cbcdc)!==_0x1a3c6b&&(_0x5cbcdc['update'](),_0x4c800e['set'](_0x5cbcdc,_0x1a3c6b));}return _0x5a6927;},'dispose':function(){_0x4c800e=new WeakMap();}};}const _0x485f21=new _0x4e3753['gPd'](),_0x5c7f92=new _0x4e3753['VCu'](0x1,0x1),_0x14ed03=new _0x4e3753['rFo'](),_0x3201d8=new _0x4e3753['dYF'](),_0x31c51d=new _0x4e3753['b4q'](),_0x41826d=[],_0x3184b6=[],_0x16f596=new Float32Array(0x10),_0x4c6480=new Float32Array(0x9),_0x4b23db=new Float32Array(0x4);function _0x59eb85(_0x4f3a44,_0x208f8e,_0x4d124c){const _0x2b639f=_0x4f3a44[0x0];if(_0x2b639f<=0x0||_0x2b639f>0x0)return _0x4f3a44;const _0x7e4152=_0x208f8e*_0x4d124c;let _0x13b5d8=_0x41826d[_0x7e4152];if(void 0x0===_0x13b5d8&&(_0x13b5d8=new Float32Array(_0x7e4152),_0x41826d[_0x7e4152]=_0x13b5d8),0x0!==_0x208f8e){_0x2b639f['toArray'](_0x13b5d8,0x0);for(let _0x833777=0x1,_0x227f16=0x0;_0x833777!==_0x208f8e;++_0x833777)_0x227f16+=_0x4d124c,_0x4f3a44[_0x833777]['toArray'](_0x13b5d8,_0x227f16);}return _0x13b5d8;}function _0x387946(_0x437cc4,_0x39b729){if(_0x437cc4['length']!==_0x39b729['length'])return!0x1;for(let _0x2f800b=0x0,_0x8e2273=_0x437cc4['length'];_0x2f800b<_0x8e2273;_0x2f800b++)if(_0x437cc4[_0x2f800b]!==_0x39b729[_0x2f800b])return!0x1;return!0x0;}function _0x37fed5(_0x576254,_0x21fe00){for(let _0x2ced5c=0x0,_0x5e6758=_0x21fe00['length'];_0x2ced5c<_0x5e6758;_0x2ced5c++)_0x576254[_0x2ced5c]=_0x21fe00[_0x2ced5c];}function _0x315a3e(_0xdb0073,_0xf54f15){let _0x16617a=_0x3184b6[_0xf54f15];void 0x0===_0x16617a&&(_0x16617a=new Int32Array(_0xf54f15),_0x3184b6[_0xf54f15]=_0x16617a);for(let _0x2a8330=0x0;_0x2a8330!==_0xf54f15;++_0x2a8330)_0x16617a[_0x2a8330]=_0xdb0073['allocateTextureUnit']();return _0x16617a;}function _0x173fd6(_0x339fb5,_0x33a315){const _0x44be83=this['cache'];_0x44be83[0x0]!==_0x33a315&&(_0x339fb5['uniform1f'](this['addr'],_0x33a315),_0x44be83[0x0]=_0x33a315);}function _0x46b7df(_0x521c78,_0x2f19f2){const _0x199edb=this['cache'];if(void 0x0!==_0x2f19f2['x'])_0x199edb[0x0]===_0x2f19f2['x']&&_0x199edb[0x1]===_0x2f19f2['y']||(_0x521c78['uniform2f'](this['addr'],_0x2f19f2['x'],_0x2f19f2['y']),_0x199edb[0x0]=_0x2f19f2['x'],_0x199edb[0x1]=_0x2f19f2['y']);else{if(_0x387946(_0x199edb,_0x2f19f2))return;_0x521c78['uniform2fv'](this['addr'],_0x2f19f2),_0x37fed5(_0x199edb,_0x2f19f2);}}function _0x494ec0(_0x58bad9,_0x129cd8){const _0x5db481=this['cache'];if(void 0x0!==_0x129cd8['x'])_0x5db481[0x0]===_0x129cd8['x']&&_0x5db481[0x1]===_0x129cd8['y']&&_0x5db481[0x2]===_0x129cd8['z']||(_0x58bad9['uniform3f'](this['addr'],_0x129cd8['x'],_0x129cd8['y'],_0x129cd8['z']),_0x5db481[0x0]=_0x129cd8['x'],_0x5db481[0x1]=_0x129cd8['y'],_0x5db481[0x2]=_0x129cd8['z']);else{if(void 0x0!==_0x129cd8['r'])_0x5db481[0x0]===_0x129cd8['r']&&_0x5db481[0x1]===_0x129cd8['g']&&_0x5db481[0x2]===_0x129cd8['b']||(_0x58bad9['uniform3f'](this['addr'],_0x129cd8['r'],_0x129cd8['g'],_0x129cd8['b']),_0x5db481[0x0]=_0x129cd8['r'],_0x5db481[0x1]=_0x129cd8['g'],_0x5db481[0x2]=_0x129cd8['b']);else{if(_0x387946(_0x5db481,_0x129cd8))return;_0x58bad9['uniform3fv'](this['addr'],_0x129cd8),_0x37fed5(_0x5db481,_0x129cd8);}}}function _0x1b0749(_0x1611c3,_0x94e239){const _0x20b10b=this['cache'];if(void 0x0!==_0x94e239['x'])_0x20b10b[0x0]===_0x94e239['x']&&_0x20b10b[0x1]===_0x94e239['y']&&_0x20b10b[0x2]===_0x94e239['z']&&_0x20b10b[0x3]===_0x94e239['w']||(_0x1611c3['uniform4f'](this['addr'],_0x94e239['x'],_0x94e239['y'],_0x94e239['z'],_0x94e239['w']),_0x20b10b[0x0]=_0x94e239['x'],_0x20b10b[0x1]=_0x94e239['y'],_0x20b10b[0x2]=_0x94e239['z'],_0x20b10b[0x3]=_0x94e239['w']);else{if(_0x387946(_0x20b10b,_0x94e239))return;_0x1611c3['uniform4fv'](this['addr'],_0x94e239),_0x37fed5(_0x20b10b,_0x94e239);}}function _0x450dc2(_0x2d93c4,_0x58197c){const _0xd48105=this['cache'],_0x214c00=_0x58197c['elements'];if(void 0x0===_0x214c00){if(_0x387946(_0xd48105,_0x58197c))return;_0x2d93c4['uniformMatrix2fv'](this['addr'],!0x1,_0x58197c),_0x37fed5(_0xd48105,_0x58197c);}else{if(_0x387946(_0xd48105,_0x214c00))return;_0x4b23db['set'](_0x214c00),_0x2d93c4['uniformMatrix2fv'](this['addr'],!0x1,_0x4b23db),_0x37fed5(_0xd48105,_0x214c00);}}function _0x4e4b76(_0x4af73e,_0x416354){const _0x3d2a4d=this['cache'],_0x45c43f=_0x416354['elements'];if(void 0x0===_0x45c43f){if(_0x387946(_0x3d2a4d,_0x416354))return;_0x4af73e['uniformMatrix3fv'](this['addr'],!0x1,_0x416354),_0x37fed5(_0x3d2a4d,_0x416354);}else{if(_0x387946(_0x3d2a4d,_0x45c43f))return;_0x4c6480['set'](_0x45c43f),_0x4af73e['uniformMatrix3fv'](this['addr'],!0x1,_0x4c6480),_0x37fed5(_0x3d2a4d,_0x45c43f);}}function _0x1cf80b(_0x3278cc,_0x476e83){const _0x3691a3=this['cache'],_0x284caf=_0x476e83['elements'];if(void 0x0===_0x284caf){if(_0x387946(_0x3691a3,_0x476e83))return;_0x3278cc['uniformMatrix4fv'](this['addr'],!0x1,_0x476e83),_0x37fed5(_0x3691a3,_0x476e83);}else{if(_0x387946(_0x3691a3,_0x284caf))return;_0x16f596['set'](_0x284caf),_0x3278cc['uniformMatrix4fv'](this['addr'],!0x1,_0x16f596),_0x37fed5(_0x3691a3,_0x284caf);}}function _0x4d7784(_0x31e335,_0x336df6){const _0x5c9759=this['cache'];_0x5c9759[0x0]!==_0x336df6&&(_0x31e335['uniform1i'](this['addr'],_0x336df6),_0x5c9759[0x0]=_0x336df6);}function _0x459a55(_0x1aba97,_0x13113d){const _0x5e4ccf=this['cache'];if(void 0x0!==_0x13113d['x'])_0x5e4ccf[0x0]===_0x13113d['x']&&_0x5e4ccf[0x1]===_0x13113d['y']||(_0x1aba97['uniform2i'](this['addr'],_0x13113d['x'],_0x13113d['y']),_0x5e4ccf[0x0]=_0x13113d['x'],_0x5e4ccf[0x1]=_0x13113d['y']);else{if(_0x387946(_0x5e4ccf,_0x13113d))return;_0x1aba97['uniform2iv'](this['addr'],_0x13113d),_0x37fed5(_0x5e4ccf,_0x13113d);}}function _0x39a277(_0xff9894,_0x25aac0){const _0x314311=this['cache'];if(void 0x0!==_0x25aac0['x'])_0x314311[0x0]===_0x25aac0['x']&&_0x314311[0x1]===_0x25aac0['y']&&_0x314311[0x2]===_0x25aac0['z']||(_0xff9894['uniform3i'](this['addr'],_0x25aac0['x'],_0x25aac0['y'],_0x25aac0['z']),_0x314311[0x0]=_0x25aac0['x'],_0x314311[0x1]=_0x25aac0['y'],_0x314311[0x2]=_0x25aac0['z']);else{if(_0x387946(_0x314311,_0x25aac0))return;_0xff9894['uniform3iv'](this['addr'],_0x25aac0),_0x37fed5(_0x314311,_0x25aac0);}}function _0x48a467(_0x2aa9d4,_0x29a8c9){const _0x3b0dc9=this['cache'];if(void 0x0!==_0x29a8c9['x'])_0x3b0dc9[0x0]===_0x29a8c9['x']&&_0x3b0dc9[0x1]===_0x29a8c9['y']&&_0x3b0dc9[0x2]===_0x29a8c9['z']&&_0x3b0dc9[0x3]===_0x29a8c9['w']||(_0x2aa9d4['uniform4i'](this['addr'],_0x29a8c9['x'],_0x29a8c9['y'],_0x29a8c9['z'],_0x29a8c9['w']),_0x3b0dc9[0x0]=_0x29a8c9['x'],_0x3b0dc9[0x1]=_0x29a8c9['y'],_0x3b0dc9[0x2]=_0x29a8c9['z'],_0x3b0dc9[0x3]=_0x29a8c9['w']);else{if(_0x387946(_0x3b0dc9,_0x29a8c9))return;_0x2aa9d4['uniform4iv'](this['addr'],_0x29a8c9),_0x37fed5(_0x3b0dc9,_0x29a8c9);}}function _0xe2553a(_0xafdf5e,_0x1a4104){const _0x42e1e7=this['cache'];_0x42e1e7[0x0]!==_0x1a4104&&(_0xafdf5e['uniform1ui'](this['addr'],_0x1a4104),_0x42e1e7[0x0]=_0x1a4104);}function _0x4259f7(_0x12ea47,_0x3dd9f3){const _0x317196=this['cache'];if(void 0x0!==_0x3dd9f3['x'])_0x317196[0x0]===_0x3dd9f3['x']&&_0x317196[0x1]===_0x3dd9f3['y']||(_0x12ea47['uniform2ui'](this['addr'],_0x3dd9f3['x'],_0x3dd9f3['y']),_0x317196[0x0]=_0x3dd9f3['x'],_0x317196[0x1]=_0x3dd9f3['y']);else{if(_0x387946(_0x317196,_0x3dd9f3))return;_0x12ea47['uniform2uiv'](this['addr'],_0x3dd9f3),_0x37fed5(_0x317196,_0x3dd9f3);}}function _0x4e4381(_0x13aaf7,_0x16a4ab){const _0x3afb64=this['cache'];if(void 0x0!==_0x16a4ab['x'])_0x3afb64[0x0]===_0x16a4ab['x']&&_0x3afb64[0x1]===_0x16a4ab['y']&&_0x3afb64[0x2]===_0x16a4ab['z']||(_0x13aaf7['uniform3ui'](this['addr'],_0x16a4ab['x'],_0x16a4ab['y'],_0x16a4ab['z']),_0x3afb64[0x0]=_0x16a4ab['x'],_0x3afb64[0x1]=_0x16a4ab['y'],_0x3afb64[0x2]=_0x16a4ab['z']);else{if(_0x387946(_0x3afb64,_0x16a4ab))return;_0x13aaf7['uniform3uiv'](this['addr'],_0x16a4ab),_0x37fed5(_0x3afb64,_0x16a4ab);}}function _0x1c6c14(_0x3314ae,_0x5f4c67){const _0x104815=this['cache'];if(void 0x0!==_0x5f4c67['x'])_0x104815[0x0]===_0x5f4c67['x']&&_0x104815[0x1]===_0x5f4c67['y']&&_0x104815[0x2]===_0x5f4c67['z']&&_0x104815[0x3]===_0x5f4c67['w']||(_0x3314ae['uniform4ui'](this['addr'],_0x5f4c67['x'],_0x5f4c67['y'],_0x5f4c67['z'],_0x5f4c67['w']),_0x104815[0x0]=_0x5f4c67['x'],_0x104815[0x1]=_0x5f4c67['y'],_0x104815[0x2]=_0x5f4c67['z'],_0x104815[0x3]=_0x5f4c67['w']);else{if(_0x387946(_0x104815,_0x5f4c67))return;_0x3314ae['uniform4uiv'](this['addr'],_0x5f4c67),_0x37fed5(_0x104815,_0x5f4c67);}}function _0x1b7586(_0x175644,_0x4e03b5,_0x3d7a04){const _0x1424b6=this['cache'],_0xcfecb2=_0x3d7a04['allocateTextureUnit']();let _0x48da92;_0x1424b6[0x0]!==_0xcfecb2&&(_0x175644['uniform1i'](this['addr'],_0xcfecb2),_0x1424b6[0x0]=_0xcfecb2),this['type']===_0x175644['SAMPLER_2D_SHADOW']?(_0x5c7f92['compareFunction']=_0x4e3753['TiK'],_0x48da92=_0x5c7f92):_0x48da92=_0x485f21,_0x3d7a04['setTexture2D'](_0x4e03b5||_0x48da92,_0xcfecb2);}function _0x1052d6(_0x431839,_0x4998b4,_0x23cb47){const _0x2e0833=this['cache'],_0x54626c=_0x23cb47['allocateTextureUnit']();_0x2e0833[0x0]!==_0x54626c&&(_0x431839['uniform1i'](this['addr'],_0x54626c),_0x2e0833[0x0]=_0x54626c),_0x23cb47['setTexture3D'](_0x4998b4||_0x3201d8,_0x54626c);}function _0x26f784(_0x3990c7,_0x361b1c,_0x1eb084){const _0x4de2a0=this['cache'],_0x4eba6a=_0x1eb084['allocateTextureUnit']();_0x4de2a0[0x0]!==_0x4eba6a&&(_0x3990c7['uniform1i'](this['addr'],_0x4eba6a),_0x4de2a0[0x0]=_0x4eba6a),_0x1eb084['setTextureCube'](_0x361b1c||_0x31c51d,_0x4eba6a);}function _0x5123a8(_0x21f0d8,_0x354bf0,_0x3bb402){const _0x59f247=this['cache'],_0x539997=_0x3bb402['allocateTextureUnit']();_0x59f247[0x0]!==_0x539997&&(_0x21f0d8['uniform1i'](this['addr'],_0x539997),_0x59f247[0x0]=_0x539997),_0x3bb402['setTexture2DArray'](_0x354bf0||_0x14ed03,_0x539997);}function _0x1f9c12(_0x33e5f8,_0x42217f){_0x33e5f8['uniform1fv'](this['addr'],_0x42217f);}function _0x3c9f46(_0x5600f7,_0x5e2415){const _0x31fb1f=_0x59eb85(_0x5e2415,this['size'],0x2);_0x5600f7['uniform2fv'](this['addr'],_0x31fb1f);}function _0x28af48(_0x38e074,_0x18aeda){const _0x57d42b=_0x59eb85(_0x18aeda,this['size'],0x3);_0x38e074['uniform3fv'](this['addr'],_0x57d42b);}function _0x336575(_0xc9a9f1,_0x317feb){const _0x41decf=_0x59eb85(_0x317feb,this['size'],0x4);_0xc9a9f1['uniform4fv'](this['addr'],_0x41decf);}function _0x2f83cf(_0x15938a,_0x54df0d){const _0xc04b05=_0x59eb85(_0x54df0d,this['size'],0x4);_0x15938a['uniformMatrix2fv'](this['addr'],!0x1,_0xc04b05);}function _0x370c09(_0x186c6c,_0x48c1d8){const _0x2d1e8a=_0x59eb85(_0x48c1d8,this['size'],0x9);_0x186c6c['uniformMatrix3fv'](this['addr'],!0x1,_0x2d1e8a);}function _0x22e135(_0xf14359,_0x5a3ece){const _0x5012c7=_0x59eb85(_0x5a3ece,this['size'],0x10);_0xf14359['uniformMatrix4fv'](this['addr'],!0x1,_0x5012c7);}function _0x53194d(_0x7ad388,_0x8df08f){_0x7ad388['uniform1iv'](this['addr'],_0x8df08f);}function _0x16465b(_0x288fe1,_0x2a5c77){_0x288fe1['uniform2iv'](this['addr'],_0x2a5c77);}function _0x50e67b(_0x12c6bb,_0x5aa464){_0x12c6bb['uniform3iv'](this['addr'],_0x5aa464);}function _0x4d748e(_0xffbea8,_0x1ce045){_0xffbea8['uniform4iv'](this['addr'],_0x1ce045);}function _0x290bf8(_0x19b9a1,_0x150e8b){_0x19b9a1['uniform1uiv'](this['addr'],_0x150e8b);}function _0x4bca8f(_0x4fa632,_0x317ef3){_0x4fa632['uniform2uiv'](this['addr'],_0x317ef3);}function _0x1ae18c(_0x2119ab,_0x1f62a4){_0x2119ab['uniform3uiv'](this['addr'],_0x1f62a4);}function _0x13d8e2(_0x213cc4,_0x30d2bf){_0x213cc4['uniform4uiv'](this['addr'],_0x30d2bf);}function _0x3df34e(_0x1ea483,_0xa7ae09,_0x27f6af){const _0x2e5336=this['cache'],_0x4092a9=_0xa7ae09['length'],_0x849ab=_0x315a3e(_0x27f6af,_0x4092a9);_0x387946(_0x2e5336,_0x849ab)||(_0x1ea483['uniform1iv'](this['addr'],_0x849ab),_0x37fed5(_0x2e5336,_0x849ab));for(let _0x2c92be=0x0;_0x2c92be!==_0x4092a9;++_0x2c92be)_0x27f6af['setTexture2D'](_0xa7ae09[_0x2c92be]||_0x485f21,_0x849ab[_0x2c92be]);}function _0x217b89(_0x24a630,_0x52ae89,_0x51b385){const _0x161665=this['cache'],_0x4c6c8e=_0x52ae89['length'],_0x1e9121=_0x315a3e(_0x51b385,_0x4c6c8e);_0x387946(_0x161665,_0x1e9121)||(_0x24a630['uniform1iv'](this['addr'],_0x1e9121),_0x37fed5(_0x161665,_0x1e9121));for(let _0x3267c0=0x0;_0x3267c0!==_0x4c6c8e;++_0x3267c0)_0x51b385['setTexture3D'](_0x52ae89[_0x3267c0]||_0x3201d8,_0x1e9121[_0x3267c0]);}function _0x2449c3(_0x52a2ef,_0x3c7905,_0x22e9c7){const _0x17782d=this['cache'],_0xbdbce3=_0x3c7905['length'],_0x3c476c=_0x315a3e(_0x22e9c7,_0xbdbce3);_0x387946(_0x17782d,_0x3c476c)||(_0x52a2ef['uniform1iv'](this['addr'],_0x3c476c),_0x37fed5(_0x17782d,_0x3c476c));for(let _0x399b23=0x0;_0x399b23!==_0xbdbce3;++_0x399b23)_0x22e9c7['setTextureCube'](_0x3c7905[_0x399b23]||_0x31c51d,_0x3c476c[_0x399b23]);}function _0x5d5126(_0x36404d,_0x4a51e1,_0x166f30){const _0x5a4cee=this['cache'],_0x4e8225=_0x4a51e1['length'],_0x2c0f81=_0x315a3e(_0x166f30,_0x4e8225);_0x387946(_0x5a4cee,_0x2c0f81)||(_0x36404d['uniform1iv'](this['addr'],_0x2c0f81),_0x37fed5(_0x5a4cee,_0x2c0f81));for(let _0x46e536=0x0;_0x46e536!==_0x4e8225;++_0x46e536)_0x166f30['setTexture2DArray'](_0x4a51e1[_0x46e536]||_0x14ed03,_0x2c0f81[_0x46e536]);}class _0xca5715{constructor(_0x22958e,_0x2b0593,_0x2aa9f7){this['id']=_0x22958e,this['addr']=_0x2aa9f7,this['cache']=[],this['type']=_0x2b0593['type'],this['setValue']=function(_0x4f27e9){switch(_0x4f27e9){case 0x1406:return _0x173fd6;case 0x8b50:return _0x46b7df;case 0x8b51:return _0x494ec0;case 0x8b52:return _0x1b0749;case 0x8b5a:return _0x450dc2;case 0x8b5b:return _0x4e4b76;case 0x8b5c:return _0x1cf80b;case 0x1404:case 0x8b56:return _0x4d7784;case 0x8b53:case 0x8b57:return _0x459a55;case 0x8b54:case 0x8b58:return _0x39a277;case 0x8b55:case 0x8b59:return _0x48a467;case 0x1405:return _0xe2553a;case 0x8dc6:return _0x4259f7;case 0x8dc7:return _0x4e4381;case 0x8dc8:return _0x1c6c14;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x1b7586;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x1052d6;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x26f784;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x5123a8;}}(_0x2b0593['type']);}}class _0xc1690{constructor(_0x4489d4,_0x4fa915,_0x15facc){this['id']=_0x4489d4,this['addr']=_0x15facc,this['cache']=[],this['type']=_0x4fa915['type'],this['size']=_0x4fa915['size'],this['setValue']=function(_0x87beb){switch(_0x87beb){case 0x1406:return _0x1f9c12;case 0x8b50:return _0x3c9f46;case 0x8b51:return _0x28af48;case 0x8b52:return _0x336575;case 0x8b5a:return _0x2f83cf;case 0x8b5b:return _0x370c09;case 0x8b5c:return _0x22e135;case 0x1404:case 0x8b56:return _0x53194d;case 0x8b53:case 0x8b57:return _0x16465b;case 0x8b54:case 0x8b58:return _0x50e67b;case 0x8b55:case 0x8b59:return _0x4d748e;case 0x1405:return _0x290bf8;case 0x8dc6:return _0x4bca8f;case 0x8dc7:return _0x1ae18c;case 0x8dc8:return _0x13d8e2;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x3df34e;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x217b89;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x2449c3;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x5d5126;}}(_0x4fa915['type']);}}class _0x437dbd{constructor(_0x5abae8){this['id']=_0x5abae8,this['seq']=[],this['map']={};}['setValue'](_0x12f56f,_0x205dd8,_0x5d75f0){const _0x58372c=this['seq'];for(let _0x474d03=0x0,_0x2e8dc9=_0x58372c['length'];_0x474d03!==_0x2e8dc9;++_0x474d03){const _0x19b4eb=_0x58372c[_0x474d03];_0x19b4eb['setValue'](_0x12f56f,_0x205dd8[_0x19b4eb['id']],_0x5d75f0);}}}const _0x221f12=/(\w+)(\])?(\[|\.)?/g;function _0x23e7dd(_0x3bf54d,_0x7c54ed){_0x3bf54d['seq']['push'](_0x7c54ed),_0x3bf54d['map'][_0x7c54ed['id']]=_0x7c54ed;}function _0x44a19e(_0x2d329c,_0x42670b,_0x34eab4){const _0xdfe125=_0x2d329c['name'],_0xdaecc1=_0xdfe125['length'];for(_0x221f12['lastIndex']=0x0;;){const _0x1a3361=_0x221f12['exec'](_0xdfe125),_0x3889b8=_0x221f12['lastIndex'];let _0x1d31f0=_0x1a3361[0x1];const _0x2902b8=']'===_0x1a3361[0x2],_0x1281a2=_0x1a3361[0x3];if(_0x2902b8&&(_0x1d31f0|=0x0),void 0x0===_0x1281a2||'['===_0x1281a2&&_0x3889b8+0x2===_0xdaecc1){_0x23e7dd(_0x34eab4,void 0x0===_0x1281a2?new _0xca5715(_0x1d31f0,_0x2d329c,_0x42670b):new _0xc1690(_0x1d31f0,_0x2d329c,_0x42670b));break;}{let _0x3ecea2=_0x34eab4['map'][_0x1d31f0];void 0x0===_0x3ecea2&&(_0x3ecea2=new _0x437dbd(_0x1d31f0),_0x23e7dd(_0x34eab4,_0x3ecea2)),_0x34eab4=_0x3ecea2;}}}class _0x5b3367{constructor(_0x2a768d,_0x2d47b9){this['seq']=[],this['map']={};const _0x1c1220=_0x2a768d['getProgramParameter'](_0x2d47b9,_0x2a768d['ACTIVE_UNIFORMS']);for(let _0x1d0292=0x0;_0x1d0292<_0x1c1220;++_0x1d0292){const _0xe6f34a=_0x2a768d['getActiveUniform'](_0x2d47b9,_0x1d0292);_0x44a19e(_0xe6f34a,_0x2a768d['getUniformLocation'](_0x2d47b9,_0xe6f34a['name']),this);}}['setValue'](_0xae9230,_0x160a0b,_0x200a2c,_0x2bb10c){const _0x9f9c4b=this['map'][_0x160a0b];void 0x0!==_0x9f9c4b&&_0x9f9c4b['setValue'](_0xae9230,_0x200a2c,_0x2bb10c);}['setOptional'](_0x572ac5,_0x406f75,_0x324929){const _0x48aae5=_0x406f75[_0x324929];void 0x0!==_0x48aae5&&this['setValue'](_0x572ac5,_0x324929,_0x48aae5);}static['upload'](_0x1c500f,_0x3ddac8,_0x50b22c,_0x5468d8){for(let _0x335a5d=0x0,_0x229000=_0x3ddac8['length'];_0x335a5d!==_0x229000;++_0x335a5d){const _0x14f6a3=_0x3ddac8[_0x335a5d],_0x25b74b=_0x50b22c[_0x14f6a3['id']];!0x1!==_0x25b74b['needsUpdate']&&_0x14f6a3['setValue'](_0x1c500f,_0x25b74b['value'],_0x5468d8);}}static['seqWithValue'](_0x17958b,_0x4fb0e4){const _0x3ac53d=[];for(let _0x16e248=0x0,_0x3676a4=_0x17958b['length'];_0x16e248!==_0x3676a4;++_0x16e248){const _0x47f97a=_0x17958b[_0x16e248];_0x47f97a['id']in _0x4fb0e4&&_0x3ac53d['push'](_0x47f97a);}return _0x3ac53d;}}function _0x3090d5(_0x46678a,_0x5dcad3,_0x1798fe){const _0x4a6f00=_0x46678a['createShader'](_0x5dcad3);return _0x46678a['shaderSource'](_0x4a6f00,_0x1798fe),_0x46678a['compileShader'](_0x4a6f00),_0x4a6f00;}const _0x34477e=0x91b1;let _0x1094b7=0x0;const _0x461ea4=new _0x4e3753['dwI']();function _0x2d4807(_0x111358,_0x43d12c,_0x2e3f1f){const _0x39d816=_0x111358['getShaderParameter'](_0x43d12c,_0x111358['COMPILE_STATUS']),_0x3082ed=_0x111358['getShaderInfoLog'](_0x43d12c)['trim']();if(_0x39d816&&''===_0x3082ed)return'';const _0x294fd2=/ERROR: 0:(\d+)/['exec'](_0x3082ed);if(_0x294fd2){const _0x5215e8=parseInt(_0x294fd2[0x1]);return _0x2e3f1f['toUpperCase']()+'\x0a\x0a'+_0x3082ed+'\x0a\x0a'+function(_0x14fe1b,_0x404809){const _0x263422=_0x14fe1b['split']('\x0a'),_0x428f67=[],_0x329888=Math['max'](_0x404809-0x6,0x0),_0x51600e=Math['min'](_0x404809+0x6,_0x263422['length']);for(let _0x1c3d53=_0x329888;_0x1c3d53<_0x51600e;_0x1c3d53++){const _0x472267=_0x1c3d53+0x1;_0x428f67['push']((_0x472267===_0x404809?'>':'\x20')+'\x20'+_0x472267+':\x20'+_0x263422[_0x1c3d53]);}return _0x428f67['join']('\x0a');}(_0x111358['getShaderSource'](_0x43d12c),_0x5215e8);}return _0x3082ed;}function _0x48b0ac(_0x174c39,_0x41a161){const _0x1d8fd8=function(_0x806f3f){_0x4e3753['ppV']['_getMatrix'](_0x461ea4,_0x4e3753['ppV']['workingColorSpace'],_0x806f3f);const _0x1113b9='mat3(\x20'+_0x461ea4['elements']['map'](_0x27d220=>_0x27d220['toFixed'](0x4))+'\x20)';switch(_0x4e3753['ppV']['getTransfer'](_0x806f3f)){case _0x4e3753['VxR']:return[_0x1113b9,'LinearTransferOETF'];case _0x4e3753['KLL']:return[_0x1113b9,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0x806f3f),[_0x1113b9,'LinearTransferOETF'];}}(_0x41a161);return['vec4\x20'+_0x174c39+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x1d8fd8[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x1d8fd8[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x9ff6cf(_0xb388c7,_0x4f28c1){let _0x8efc0d;switch(_0x4f28c1){case _0x4e3753['kyO']:_0x8efc0d='Linear';break;case _0x4e3753['Mjd']:_0x8efc0d='Reinhard';break;case _0x4e3753['nNL']:_0x8efc0d='Cineon';break;case _0x4e3753['FV']:_0x8efc0d='ACESFilmic';break;case _0x4e3753['LAk']:_0x8efc0d='AgX';break;case _0x4e3753['aJ8']:_0x8efc0d='Neutral';break;case _0x4e3753['g7M']:_0x8efc0d='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0x4f28c1),_0x8efc0d='Linear';}return'vec3\x20'+_0xb388c7+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x8efc0d+'ToneMapping(\x20color\x20);\x20}';}const _0x383ac0=new _0x4e3753['Pq0']();function _0x26f634(){return _0x4e3753['ppV']['getLuminanceCoefficients'](_0x383ac0),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x383ac0['x']['toFixed'](0x4)+',\x20'+_0x383ac0['y']['toFixed'](0x4)+',\x20'+_0x383ac0['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x1427d7(_0x135823){return''!==_0x135823;}function _0x37177b(_0x4e3616,_0x459eff){const _0x15bbbf=_0x459eff['numSpotLightShadows']+_0x459eff['numSpotLightMaps']-_0x459eff['numSpotLightShadowsWithMaps'];return _0x4e3616['replace'](/NUM_DIR_LIGHTS/g,_0x459eff['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0x459eff['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0x459eff['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x15bbbf)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0x459eff['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0x459eff['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0x459eff['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0x459eff['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0x459eff['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0x459eff['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0x459eff['numPointLightShadows']);}function _0x1951a3(_0x24bf0d,_0x25fb42){return _0x24bf0d['replace'](/NUM_CLIPPING_PLANES/g,_0x25fb42['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0x25fb42['numClippingPlanes']-_0x25fb42['numClipIntersection']);}const _0x403126=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x4d7007(_0x2cd30e){return _0x2cd30e['replace'](_0x403126,_0x560473);}const _0x403d02=new Map();function _0x560473(_0x5d3b92,_0x3ea70b){let _0x156314=_0x2abf53[_0x3ea70b];if(void 0x0===_0x156314){const _0x3e6b38=_0x403d02['get'](_0x3ea70b);if(void 0x0===_0x3e6b38)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x3ea70b+'>');_0x156314=_0x2abf53[_0x3e6b38],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0x3ea70b,_0x3e6b38);}return _0x4d7007(_0x156314);}const _0x1530a4=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0x249106(_0x44dfa0){return _0x44dfa0['replace'](_0x1530a4,_0x14daf2);}function _0x14daf2(_0x2d5185,_0x2773df,_0x30cde2,_0x5d98b1){let _0x205226='';for(let _0x2432ac=parseInt(_0x2773df);_0x2432ac<parseInt(_0x30cde2);_0x2432ac++)_0x205226+=_0x5d98b1['replace'](/\[\s*i\s*\]/g,'[\x20'+_0x2432ac+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0x2432ac);return _0x205226;}function _0xbc6127(_0x4e312f){let _0x273c38='precision\x20'+_0x4e312f['precision']+'\x20float;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20int;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x4e312f['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x4e312f['precision']?_0x273c38+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x4e312f['precision']?_0x273c38+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x4e312f['precision']&&(_0x273c38+='\x0a#define\x20LOW_PRECISION'),_0x273c38;}function _0x17d758(_0x410a28,_0x257c10,_0x14bb57,_0x9d0b9b){const _0x4b54f7=_0x410a28['getContext'](),_0x851cec=_0x14bb57['defines'];let _0x4f62fd=_0x14bb57['vertexShader'],_0x1c8fec=_0x14bb57['fragmentShader'];const _0x28c4db=function(_0x12ed21){let _0x41355d='SHADOWMAP_TYPE_BASIC';return _0x12ed21['shadowMapType']===_0x4e3753['QP0']?_0x41355d='SHADOWMAP_TYPE_PCF':_0x12ed21['shadowMapType']===_0x4e3753['Wk7']?_0x41355d='SHADOWMAP_TYPE_PCF_SOFT':_0x12ed21['shadowMapType']===_0x4e3753['RyA']&&(_0x41355d='SHADOWMAP_TYPE_VSM'),_0x41355d;}(_0x14bb57),_0x51dd16=function(_0xe2679a){let _0x259eba='ENVMAP_TYPE_CUBE';if(_0xe2679a['envMap'])switch(_0xe2679a['envMapMode']){case _0x4e3753['hy7']:case _0x4e3753['xFO']:_0x259eba='ENVMAP_TYPE_CUBE';break;case _0x4e3753['Om']:_0x259eba='ENVMAP_TYPE_CUBE_UV';}return _0x259eba;}(_0x14bb57),_0x58e9a1=function(_0x26d4ba){let _0x58d46a='ENVMAP_MODE_REFLECTION';return _0x26d4ba['envMap']&&_0x26d4ba['envMapMode']===_0x4e3753['xFO']&&(_0x58d46a='ENVMAP_MODE_REFRACTION'),_0x58d46a;}(_0x14bb57),_0xcd4182=function(_0x64cda1){let _0x3fd131='ENVMAP_BLENDING_NONE';if(_0x64cda1['envMap'])switch(_0x64cda1['combine']){case _0x4e3753['caT']:_0x3fd131='ENVMAP_BLENDING_MULTIPLY';break;case _0x4e3753['KRh']:_0x3fd131='ENVMAP_BLENDING_MIX';break;case _0x4e3753['XrR']:_0x3fd131='ENVMAP_BLENDING_ADD';}return _0x3fd131;}(_0x14bb57),_0x5ec505=function(_0x4b97e4){const _0x2a887f=_0x4b97e4['envMapCubeUVHeight'];if(null===_0x2a887f)return null;const _0x263233=Math['log2'](_0x2a887f)-0x2,_0xf09a4b=0x1/_0x2a887f;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x263233),0x70)),'texelHeight':_0xf09a4b,'maxMip':_0x263233};}(_0x14bb57),_0x2e532f=function(_0x520006){return[_0x520006['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x520006['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x1427d7)['join']('\x0a');}(_0x14bb57),_0x1b0efc=function(_0xf65d70){const _0x51a826=[];for(const _0x3f4d14 in _0xf65d70){const _0x3a7c7d=_0xf65d70[_0x3f4d14];!0x1!==_0x3a7c7d&&_0x51a826['push']('#define\x20'+_0x3f4d14+'\x20'+_0x3a7c7d);}return _0x51a826['join']('\x0a');}(_0x851cec),_0x530893=_0x4b54f7['createProgram']();let _0x4139ba,_0x167f57,_0x2e6236=_0x14bb57['glslVersion']?'#version\x20'+_0x14bb57['glslVersion']+'\x0a':'';_0x14bb57['isRawShaderMaterial']?(_0x4139ba=['#define\x20SHADER_TYPE\x20'+_0x14bb57['shaderType'],'#define\x20SHADER_NAME\x20'+_0x14bb57['shaderName'],_0x1b0efc]['filter'](_0x1427d7)['join']('\x0a'),_0x4139ba['length']>0x0&&(_0x4139ba+='\x0a'),_0x167f57=['#define\x20SHADER_TYPE\x20'+_0x14bb57['shaderType'],'#define\x20SHADER_NAME\x20'+_0x14bb57['shaderName'],_0x1b0efc]['filter'](_0x1427d7)['join']('\x0a'),_0x167f57['length']>0x0&&(_0x167f57+='\x0a')):(_0x4139ba=[_0xbc6127(_0x14bb57),'#define\x20SHADER_TYPE\x20'+_0x14bb57['shaderType'],'#define\x20SHADER_NAME\x20'+_0x14bb57['shaderName'],_0x1b0efc,_0x14bb57['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x14bb57['batching']?'#define\x20USE_BATCHING':'',_0x14bb57['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x14bb57['instancing']?'#define\x20USE_INSTANCING':'',_0x14bb57['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x14bb57['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x14bb57['useFog']&&_0x14bb57['fog']?'#define\x20USE_FOG':'',_0x14bb57['useFog']&&_0x14bb57['fogExp2']?'#define\x20FOG_EXP2':'',_0x14bb57['map']?'#define\x20USE_MAP':'',_0x14bb57['envMap']?'#define\x20USE_ENVMAP':'',_0x14bb57['envMap']?'#define\x20'+_0x58e9a1:'',_0x14bb57['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x14bb57['aoMap']?'#define\x20USE_AOMAP':'',_0x14bb57['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x14bb57['normalMap']?'#define\x20USE_NORMALMAP':'',_0x14bb57['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x14bb57['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x14bb57['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x14bb57['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x14bb57['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x14bb57['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x14bb57['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x14bb57['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x14bb57['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x14bb57['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x14bb57['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x14bb57['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x14bb57['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x14bb57['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x14bb57['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x14bb57['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x14bb57['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x14bb57['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x14bb57['transmission']?'#define\x20USE_TRANSMISSION':'',_0x14bb57['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x14bb57['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x14bb57['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x14bb57['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x14bb57['mapUv']?'#define\x20MAP_UV\x20'+_0x14bb57['mapUv']:'',_0x14bb57['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x14bb57['alphaMapUv']:'',_0x14bb57['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x14bb57['lightMapUv']:'',_0x14bb57['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x14bb57['aoMapUv']:'',_0x14bb57['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x14bb57['emissiveMapUv']:'',_0x14bb57['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x14bb57['bumpMapUv']:'',_0x14bb57['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x14bb57['normalMapUv']:'',_0x14bb57['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x14bb57['displacementMapUv']:'',_0x14bb57['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x14bb57['metalnessMapUv']:'',_0x14bb57['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x14bb57['roughnessMapUv']:'',_0x14bb57['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x14bb57['anisotropyMapUv']:'',_0x14bb57['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x14bb57['clearcoatMapUv']:'',_0x14bb57['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x14bb57['clearcoatNormalMapUv']:'',_0x14bb57['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x14bb57['clearcoatRoughnessMapUv']:'',_0x14bb57['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x14bb57['iridescenceMapUv']:'',_0x14bb57['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x14bb57['iridescenceThicknessMapUv']:'',_0x14bb57['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x14bb57['sheenColorMapUv']:'',_0x14bb57['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x14bb57['sheenRoughnessMapUv']:'',_0x14bb57['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x14bb57['specularMapUv']:'',_0x14bb57['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x14bb57['specularColorMapUv']:'',_0x14bb57['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x14bb57['specularIntensityMapUv']:'',_0x14bb57['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x14bb57['transmissionMapUv']:'',_0x14bb57['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x14bb57['thicknessMapUv']:'',_0x14bb57['vertexTangents']&&!0x1===_0x14bb57['flatShading']?'#define\x20USE_TANGENT':'',_0x14bb57['vertexColors']?'#define\x20USE_COLOR':'',_0x14bb57['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x14bb57['vertexUv1s']?'#define\x20USE_UV1':'',_0x14bb57['vertexUv2s']?'#define\x20USE_UV2':'',_0x14bb57['vertexUv3s']?'#define\x20USE_UV3':'',_0x14bb57['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x14bb57['flatShading']?'#define\x20FLAT_SHADED':'',_0x14bb57['skinning']?'#define\x20USE_SKINNING':'',_0x14bb57['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x14bb57['morphNormals']&&!0x1===_0x14bb57['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x14bb57['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x14bb57['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x14bb57['morphTextureStride']:'',_0x14bb57['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x14bb57['morphTargetsCount']:'',_0x14bb57['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x14bb57['flipSided']?'#define\x20FLIP_SIDED':'',_0x14bb57['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x14bb57['shadowMapEnabled']?'#define\x20'+_0x28c4db:'',_0x14bb57['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x14bb57['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x14bb57['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x14bb57['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x1427d7)['join']('\x0a'),_0x167f57=[_0xbc6127(_0x14bb57),'#define\x20SHADER_TYPE\x20'+_0x14bb57['shaderType'],'#define\x20SHADER_NAME\x20'+_0x14bb57['shaderName'],_0x1b0efc,_0x14bb57['useFog']&&_0x14bb57['fog']?'#define\x20USE_FOG':'',_0x14bb57['useFog']&&_0x14bb57['fogExp2']?'#define\x20FOG_EXP2':'',_0x14bb57['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x14bb57['map']?'#define\x20USE_MAP':'',_0x14bb57['matcap']?'#define\x20USE_MATCAP':'',_0x14bb57['envMap']?'#define\x20USE_ENVMAP':'',_0x14bb57['envMap']?'#define\x20'+_0x51dd16:'',_0x14bb57['envMap']?'#define\x20'+_0x58e9a1:'',_0x14bb57['envMap']?'#define\x20'+_0xcd4182:'',_0x5ec505?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x5ec505['texelWidth']:'',_0x5ec505?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x5ec505['texelHeight']:'',_0x5ec505?'#define\x20CUBEUV_MAX_MIP\x20'+_0x5ec505['maxMip']+'.0':'',_0x14bb57['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x14bb57['aoMap']?'#define\x20USE_AOMAP':'',_0x14bb57['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x14bb57['normalMap']?'#define\x20USE_NORMALMAP':'',_0x14bb57['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x14bb57['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x14bb57['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x14bb57['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x14bb57['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x14bb57['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x14bb57['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x14bb57['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x14bb57['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x14bb57['dispersion']?'#define\x20USE_DISPERSION':'',_0x14bb57['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x14bb57['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x14bb57['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x14bb57['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x14bb57['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x14bb57['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x14bb57['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x14bb57['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x14bb57['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x14bb57['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x14bb57['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x14bb57['sheen']?'#define\x20USE_SHEEN':'',_0x14bb57['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x14bb57['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x14bb57['transmission']?'#define\x20USE_TRANSMISSION':'',_0x14bb57['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x14bb57['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x14bb57['vertexTangents']&&!0x1===_0x14bb57['flatShading']?'#define\x20USE_TANGENT':'',_0x14bb57['vertexColors']||_0x14bb57['instancingColor']||_0x14bb57['batchingColor']?'#define\x20USE_COLOR':'',_0x14bb57['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x14bb57['vertexUv1s']?'#define\x20USE_UV1':'',_0x14bb57['vertexUv2s']?'#define\x20USE_UV2':'',_0x14bb57['vertexUv3s']?'#define\x20USE_UV3':'',_0x14bb57['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x14bb57['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x14bb57['flatShading']?'#define\x20FLAT_SHADED':'',_0x14bb57['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x14bb57['flipSided']?'#define\x20FLIP_SIDED':'',_0x14bb57['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x14bb57['shadowMapEnabled']?'#define\x20'+_0x28c4db:'',_0x14bb57['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x14bb57['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x14bb57['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x14bb57['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x14bb57['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x14bb57['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x14bb57['toneMapping']!==_0x4e3753['y_p']?'#define\x20TONE_MAPPING':'',_0x14bb57['toneMapping']!==_0x4e3753['y_p']?_0x2abf53['tonemapping_pars_fragment']:'',_0x14bb57['toneMapping']!==_0x4e3753['y_p']?_0x9ff6cf('toneMapping',_0x14bb57['toneMapping']):'',_0x14bb57['dithering']?'#define\x20DITHERING':'',_0x14bb57['opaque']?'#define\x20OPAQUE':'',_0x2abf53['colorspace_pars_fragment'],_0x48b0ac('linearToOutputTexel',_0x14bb57['outputColorSpace']),_0x26f634(),_0x14bb57['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x14bb57['depthPacking']:'','\x0a']['filter'](_0x1427d7)['join']('\x0a')),_0x4f62fd=_0x4d7007(_0x4f62fd),_0x4f62fd=_0x37177b(_0x4f62fd,_0x14bb57),_0x4f62fd=_0x1951a3(_0x4f62fd,_0x14bb57),_0x1c8fec=_0x4d7007(_0x1c8fec),_0x1c8fec=_0x37177b(_0x1c8fec,_0x14bb57),_0x1c8fec=_0x1951a3(_0x1c8fec,_0x14bb57),_0x4f62fd=_0x249106(_0x4f62fd),_0x1c8fec=_0x249106(_0x1c8fec),!0x0!==_0x14bb57['isRawShaderMaterial']&&(_0x2e6236='#version\x20300\x20es\x0a',_0x4139ba=[_0x2e532f,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x4139ba,_0x167f57=['#define\x20varying\x20in',_0x14bb57['glslVersion']===_0x4e3753['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x14bb57['glslVersion']===_0x4e3753['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x167f57);const _0x366c8d=_0x2e6236+_0x4139ba+_0x4f62fd,_0x40f1dd=_0x2e6236+_0x167f57+_0x1c8fec,_0x395fb7=_0x3090d5(_0x4b54f7,_0x4b54f7['VERTEX_SHADER'],_0x366c8d),_0x178ce8=_0x3090d5(_0x4b54f7,_0x4b54f7['FRAGMENT_SHADER'],_0x40f1dd);function _0x32cf6b(_0xa0fbb5){if(_0x410a28['debug']['checkShaderErrors']){const _0xbe23e0=_0x4b54f7['getProgramInfoLog'](_0x530893)['trim'](),_0x5b03ad=_0x4b54f7['getShaderInfoLog'](_0x395fb7)['trim'](),_0x53c909=_0x4b54f7['getShaderInfoLog'](_0x178ce8)['trim']();let _0x3200a3=!0x0,_0x2c4081=!0x0;if(!0x1===_0x4b54f7['getProgramParameter'](_0x530893,_0x4b54f7['LINK_STATUS'])){if(_0x3200a3=!0x1,'function'==typeof _0x410a28['debug']['onShaderError'])_0x410a28['debug']['onShaderError'](_0x4b54f7,_0x530893,_0x395fb7,_0x178ce8);else{const _0x3a2895=_0x2d4807(_0x4b54f7,_0x395fb7,'vertex'),_0xd4bf7e=_0x2d4807(_0x4b54f7,_0x178ce8,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x4b54f7['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x4b54f7['getProgramParameter'](_0x530893,_0x4b54f7['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0xa0fbb5['name']+'\x0aMaterial\x20Type:\x20'+_0xa0fbb5['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0xbe23e0+'\x0a'+_0x3a2895+'\x0a'+_0xd4bf7e);}}else''!==_0xbe23e0?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0xbe23e0):''!==_0x5b03ad&&''!==_0x53c909||(_0x2c4081=!0x1);_0x2c4081&&(_0xa0fbb5['diagnostics']={'runnable':_0x3200a3,'programLog':_0xbe23e0,'vertexShader':{'log':_0x5b03ad,'prefix':_0x4139ba},'fragmentShader':{'log':_0x53c909,'prefix':_0x167f57}});}_0x4b54f7['deleteShader'](_0x395fb7),_0x4b54f7['deleteShader'](_0x178ce8),_0x15ebcd=new _0x5b3367(_0x4b54f7,_0x530893),_0xa1d385=function(_0x142a29,_0x265a54){const _0x4290fe={},_0xd11f76=_0x142a29['getProgramParameter'](_0x265a54,_0x142a29['ACTIVE_ATTRIBUTES']);for(let _0x1d5585=0x0;_0x1d5585<_0xd11f76;_0x1d5585++){const _0x1be6fb=_0x142a29['getActiveAttrib'](_0x265a54,_0x1d5585),_0x29c767=_0x1be6fb['name'];let _0x5779ae=0x1;_0x1be6fb['type']===_0x142a29['FLOAT_MAT2']&&(_0x5779ae=0x2),_0x1be6fb['type']===_0x142a29['FLOAT_MAT3']&&(_0x5779ae=0x3),_0x1be6fb['type']===_0x142a29['FLOAT_MAT4']&&(_0x5779ae=0x4),_0x4290fe[_0x29c767]={'type':_0x1be6fb['type'],'location':_0x142a29['getAttribLocation'](_0x265a54,_0x29c767),'locationSize':_0x5779ae};}return _0x4290fe;}(_0x4b54f7,_0x530893);}let _0x15ebcd,_0xa1d385;_0x4b54f7['attachShader'](_0x530893,_0x395fb7),_0x4b54f7['attachShader'](_0x530893,_0x178ce8),void 0x0!==_0x14bb57['index0AttributeName']?_0x4b54f7['bindAttribLocation'](_0x530893,0x0,_0x14bb57['index0AttributeName']):!0x0===_0x14bb57['morphTargets']&&_0x4b54f7['bindAttribLocation'](_0x530893,0x0,'position'),_0x4b54f7['linkProgram'](_0x530893),this['getUniforms']=function(){return void 0x0===_0x15ebcd&&_0x32cf6b(this),_0x15ebcd;},this['getAttributes']=function(){return void 0x0===_0xa1d385&&_0x32cf6b(this),_0xa1d385;};let _0x246ea4=!0x1===_0x14bb57['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x246ea4&&(_0x246ea4=_0x4b54f7['getProgramParameter'](_0x530893,_0x34477e)),_0x246ea4;},this['destroy']=function(){_0x9d0b9b['releaseStatesOfProgram'](this),_0x4b54f7['deleteProgram'](_0x530893),this['program']=void 0x0;},this['type']=_0x14bb57['shaderType'],this['name']=_0x14bb57['shaderName'],this['id']=_0x1094b7++,this['cacheKey']=_0x257c10,this['usedTimes']=0x1,this['program']=_0x530893,this['vertexShader']=_0x395fb7,this['fragmentShader']=_0x178ce8,this;}let _0x2de001=0x0;class _0x5ac3eb{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0xe67d16){const _0x5e9898=_0xe67d16['vertexShader'],_0x2472be=_0xe67d16['fragmentShader'],_0x16e81d=this['_getShaderStage'](_0x5e9898),_0x180555=this['_getShaderStage'](_0x2472be),_0x35aa9c=this['_getShaderCacheForMaterial'](_0xe67d16);return!0x1===_0x35aa9c['has'](_0x16e81d)&&(_0x35aa9c['add'](_0x16e81d),_0x16e81d['usedTimes']++),!0x1===_0x35aa9c['has'](_0x180555)&&(_0x35aa9c['add'](_0x180555),_0x180555['usedTimes']++),this;}['remove'](_0x9a4aa8){const _0x1e0b72=this['materialCache']['get'](_0x9a4aa8);for(const _0x48f2c3 of _0x1e0b72)_0x48f2c3['usedTimes']--,0x0===_0x48f2c3['usedTimes']&&this['shaderCache']['delete'](_0x48f2c3['code']);return this['materialCache']['delete'](_0x9a4aa8),this;}['getVertexShaderID'](_0x4f2541){return this['_getShaderStage'](_0x4f2541['vertexShader'])['id'];}['getFragmentShaderID'](_0x1b176f){return this['_getShaderStage'](_0x1b176f['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x54d6a1){const _0x16a2a0=this['materialCache'];let _0x253b8f=_0x16a2a0['get'](_0x54d6a1);return void 0x0===_0x253b8f&&(_0x253b8f=new Set(),_0x16a2a0['set'](_0x54d6a1,_0x253b8f)),_0x253b8f;}['_getShaderStage'](_0x4e06e8){const _0x5e219e=this['shaderCache'];let _0x24914f=_0x5e219e['get'](_0x4e06e8);return void 0x0===_0x24914f&&(_0x24914f=new _0x42c7af(_0x4e06e8),_0x5e219e['set'](_0x4e06e8,_0x24914f)),_0x24914f;}}class _0x42c7af{constructor(_0x4a405e){this['id']=_0x2de001++,this['code']=_0x4a405e,this['usedTimes']=0x0;}}function _0x3bce6c(_0x2bc6f5,_0x1b00fc,_0x1065f7,_0x5586f0,_0x21bedb,_0x5cf954,_0x4946f3){const _0xbdc1a0=new _0x4e3753['zgK'](),_0x5e2cb4=new _0x5ac3eb(),_0x1fabde=new Set(),_0xa239de=[],_0x4e43a8=_0x21bedb['logarithmicDepthBuffer'],_0x17144e=_0x21bedb['vertexTextures'];let _0x1c961f=_0x21bedb['precision'];const _0x2da79d={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0x25746e(_0x18da5a){return _0x1fabde['add'](_0x18da5a),0x0===_0x18da5a?'uv':'uv'+_0x18da5a;}return{'getParameters':function(_0x258c77,_0x452ad3,_0x233011,_0x5beaf2,_0x1d890e){const _0x613322=_0x5beaf2['fog'],_0x7a873f=_0x1d890e['geometry'],_0x40e3ed=_0x258c77['isMeshStandardMaterial']?_0x5beaf2['environment']:null,_0x589eea=(_0x258c77['isMeshStandardMaterial']?_0x1065f7:_0x1b00fc)['get'](_0x258c77['envMap']||_0x40e3ed),_0x1ef2e1=_0x589eea&&_0x589eea['mapping']===_0x4e3753['Om']?_0x589eea['image']['height']:null,_0x4d5beb=_0x2da79d[_0x258c77['type']];null!==_0x258c77['precision']&&(_0x1c961f=_0x21bedb['getMaxPrecision'](_0x258c77['precision']),_0x1c961f!==_0x258c77['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x258c77['precision'],'not\x20supported,\x20using',_0x1c961f,'instead.'));const _0x381819=_0x7a873f['morphAttributes']['position']||_0x7a873f['morphAttributes']['normal']||_0x7a873f['morphAttributes']['color'],_0x296119=void 0x0!==_0x381819?_0x381819['length']:0x0;let _0x130251,_0x2fb656,_0x1b7984,_0x79bee2,_0x3db5c8=0x0;if(void 0x0!==_0x7a873f['morphAttributes']['position']&&(_0x3db5c8=0x1),void 0x0!==_0x7a873f['morphAttributes']['normal']&&(_0x3db5c8=0x2),void 0x0!==_0x7a873f['morphAttributes']['color']&&(_0x3db5c8=0x3),_0x4d5beb){const _0x8d10c5=_0x49bb77[_0x4d5beb];_0x130251=_0x8d10c5['vertexShader'],_0x2fb656=_0x8d10c5['fragmentShader'];}else _0x130251=_0x258c77['vertexShader'],_0x2fb656=_0x258c77['fragmentShader'],_0x5e2cb4['update'](_0x258c77),_0x1b7984=_0x5e2cb4['getVertexShaderID'](_0x258c77),_0x79bee2=_0x5e2cb4['getFragmentShaderID'](_0x258c77);const _0x45ab9b=_0x2bc6f5['getRenderTarget'](),_0x5b2f90=_0x2bc6f5['state']['buffers']['depth']['getReversed'](),_0x3c3388=!0x0===_0x1d890e['isInstancedMesh'],_0x2dbbba=!0x0===_0x1d890e['isBatchedMesh'],_0x55eb1b=!!_0x258c77['map'],_0x58f0b5=!!_0x258c77['matcap'],_0x2be14a=!!_0x589eea,_0x21c23d=!!_0x258c77['aoMap'],_0xb9fa13=!!_0x258c77['lightMap'],_0x1ee3e3=!!_0x258c77['bumpMap'],_0x4e322e=!!_0x258c77['normalMap'],_0x2aa2e8=!!_0x258c77['displacementMap'],_0x5c8ffb=!!_0x258c77['emissiveMap'],_0x474cb9=!!_0x258c77['metalnessMap'],_0x1b7dad=!!_0x258c77['roughnessMap'],_0x4023bb=_0x258c77['anisotropy']>0x0,_0x1fab3c=_0x258c77['clearcoat']>0x0,_0x490e3b=_0x258c77['dispersion']>0x0,_0xce723c=_0x258c77['iridescence']>0x0,_0xe9fb7=_0x258c77['sheen']>0x0,_0xf590e6=_0x258c77['transmission']>0x0,_0x504997=_0x4023bb&&!!_0x258c77['anisotropyMap'],_0x1a99e3=_0x1fab3c&&!!_0x258c77['clearcoatMap'],_0x19ecb7=_0x1fab3c&&!!_0x258c77['clearcoatNormalMap'],_0x316494=_0x1fab3c&&!!_0x258c77['clearcoatRoughnessMap'],_0x2f9539=_0xce723c&&!!_0x258c77['iridescenceMap'],_0x144e1e=_0xce723c&&!!_0x258c77['iridescenceThicknessMap'],_0x3ddef7=_0xe9fb7&&!!_0x258c77['sheenColorMap'],_0x5a0799=_0xe9fb7&&!!_0x258c77['sheenRoughnessMap'],_0x1df496=!!_0x258c77['specularMap'],_0x3dc349=!!_0x258c77['specularColorMap'],_0x59896c=!!_0x258c77['specularIntensityMap'],_0x5b6f16=_0xf590e6&&!!_0x258c77['transmissionMap'],_0x6d06c9=_0xf590e6&&!!_0x258c77['thicknessMap'],_0x39dea6=!!_0x258c77['gradientMap'],_0x4c92b5=!!_0x258c77['alphaMap'],_0x114fd7=_0x258c77['alphaTest']>0x0,_0x370bb9=!!_0x258c77['alphaHash'],_0x243284=!!_0x258c77['extensions'];let _0x3d2920=_0x4e3753['y_p'];_0x258c77['toneMapped']&&(null!==_0x45ab9b&&!0x0!==_0x45ab9b['isXRRenderTarget']||(_0x3d2920=_0x2bc6f5['toneMapping']));const _0x273173={'shaderID':_0x4d5beb,'shaderType':_0x258c77['type'],'shaderName':_0x258c77['name'],'vertexShader':_0x130251,'fragmentShader':_0x2fb656,'defines':_0x258c77['defines'],'customVertexShaderID':_0x1b7984,'customFragmentShaderID':_0x79bee2,'isRawShaderMaterial':!0x0===_0x258c77['isRawShaderMaterial'],'glslVersion':_0x258c77['glslVersion'],'precision':_0x1c961f,'batching':_0x2dbbba,'batchingColor':_0x2dbbba&&null!==_0x1d890e['_colorsTexture'],'instancing':_0x3c3388,'instancingColor':_0x3c3388&&null!==_0x1d890e['instanceColor'],'instancingMorph':_0x3c3388&&null!==_0x1d890e['morphTexture'],'supportsVertexTextures':_0x17144e,'outputColorSpace':null===_0x45ab9b?_0x2bc6f5['outputColorSpace']:!0x0===_0x45ab9b['isXRRenderTarget']?_0x45ab9b['texture']['colorSpace']:_0x4e3753['Zr2'],'alphaToCoverage':!!_0x258c77['alphaToCoverage'],'map':_0x55eb1b,'matcap':_0x58f0b5,'envMap':_0x2be14a,'envMapMode':_0x2be14a&&_0x589eea['mapping'],'envMapCubeUVHeight':_0x1ef2e1,'aoMap':_0x21c23d,'lightMap':_0xb9fa13,'bumpMap':_0x1ee3e3,'normalMap':_0x4e322e,'displacementMap':_0x17144e&&_0x2aa2e8,'emissiveMap':_0x5c8ffb,'normalMapObjectSpace':_0x4e322e&&_0x258c77['normalMapType']===_0x4e3753['vyJ'],'normalMapTangentSpace':_0x4e322e&&_0x258c77['normalMapType']===_0x4e3753['bI3'],'metalnessMap':_0x474cb9,'roughnessMap':_0x1b7dad,'anisotropy':_0x4023bb,'anisotropyMap':_0x504997,'clearcoat':_0x1fab3c,'clearcoatMap':_0x1a99e3,'clearcoatNormalMap':_0x19ecb7,'clearcoatRoughnessMap':_0x316494,'dispersion':_0x490e3b,'iridescence':_0xce723c,'iridescenceMap':_0x2f9539,'iridescenceThicknessMap':_0x144e1e,'sheen':_0xe9fb7,'sheenColorMap':_0x3ddef7,'sheenRoughnessMap':_0x5a0799,'specularMap':_0x1df496,'specularColorMap':_0x3dc349,'specularIntensityMap':_0x59896c,'transmission':_0xf590e6,'transmissionMap':_0x5b6f16,'thicknessMap':_0x6d06c9,'gradientMap':_0x39dea6,'opaque':!0x1===_0x258c77['transparent']&&_0x258c77['blending']===_0x4e3753['NTi']&&!0x1===_0x258c77['alphaToCoverage'],'alphaMap':_0x4c92b5,'alphaTest':_0x114fd7,'alphaHash':_0x370bb9,'combine':_0x258c77['combine'],'mapUv':_0x55eb1b&&_0x25746e(_0x258c77['map']['channel']),'aoMapUv':_0x21c23d&&_0x25746e(_0x258c77['aoMap']['channel']),'lightMapUv':_0xb9fa13&&_0x25746e(_0x258c77['lightMap']['channel']),'bumpMapUv':_0x1ee3e3&&_0x25746e(_0x258c77['bumpMap']['channel']),'normalMapUv':_0x4e322e&&_0x25746e(_0x258c77['normalMap']['channel']),'displacementMapUv':_0x2aa2e8&&_0x25746e(_0x258c77['displacementMap']['channel']),'emissiveMapUv':_0x5c8ffb&&_0x25746e(_0x258c77['emissiveMap']['channel']),'metalnessMapUv':_0x474cb9&&_0x25746e(_0x258c77['metalnessMap']['channel']),'roughnessMapUv':_0x1b7dad&&_0x25746e(_0x258c77['roughnessMap']['channel']),'anisotropyMapUv':_0x504997&&_0x25746e(_0x258c77['anisotropyMap']['channel']),'clearcoatMapUv':_0x1a99e3&&_0x25746e(_0x258c77['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x19ecb7&&_0x25746e(_0x258c77['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x316494&&_0x25746e(_0x258c77['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0x2f9539&&_0x25746e(_0x258c77['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0x144e1e&&_0x25746e(_0x258c77['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0x3ddef7&&_0x25746e(_0x258c77['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x5a0799&&_0x25746e(_0x258c77['sheenRoughnessMap']['channel']),'specularMapUv':_0x1df496&&_0x25746e(_0x258c77['specularMap']['channel']),'specularColorMapUv':_0x3dc349&&_0x25746e(_0x258c77['specularColorMap']['channel']),'specularIntensityMapUv':_0x59896c&&_0x25746e(_0x258c77['specularIntensityMap']['channel']),'transmissionMapUv':_0x5b6f16&&_0x25746e(_0x258c77['transmissionMap']['channel']),'thicknessMapUv':_0x6d06c9&&_0x25746e(_0x258c77['thicknessMap']['channel']),'alphaMapUv':_0x4c92b5&&_0x25746e(_0x258c77['alphaMap']['channel']),'vertexTangents':!!_0x7a873f['attributes']['tangent']&&(_0x4e322e||_0x4023bb),'vertexColors':_0x258c77['vertexColors'],'vertexAlphas':!0x0===_0x258c77['vertexColors']&&!!_0x7a873f['attributes']['color']&&0x4===_0x7a873f['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x1d890e['isPoints']&&!!_0x7a873f['attributes']['uv']&&(_0x55eb1b||_0x4c92b5),'fog':!!_0x613322,'useFog':!0x0===_0x258c77['fog'],'fogExp2':!!_0x613322&&_0x613322['isFogExp2'],'flatShading':!0x0===_0x258c77['flatShading'],'sizeAttenuation':!0x0===_0x258c77['sizeAttenuation'],'logarithmicDepthBuffer':_0x4e43a8,'reverseDepthBuffer':_0x5b2f90,'skinning':!0x0===_0x1d890e['isSkinnedMesh'],'morphTargets':void 0x0!==_0x7a873f['morphAttributes']['position'],'morphNormals':void 0x0!==_0x7a873f['morphAttributes']['normal'],'morphColors':void 0x0!==_0x7a873f['morphAttributes']['color'],'morphTargetsCount':_0x296119,'morphTextureStride':_0x3db5c8,'numDirLights':_0x452ad3['directional']['length'],'numPointLights':_0x452ad3['point']['length'],'numSpotLights':_0x452ad3['spot']['length'],'numSpotLightMaps':_0x452ad3['spotLightMap']['length'],'numRectAreaLights':_0x452ad3['rectArea']['length'],'numHemiLights':_0x452ad3['hemi']['length'],'numDirLightShadows':_0x452ad3['directionalShadowMap']['length'],'numPointLightShadows':_0x452ad3['pointShadowMap']['length'],'numSpotLightShadows':_0x452ad3['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0x452ad3['numSpotLightShadowsWithMaps'],'numLightProbes':_0x452ad3['numLightProbes'],'numClippingPlanes':_0x4946f3['numPlanes'],'numClipIntersection':_0x4946f3['numIntersection'],'dithering':_0x258c77['dithering'],'shadowMapEnabled':_0x2bc6f5['shadowMap']['enabled']&&_0x233011['length']>0x0,'shadowMapType':_0x2bc6f5['shadowMap']['type'],'toneMapping':_0x3d2920,'decodeVideoTexture':_0x55eb1b&&!0x0===_0x258c77['map']['isVideoTexture']&&_0x4e3753['ppV']['getTransfer'](_0x258c77['map']['colorSpace'])===_0x4e3753['KLL'],'decodeVideoTextureEmissive':_0x5c8ffb&&!0x0===_0x258c77['emissiveMap']['isVideoTexture']&&_0x4e3753['ppV']['getTransfer'](_0x258c77['emissiveMap']['colorSpace'])===_0x4e3753['KLL'],'premultipliedAlpha':_0x258c77['premultipliedAlpha'],'doubleSided':_0x258c77['side']===_0x4e3753['$EB'],'flipSided':_0x258c77['side']===_0x4e3753['hsX'],'useDepthPacking':_0x258c77['depthPacking']>=0x0,'depthPacking':_0x258c77['depthPacking']||0x0,'index0AttributeName':_0x258c77['index0AttributeName'],'extensionClipCullDistance':_0x243284&&!0x0===_0x258c77['extensions']['clipCullDistance']&&_0x5586f0['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x243284&&!0x0===_0x258c77['extensions']['multiDraw']||_0x2dbbba)&&_0x5586f0['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x5586f0['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x258c77['customProgramCacheKey']()};return _0x273173['vertexUv1s']=_0x1fabde['has'](0x1),_0x273173['vertexUv2s']=_0x1fabde['has'](0x2),_0x273173['vertexUv3s']=_0x1fabde['has'](0x3),_0x1fabde['clear'](),_0x273173;},'getProgramCacheKey':function(_0x50ba0a){const _0x2ab4a3=[];if(_0x50ba0a['shaderID']?_0x2ab4a3['push'](_0x50ba0a['shaderID']):(_0x2ab4a3['push'](_0x50ba0a['customVertexShaderID']),_0x2ab4a3['push'](_0x50ba0a['customFragmentShaderID'])),void 0x0!==_0x50ba0a['defines']){for(const _0xc7e7c8 in _0x50ba0a['defines'])_0x2ab4a3['push'](_0xc7e7c8),_0x2ab4a3['push'](_0x50ba0a['defines'][_0xc7e7c8]);}return!0x1===_0x50ba0a['isRawShaderMaterial']&&(!function(_0x3c681c,_0x4a9d8b){_0x3c681c['push'](_0x4a9d8b['precision']),_0x3c681c['push'](_0x4a9d8b['outputColorSpace']),_0x3c681c['push'](_0x4a9d8b['envMapMode']),_0x3c681c['push'](_0x4a9d8b['envMapCubeUVHeight']),_0x3c681c['push'](_0x4a9d8b['mapUv']),_0x3c681c['push'](_0x4a9d8b['alphaMapUv']),_0x3c681c['push'](_0x4a9d8b['lightMapUv']),_0x3c681c['push'](_0x4a9d8b['aoMapUv']),_0x3c681c['push'](_0x4a9d8b['bumpMapUv']),_0x3c681c['push'](_0x4a9d8b['normalMapUv']),_0x3c681c['push'](_0x4a9d8b['displacementMapUv']),_0x3c681c['push'](_0x4a9d8b['emissiveMapUv']),_0x3c681c['push'](_0x4a9d8b['metalnessMapUv']),_0x3c681c['push'](_0x4a9d8b['roughnessMapUv']),_0x3c681c['push'](_0x4a9d8b['anisotropyMapUv']),_0x3c681c['push'](_0x4a9d8b['clearcoatMapUv']),_0x3c681c['push'](_0x4a9d8b['clearcoatNormalMapUv']),_0x3c681c['push'](_0x4a9d8b['clearcoatRoughnessMapUv']),_0x3c681c['push'](_0x4a9d8b['iridescenceMapUv']),_0x3c681c['push'](_0x4a9d8b['iridescenceThicknessMapUv']),_0x3c681c['push'](_0x4a9d8b['sheenColorMapUv']),_0x3c681c['push'](_0x4a9d8b['sheenRoughnessMapUv']),_0x3c681c['push'](_0x4a9d8b['specularMapUv']),_0x3c681c['push'](_0x4a9d8b['specularColorMapUv']),_0x3c681c['push'](_0x4a9d8b['specularIntensityMapUv']),_0x3c681c['push'](_0x4a9d8b['transmissionMapUv']),_0x3c681c['push'](_0x4a9d8b['thicknessMapUv']),_0x3c681c['push'](_0x4a9d8b['combine']),_0x3c681c['push'](_0x4a9d8b['fogExp2']),_0x3c681c['push'](_0x4a9d8b['sizeAttenuation']),_0x3c681c['push'](_0x4a9d8b['morphTargetsCount']),_0x3c681c['push'](_0x4a9d8b['morphAttributeCount']),_0x3c681c['push'](_0x4a9d8b['numDirLights']),_0x3c681c['push'](_0x4a9d8b['numPointLights']),_0x3c681c['push'](_0x4a9d8b['numSpotLights']),_0x3c681c['push'](_0x4a9d8b['numSpotLightMaps']),_0x3c681c['push'](_0x4a9d8b['numHemiLights']),_0x3c681c['push'](_0x4a9d8b['numRectAreaLights']),_0x3c681c['push'](_0x4a9d8b['numDirLightShadows']),_0x3c681c['push'](_0x4a9d8b['numPointLightShadows']),_0x3c681c['push'](_0x4a9d8b['numSpotLightShadows']),_0x3c681c['push'](_0x4a9d8b['numSpotLightShadowsWithMaps']),_0x3c681c['push'](_0x4a9d8b['numLightProbes']),_0x3c681c['push'](_0x4a9d8b['shadowMapType']),_0x3c681c['push'](_0x4a9d8b['toneMapping']),_0x3c681c['push'](_0x4a9d8b['numClippingPlanes']),_0x3c681c['push'](_0x4a9d8b['numClipIntersection']),_0x3c681c['push'](_0x4a9d8b['depthPacking']);}(_0x2ab4a3,_0x50ba0a),function(_0x3f3cff,_0x524b81){_0xbdc1a0['disableAll'](),_0x524b81['supportsVertexTextures']&&_0xbdc1a0['enable'](0x0),_0x524b81['instancing']&&_0xbdc1a0['enable'](0x1),_0x524b81['instancingColor']&&_0xbdc1a0['enable'](0x2),_0x524b81['instancingMorph']&&_0xbdc1a0['enable'](0x3),_0x524b81['matcap']&&_0xbdc1a0['enable'](0x4),_0x524b81['envMap']&&_0xbdc1a0['enable'](0x5),_0x524b81['normalMapObjectSpace']&&_0xbdc1a0['enable'](0x6),_0x524b81['normalMapTangentSpace']&&_0xbdc1a0['enable'](0x7),_0x524b81['clearcoat']&&_0xbdc1a0['enable'](0x8),_0x524b81['iridescence']&&_0xbdc1a0['enable'](0x9),_0x524b81['alphaTest']&&_0xbdc1a0['enable'](0xa),_0x524b81['vertexColors']&&_0xbdc1a0['enable'](0xb),_0x524b81['vertexAlphas']&&_0xbdc1a0['enable'](0xc),_0x524b81['vertexUv1s']&&_0xbdc1a0['enable'](0xd),_0x524b81['vertexUv2s']&&_0xbdc1a0['enable'](0xe),_0x524b81['vertexUv3s']&&_0xbdc1a0['enable'](0xf),_0x524b81['vertexTangents']&&_0xbdc1a0['enable'](0x10),_0x524b81['anisotropy']&&_0xbdc1a0['enable'](0x11),_0x524b81['alphaHash']&&_0xbdc1a0['enable'](0x12),_0x524b81['batching']&&_0xbdc1a0['enable'](0x13),_0x524b81['dispersion']&&_0xbdc1a0['enable'](0x14),_0x524b81['batchingColor']&&_0xbdc1a0['enable'](0x15),(_0x3f3cff['push'](_0xbdc1a0['mask']),_0xbdc1a0['disableAll'](),_0x524b81['fog']&&_0xbdc1a0['enable'](0x0)),_0x524b81['useFog']&&_0xbdc1a0['enable'](0x1),_0x524b81['flatShading']&&_0xbdc1a0['enable'](0x2),_0x524b81['logarithmicDepthBuffer']&&_0xbdc1a0['enable'](0x3),_0x524b81['reverseDepthBuffer']&&_0xbdc1a0['enable'](0x4),_0x524b81['skinning']&&_0xbdc1a0['enable'](0x5),_0x524b81['morphTargets']&&_0xbdc1a0['enable'](0x6),_0x524b81['morphNormals']&&_0xbdc1a0['enable'](0x7),_0x524b81['morphColors']&&_0xbdc1a0['enable'](0x8),_0x524b81['premultipliedAlpha']&&_0xbdc1a0['enable'](0x9),_0x524b81['shadowMapEnabled']&&_0xbdc1a0['enable'](0xa),_0x524b81['doubleSided']&&_0xbdc1a0['enable'](0xb),_0x524b81['flipSided']&&_0xbdc1a0['enable'](0xc),_0x524b81['useDepthPacking']&&_0xbdc1a0['enable'](0xd),_0x524b81['dithering']&&_0xbdc1a0['enable'](0xe),_0x524b81['transmission']&&_0xbdc1a0['enable'](0xf),_0x524b81['sheen']&&_0xbdc1a0['enable'](0x10),_0x524b81['opaque']&&_0xbdc1a0['enable'](0x11),_0x524b81['pointsUvs']&&_0xbdc1a0['enable'](0x12),_0x524b81['decodeVideoTexture']&&_0xbdc1a0['enable'](0x13),_0x524b81['decodeVideoTextureEmissive']&&_0xbdc1a0['enable'](0x14),_0x524b81['alphaToCoverage']&&_0xbdc1a0['enable'](0x15),_0x3f3cff['push'](_0xbdc1a0['mask']);}(_0x2ab4a3,_0x50ba0a),_0x2ab4a3['push'](_0x2bc6f5['outputColorSpace'])),_0x2ab4a3['push'](_0x50ba0a['customProgramCacheKey']),_0x2ab4a3['join']();},'getUniforms':function(_0x1e7c06){const _0x354c31=_0x2da79d[_0x1e7c06['type']];let _0x4bc33c;if(_0x354c31){const _0x489d94=_0x49bb77[_0x354c31];_0x4bc33c=_0x4e3753['LlO']['clone'](_0x489d94['uniforms']);}else _0x4bc33c=_0x1e7c06['uniforms'];return _0x4bc33c;},'acquireProgram':function(_0x55a006,_0x1a8893){let _0x3e8ade;for(let _0x48711e=0x0,_0xc460a7=_0xa239de['length'];_0x48711e<_0xc460a7;_0x48711e++){const _0x50f2aa=_0xa239de[_0x48711e];if(_0x50f2aa['cacheKey']===_0x1a8893){_0x3e8ade=_0x50f2aa,++_0x3e8ade['usedTimes'];break;}}return void 0x0===_0x3e8ade&&(_0x3e8ade=new _0x17d758(_0x2bc6f5,_0x1a8893,_0x55a006,_0x5cf954),_0xa239de['push'](_0x3e8ade)),_0x3e8ade;},'releaseProgram':function(_0x396d9b){if(0x0==--_0x396d9b['usedTimes']){const _0x5cc7c6=_0xa239de['indexOf'](_0x396d9b);_0xa239de[_0x5cc7c6]=_0xa239de[_0xa239de['length']-0x1],_0xa239de['pop'](),_0x396d9b['destroy']();}},'releaseShaderCache':function(_0x5168d8){_0x5e2cb4['remove'](_0x5168d8);},'programs':_0xa239de,'dispose':function(){_0x5e2cb4['dispose']();}};}function _0x1a93ec(){let _0x5b6358=new WeakMap();return{'has':function(_0x578f9d){return _0x5b6358['has'](_0x578f9d);},'get':function(_0x158b19){let _0x201e90=_0x5b6358['get'](_0x158b19);return void 0x0===_0x201e90&&(_0x201e90={},_0x5b6358['set'](_0x158b19,_0x201e90)),_0x201e90;},'remove':function(_0x3cb868){_0x5b6358['delete'](_0x3cb868);},'update':function(_0x5000e8,_0x1a7a07,_0x51bf73){_0x5b6358['get'](_0x5000e8)[_0x1a7a07]=_0x51bf73;},'dispose':function(){_0x5b6358=new WeakMap();}};}function _0x22eeda(_0x537fba,_0x13de32){return _0x537fba['groupOrder']!==_0x13de32['groupOrder']?_0x537fba['groupOrder']-_0x13de32['groupOrder']:_0x537fba['renderOrder']!==_0x13de32['renderOrder']?_0x537fba['renderOrder']-_0x13de32['renderOrder']:_0x537fba['material']['id']!==_0x13de32['material']['id']?_0x537fba['material']['id']-_0x13de32['material']['id']:_0x537fba['z']!==_0x13de32['z']?_0x537fba['z']-_0x13de32['z']:_0x537fba['id']-_0x13de32['id'];}function _0x379197(_0x14fb16,_0x1b2168){return _0x14fb16['groupOrder']!==_0x1b2168['groupOrder']?_0x14fb16['groupOrder']-_0x1b2168['groupOrder']:_0x14fb16['renderOrder']!==_0x1b2168['renderOrder']?_0x14fb16['renderOrder']-_0x1b2168['renderOrder']:_0x14fb16['z']!==_0x1b2168['z']?_0x1b2168['z']-_0x14fb16['z']:_0x14fb16['id']-_0x1b2168['id'];}function _0x4bbf2e(){const _0xe0ca97=[];let _0x8561b5=0x0;const _0x55c4be=[],_0x1f33ec=[],_0xdc0568=[];function _0x4100c5(_0x528693,_0x4e0e15,_0x326377,_0x16441c,_0x64805c,_0x447ccd){let _0x4ea455=_0xe0ca97[_0x8561b5];return void 0x0===_0x4ea455?(_0x4ea455={'id':_0x528693['id'],'object':_0x528693,'geometry':_0x4e0e15,'material':_0x326377,'groupOrder':_0x16441c,'renderOrder':_0x528693['renderOrder'],'z':_0x64805c,'group':_0x447ccd},_0xe0ca97[_0x8561b5]=_0x4ea455):(_0x4ea455['id']=_0x528693['id'],_0x4ea455['object']=_0x528693,_0x4ea455['geometry']=_0x4e0e15,_0x4ea455['material']=_0x326377,_0x4ea455['groupOrder']=_0x16441c,_0x4ea455['renderOrder']=_0x528693['renderOrder'],_0x4ea455['z']=_0x64805c,_0x4ea455['group']=_0x447ccd),_0x8561b5++,_0x4ea455;}return{'opaque':_0x55c4be,'transmissive':_0x1f33ec,'transparent':_0xdc0568,'init':function(){_0x8561b5=0x0,_0x55c4be['length']=0x0,_0x1f33ec['length']=0x0,_0xdc0568['length']=0x0;},'push':function(_0x216e2a,_0x5a62d5,_0x5124cf,_0x3df8d6,_0x4a42ea,_0x58dad8){const _0x27169d=_0x4100c5(_0x216e2a,_0x5a62d5,_0x5124cf,_0x3df8d6,_0x4a42ea,_0x58dad8);_0x5124cf['transmission']>0x0?_0x1f33ec['push'](_0x27169d):!0x0===_0x5124cf['transparent']?_0xdc0568['push'](_0x27169d):_0x55c4be['push'](_0x27169d);},'unshift':function(_0x47e534,_0x1a0452,_0x2abf45,_0x4e7917,_0x1ddc45,_0x590185){const _0x40ef5d=_0x4100c5(_0x47e534,_0x1a0452,_0x2abf45,_0x4e7917,_0x1ddc45,_0x590185);_0x2abf45['transmission']>0x0?_0x1f33ec['unshift'](_0x40ef5d):!0x0===_0x2abf45['transparent']?_0xdc0568['unshift'](_0x40ef5d):_0x55c4be['unshift'](_0x40ef5d);},'finish':function(){for(let _0x2d7e90=_0x8561b5,_0x94eb29=_0xe0ca97['length'];_0x2d7e90<_0x94eb29;_0x2d7e90++){const _0x1ee430=_0xe0ca97[_0x2d7e90];if(null===_0x1ee430['id'])break;_0x1ee430['id']=null,_0x1ee430['object']=null,_0x1ee430['geometry']=null,_0x1ee430['material']=null,_0x1ee430['group']=null;}},'sort':function(_0x584e1e,_0x4b5bd9){_0x55c4be['length']>0x1&&_0x55c4be['sort'](_0x584e1e||_0x22eeda),_0x1f33ec['length']>0x1&&_0x1f33ec['sort'](_0x4b5bd9||_0x379197),_0xdc0568['length']>0x1&&_0xdc0568['sort'](_0x4b5bd9||_0x379197);}};}function _0x3b1432(){let _0x45092f=new WeakMap();return{'get':function(_0x234a06,_0x5a9d7b){const _0x2877d6=_0x45092f['get'](_0x234a06);let _0x523811;return void 0x0===_0x2877d6?(_0x523811=new _0x4bbf2e(),_0x45092f['set'](_0x234a06,[_0x523811])):_0x5a9d7b>=_0x2877d6['length']?(_0x523811=new _0x4bbf2e(),_0x2877d6['push'](_0x523811)):_0x523811=_0x2877d6[_0x5a9d7b],_0x523811;},'dispose':function(){_0x45092f=new WeakMap();}};}function _0x779c92(){const _0x40ae7d={};return{'get':function(_0x41c122){if(void 0x0!==_0x40ae7d[_0x41c122['id']])return _0x40ae7d[_0x41c122['id']];let _0x1d5449;switch(_0x41c122['type']){case'DirectionalLight':_0x1d5449={'direction':new _0x4e3753['Pq0'](),'color':new _0x4e3753['Q1f']()};break;case'SpotLight':_0x1d5449={'position':new _0x4e3753['Pq0'](),'direction':new _0x4e3753['Pq0'](),'color':new _0x4e3753['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x1d5449={'position':new _0x4e3753['Pq0'](),'color':new _0x4e3753['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x1d5449={'direction':new _0x4e3753['Pq0'](),'skyColor':new _0x4e3753['Q1f'](),'groundColor':new _0x4e3753['Q1f']()};break;case'RectAreaLight':_0x1d5449={'color':new _0x4e3753['Q1f'](),'position':new _0x4e3753['Pq0'](),'halfWidth':new _0x4e3753['Pq0'](),'halfHeight':new _0x4e3753['Pq0']()};}return _0x40ae7d[_0x41c122['id']]=_0x1d5449,_0x1d5449;}};}let _0x3087d5=0x0;function _0xdac6ba(_0x1bbb5e,_0x878262){return(_0x878262['castShadow']?0x2:0x0)-(_0x1bbb5e['castShadow']?0x2:0x0)+(_0x878262['map']?0x1:0x0)-(_0x1bbb5e['map']?0x1:0x0);}function _0x41816b(_0x380497){const _0x33167c=new _0x779c92(),_0x37d284=(function(){const _0x590b4e={};return{'get':function(_0x1ad514){if(void 0x0!==_0x590b4e[_0x1ad514['id']])return _0x590b4e[_0x1ad514['id']];let _0x42553a;switch(_0x1ad514['type']){case'DirectionalLight':case'SpotLight':_0x42553a={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x4e3753['I9Y']()};break;case'PointLight':_0x42553a={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x4e3753['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0x590b4e[_0x1ad514['id']]=_0x42553a,_0x42553a;}};}()),_0x9d27f4={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0x1de7a0=0x0;_0x1de7a0<0x9;_0x1de7a0++)_0x9d27f4['probe']['push'](new _0x4e3753['Pq0']());const _0x41bc6e=new _0x4e3753['Pq0'](),_0x295732=new _0x4e3753['kn4'](),_0x2907c0=new _0x4e3753['kn4']();return{'setup':function(_0x1eed10){let _0x3f026f=0x0,_0x50c164=0x0,_0x15da5d=0x0;for(let _0x257f11=0x0;_0x257f11<0x9;_0x257f11++)_0x9d27f4['probe'][_0x257f11]['set'](0x0,0x0,0x0);let _0x61ba1b=0x0,_0x2dd2ac=0x0,_0xc2d3ae=0x0,_0x3d8b3a=0x0,_0x13dad1=0x0,_0x37c9b9=0x0,_0x4f1df1=0x0,_0x424ddc=0x0,_0x2022d8=0x0,_0x12b379=0x0,_0x57d41f=0x0;_0x1eed10['sort'](_0xdac6ba);for(let _0x1e3720=0x0,_0x20c59a=_0x1eed10['length'];_0x1e3720<_0x20c59a;_0x1e3720++){const _0x16a862=_0x1eed10[_0x1e3720],_0xf3f0c4=_0x16a862['color'],_0x1d18ce=_0x16a862['intensity'],_0x87fa10=_0x16a862['distance'],_0x57360f=_0x16a862['shadow']&&_0x16a862['shadow']['map']?_0x16a862['shadow']['map']['texture']:null;if(_0x16a862['isAmbientLight'])_0x3f026f+=_0xf3f0c4['r']*_0x1d18ce,_0x50c164+=_0xf3f0c4['g']*_0x1d18ce,_0x15da5d+=_0xf3f0c4['b']*_0x1d18ce;else{if(_0x16a862['isLightProbe']){for(let _0x37e829=0x0;_0x37e829<0x9;_0x37e829++)_0x9d27f4['probe'][_0x37e829]['addScaledVector'](_0x16a862['sh']['coefficients'][_0x37e829],_0x1d18ce);_0x57d41f++;}else{if(_0x16a862['isDirectionalLight']){const _0x436db1=_0x33167c['get'](_0x16a862);if(_0x436db1['color']['copy'](_0x16a862['color'])['multiplyScalar'](_0x16a862['intensity']),_0x16a862['castShadow']){const _0xa9f722=_0x16a862['shadow'],_0x436dfb=_0x37d284['get'](_0x16a862);_0x436dfb['shadowIntensity']=_0xa9f722['intensity'],_0x436dfb['shadowBias']=_0xa9f722['bias'],_0x436dfb['shadowNormalBias']=_0xa9f722['normalBias'],_0x436dfb['shadowRadius']=_0xa9f722['radius'],_0x436dfb['shadowMapSize']=_0xa9f722['mapSize'],_0x9d27f4['directionalShadow'][_0x61ba1b]=_0x436dfb,_0x9d27f4['directionalShadowMap'][_0x61ba1b]=_0x57360f,_0x9d27f4['directionalShadowMatrix'][_0x61ba1b]=_0x16a862['shadow']['matrix'],_0x37c9b9++;}_0x9d27f4['directional'][_0x61ba1b]=_0x436db1,_0x61ba1b++;}else{if(_0x16a862['isSpotLight']){const _0x4ee9df=_0x33167c['get'](_0x16a862);_0x4ee9df['position']['setFromMatrixPosition'](_0x16a862['matrixWorld']),_0x4ee9df['color']['copy'](_0xf3f0c4)['multiplyScalar'](_0x1d18ce),_0x4ee9df['distance']=_0x87fa10,_0x4ee9df['coneCos']=Math['cos'](_0x16a862['angle']),_0x4ee9df['penumbraCos']=Math['cos'](_0x16a862['angle']*(0x1-_0x16a862['penumbra'])),_0x4ee9df['decay']=_0x16a862['decay'],_0x9d27f4['spot'][_0xc2d3ae]=_0x4ee9df;const _0x452312=_0x16a862['shadow'];if(_0x16a862['map']&&(_0x9d27f4['spotLightMap'][_0x2022d8]=_0x16a862['map'],_0x2022d8++,_0x452312['updateMatrices'](_0x16a862),_0x16a862['castShadow']&&_0x12b379++),_0x9d27f4['spotLightMatrix'][_0xc2d3ae]=_0x452312['matrix'],_0x16a862['castShadow']){const _0x2e2115=_0x37d284['get'](_0x16a862);_0x2e2115['shadowIntensity']=_0x452312['intensity'],_0x2e2115['shadowBias']=_0x452312['bias'],_0x2e2115['shadowNormalBias']=_0x452312['normalBias'],_0x2e2115['shadowRadius']=_0x452312['radius'],_0x2e2115['shadowMapSize']=_0x452312['mapSize'],_0x9d27f4['spotShadow'][_0xc2d3ae]=_0x2e2115,_0x9d27f4['spotShadowMap'][_0xc2d3ae]=_0x57360f,_0x424ddc++;}_0xc2d3ae++;}else{if(_0x16a862['isRectAreaLight']){const _0x1dbf87=_0x33167c['get'](_0x16a862);_0x1dbf87['color']['copy'](_0xf3f0c4)['multiplyScalar'](_0x1d18ce),_0x1dbf87['halfWidth']['set'](0.5*_0x16a862['width'],0x0,0x0),_0x1dbf87['halfHeight']['set'](0x0,0.5*_0x16a862['height'],0x0),_0x9d27f4['rectArea'][_0x3d8b3a]=_0x1dbf87,_0x3d8b3a++;}else{if(_0x16a862['isPointLight']){const _0x17ec2e=_0x33167c['get'](_0x16a862);if(_0x17ec2e['color']['copy'](_0x16a862['color'])['multiplyScalar'](_0x16a862['intensity']),_0x17ec2e['distance']=_0x16a862['distance'],_0x17ec2e['decay']=_0x16a862['decay'],_0x16a862['castShadow']){const _0x83c7df=_0x16a862['shadow'],_0xa59e46=_0x37d284['get'](_0x16a862);_0xa59e46['shadowIntensity']=_0x83c7df['intensity'],_0xa59e46['shadowBias']=_0x83c7df['bias'],_0xa59e46['shadowNormalBias']=_0x83c7df['normalBias'],_0xa59e46['shadowRadius']=_0x83c7df['radius'],_0xa59e46['shadowMapSize']=_0x83c7df['mapSize'],_0xa59e46['shadowCameraNear']=_0x83c7df['camera']['near'],_0xa59e46['shadowCameraFar']=_0x83c7df['camera']['far'],_0x9d27f4['pointShadow'][_0x2dd2ac]=_0xa59e46,_0x9d27f4['pointShadowMap'][_0x2dd2ac]=_0x57360f,_0x9d27f4['pointShadowMatrix'][_0x2dd2ac]=_0x16a862['shadow']['matrix'],_0x4f1df1++;}_0x9d27f4['point'][_0x2dd2ac]=_0x17ec2e,_0x2dd2ac++;}else{if(_0x16a862['isHemisphereLight']){const _0xf9e203=_0x33167c['get'](_0x16a862);_0xf9e203['skyColor']['copy'](_0x16a862['color'])['multiplyScalar'](_0x1d18ce),_0xf9e203['groundColor']['copy'](_0x16a862['groundColor'])['multiplyScalar'](_0x1d18ce),_0x9d27f4['hemi'][_0x13dad1]=_0xf9e203,_0x13dad1++;}}}}}}}}_0x3d8b3a>0x0&&(!0x0===_0x380497['has']('OES_texture_float_linear')?(_0x9d27f4['rectAreaLTC1']=_0x58e9bb['LTC_FLOAT_1'],_0x9d27f4['rectAreaLTC2']=_0x58e9bb['LTC_FLOAT_2']):(_0x9d27f4['rectAreaLTC1']=_0x58e9bb['LTC_HALF_1'],_0x9d27f4['rectAreaLTC2']=_0x58e9bb['LTC_HALF_2'])),_0x9d27f4['ambient'][0x0]=_0x3f026f,_0x9d27f4['ambient'][0x1]=_0x50c164,_0x9d27f4['ambient'][0x2]=_0x15da5d;const _0x36417b=_0x9d27f4['hash'];_0x36417b['directionalLength']===_0x61ba1b&&_0x36417b['pointLength']===_0x2dd2ac&&_0x36417b['spotLength']===_0xc2d3ae&&_0x36417b['rectAreaLength']===_0x3d8b3a&&_0x36417b['hemiLength']===_0x13dad1&&_0x36417b['numDirectionalShadows']===_0x37c9b9&&_0x36417b['numPointShadows']===_0x4f1df1&&_0x36417b['numSpotShadows']===_0x424ddc&&_0x36417b['numSpotMaps']===_0x2022d8&&_0x36417b['numLightProbes']===_0x57d41f||(_0x9d27f4['directional']['length']=_0x61ba1b,_0x9d27f4['spot']['length']=_0xc2d3ae,_0x9d27f4['rectArea']['length']=_0x3d8b3a,_0x9d27f4['point']['length']=_0x2dd2ac,_0x9d27f4['hemi']['length']=_0x13dad1,_0x9d27f4['directionalShadow']['length']=_0x37c9b9,_0x9d27f4['directionalShadowMap']['length']=_0x37c9b9,_0x9d27f4['pointShadow']['length']=_0x4f1df1,_0x9d27f4['pointShadowMap']['length']=_0x4f1df1,_0x9d27f4['spotShadow']['length']=_0x424ddc,_0x9d27f4['spotShadowMap']['length']=_0x424ddc,_0x9d27f4['directionalShadowMatrix']['length']=_0x37c9b9,_0x9d27f4['pointShadowMatrix']['length']=_0x4f1df1,_0x9d27f4['spotLightMatrix']['length']=_0x424ddc+_0x2022d8-_0x12b379,_0x9d27f4['spotLightMap']['length']=_0x2022d8,_0x9d27f4['numSpotLightShadowsWithMaps']=_0x12b379,_0x9d27f4['numLightProbes']=_0x57d41f,_0x36417b['directionalLength']=_0x61ba1b,_0x36417b['pointLength']=_0x2dd2ac,_0x36417b['spotLength']=_0xc2d3ae,_0x36417b['rectAreaLength']=_0x3d8b3a,_0x36417b['hemiLength']=_0x13dad1,_0x36417b['numDirectionalShadows']=_0x37c9b9,_0x36417b['numPointShadows']=_0x4f1df1,_0x36417b['numSpotShadows']=_0x424ddc,_0x36417b['numSpotMaps']=_0x2022d8,_0x36417b['numLightProbes']=_0x57d41f,_0x9d27f4['version']=_0x3087d5++);},'setupView':function(_0x4885c1,_0x118dd0){let _0x36b1e9=0x0,_0x1c2adb=0x0,_0x3f646d=0x0,_0x23ed50=0x0,_0x90d3eb=0x0;const _0x2d8850=_0x118dd0['matrixWorldInverse'];for(let _0x90a60d=0x0,_0x5d4cac=_0x4885c1['length'];_0x90a60d<_0x5d4cac;_0x90a60d++){const _0x392a17=_0x4885c1[_0x90a60d];if(_0x392a17['isDirectionalLight']){const _0x24dc1a=_0x9d27f4['directional'][_0x36b1e9];_0x24dc1a['direction']['setFromMatrixPosition'](_0x392a17['matrixWorld']),_0x41bc6e['setFromMatrixPosition'](_0x392a17['target']['matrixWorld']),_0x24dc1a['direction']['sub'](_0x41bc6e),_0x24dc1a['direction']['transformDirection'](_0x2d8850),_0x36b1e9++;}else{if(_0x392a17['isSpotLight']){const _0x24b937=_0x9d27f4['spot'][_0x3f646d];_0x24b937['position']['setFromMatrixPosition'](_0x392a17['matrixWorld']),_0x24b937['position']['applyMatrix4'](_0x2d8850),_0x24b937['direction']['setFromMatrixPosition'](_0x392a17['matrixWorld']),_0x41bc6e['setFromMatrixPosition'](_0x392a17['target']['matrixWorld']),_0x24b937['direction']['sub'](_0x41bc6e),_0x24b937['direction']['transformDirection'](_0x2d8850),_0x3f646d++;}else{if(_0x392a17['isRectAreaLight']){const _0x3eaf27=_0x9d27f4['rectArea'][_0x23ed50];_0x3eaf27['position']['setFromMatrixPosition'](_0x392a17['matrixWorld']),_0x3eaf27['position']['applyMatrix4'](_0x2d8850),_0x2907c0['identity'](),_0x295732['copy'](_0x392a17['matrixWorld']),_0x295732['premultiply'](_0x2d8850),_0x2907c0['extractRotation'](_0x295732),_0x3eaf27['halfWidth']['set'](0.5*_0x392a17['width'],0x0,0x0),_0x3eaf27['halfHeight']['set'](0x0,0.5*_0x392a17['height'],0x0),_0x3eaf27['halfWidth']['applyMatrix4'](_0x2907c0),_0x3eaf27['halfHeight']['applyMatrix4'](_0x2907c0),_0x23ed50++;}else{if(_0x392a17['isPointLight']){const _0x3923d3=_0x9d27f4['point'][_0x1c2adb];_0x3923d3['position']['setFromMatrixPosition'](_0x392a17['matrixWorld']),_0x3923d3['position']['applyMatrix4'](_0x2d8850),_0x1c2adb++;}else{if(_0x392a17['isHemisphereLight']){const _0x2c0e70=_0x9d27f4['hemi'][_0x90d3eb];_0x2c0e70['direction']['setFromMatrixPosition'](_0x392a17['matrixWorld']),_0x2c0e70['direction']['transformDirection'](_0x2d8850),_0x90d3eb++;}}}}}}},'state':_0x9d27f4};}function _0x3336b3(_0x585e05){const _0x5583d4=new _0x41816b(_0x585e05),_0x21ae78=[],_0x5d2e4d=[],_0xc7758b={'lightsArray':_0x21ae78,'shadowsArray':_0x5d2e4d,'camera':null,'lights':_0x5583d4,'transmissionRenderTarget':{}};return{'init':function(_0x427012){_0xc7758b['camera']=_0x427012,_0x21ae78['length']=0x0,_0x5d2e4d['length']=0x0;},'state':_0xc7758b,'setupLights':function(){_0x5583d4['setup'](_0x21ae78);},'setupLightsView':function(_0x42dac3){_0x5583d4['setupView'](_0x21ae78,_0x42dac3);},'pushLight':function(_0x426437){_0x21ae78['push'](_0x426437);},'pushShadow':function(_0x52b267){_0x5d2e4d['push'](_0x52b267);}};}function _0x1b995d(_0x341451){let _0x276a7a=new WeakMap();return{'get':function(_0x4d0f99,_0x5e326e=0x0){const _0x33851d=_0x276a7a['get'](_0x4d0f99);let _0x5594f9;return void 0x0===_0x33851d?(_0x5594f9=new _0x3336b3(_0x341451),_0x276a7a['set'](_0x4d0f99,[_0x5594f9])):_0x5e326e>=_0x33851d['length']?(_0x5594f9=new _0x3336b3(_0x341451),_0x33851d['push'](_0x5594f9)):_0x5594f9=_0x33851d[_0x5e326e],_0x5594f9;},'dispose':function(){_0x276a7a=new WeakMap();}};}function _0x26c226(_0x4b96ef,_0x99d263,_0x418fcd){let _0x2986e8=new _0x4e3753['PPD']();const _0x4b9cd2=new _0x4e3753['I9Y'](),_0x4f4f86=new _0x4e3753['I9Y'](),_0x300afe=new _0x4e3753['IUQ'](),_0x49b1a4=new _0x4e3753['CSG']({'depthPacking':_0x4e3753['N5j']}),_0x3ed277=new _0x4e3753['aVO'](),_0x52613a={},_0x1a9a87=_0x418fcd['maxTextureSize'],_0x2057df={[_0x4e3753['hB5']]:_0x4e3753['hsX'],[_0x4e3753['hsX']]:_0x4e3753['hB5'],[_0x4e3753['$EB']]:_0x4e3753['$EB']},_0x115776=new _0x4e3753['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0x4e3753['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0x3605b3=_0x115776['clone']();_0x3605b3['defines']['HORIZONTAL_PASS']=0x1;const _0x5c17f0=new _0x4e3753['LoY']();_0x5c17f0['setAttribute']('position',new _0x4e3753['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x45e77e=new _0x4e3753['eaF'](_0x5c17f0,_0x115776),_0x206dfe=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0x4e3753['QP0'];let _0x5417f9=this['type'];function _0x31eeca(_0x5b2eaa,_0x4246c5){const _0x31c7ff=_0x99d263['update'](_0x45e77e);_0x115776['defines']['VSM_SAMPLES']!==_0x5b2eaa['blurSamples']&&(_0x115776['defines']['VSM_SAMPLES']=_0x5b2eaa['blurSamples'],_0x3605b3['defines']['VSM_SAMPLES']=_0x5b2eaa['blurSamples'],_0x115776['needsUpdate']=!0x0,_0x3605b3['needsUpdate']=!0x0),null===_0x5b2eaa['mapPass']&&(_0x5b2eaa['mapPass']=new _0x4e3753['nWS'](_0x4b9cd2['x'],_0x4b9cd2['y'])),_0x115776['uniforms']['shadow_pass']['value']=_0x5b2eaa['map']['texture'],_0x115776['uniforms']['resolution']['value']=_0x5b2eaa['mapSize'],_0x115776['uniforms']['radius']['value']=_0x5b2eaa['radius'],_0x4b96ef['setRenderTarget'](_0x5b2eaa['mapPass']),_0x4b96ef['clear'](),_0x4b96ef['renderBufferDirect'](_0x4246c5,null,_0x31c7ff,_0x115776,_0x45e77e,null),_0x3605b3['uniforms']['shadow_pass']['value']=_0x5b2eaa['mapPass']['texture'],_0x3605b3['uniforms']['resolution']['value']=_0x5b2eaa['mapSize'],_0x3605b3['uniforms']['radius']['value']=_0x5b2eaa['radius'],_0x4b96ef['setRenderTarget'](_0x5b2eaa['map']),_0x4b96ef['clear'](),_0x4b96ef['renderBufferDirect'](_0x4246c5,null,_0x31c7ff,_0x3605b3,_0x45e77e,null);}function _0x41c53d(_0x2c8775,_0x401d67,_0x407e67,_0x4444a7){let _0x513efe=null;const _0x54f2bb=!0x0===_0x407e67['isPointLight']?_0x2c8775['customDistanceMaterial']:_0x2c8775['customDepthMaterial'];if(void 0x0!==_0x54f2bb)_0x513efe=_0x54f2bb;else{if(_0x513efe=!0x0===_0x407e67['isPointLight']?_0x3ed277:_0x49b1a4,_0x4b96ef['localClippingEnabled']&&!0x0===_0x401d67['clipShadows']&&Array['isArray'](_0x401d67['clippingPlanes'])&&0x0!==_0x401d67['clippingPlanes']['length']||_0x401d67['displacementMap']&&0x0!==_0x401d67['displacementScale']||_0x401d67['alphaMap']&&_0x401d67['alphaTest']>0x0||_0x401d67['map']&&_0x401d67['alphaTest']>0x0){const _0x51350e=_0x513efe['uuid'],_0x57db1f=_0x401d67['uuid'];let _0x173d0f=_0x52613a[_0x51350e];void 0x0===_0x173d0f&&(_0x173d0f={},_0x52613a[_0x51350e]=_0x173d0f);let _0x460fc4=_0x173d0f[_0x57db1f];void 0x0===_0x460fc4&&(_0x460fc4=_0x513efe['clone'](),_0x173d0f[_0x57db1f]=_0x460fc4,_0x401d67['addEventListener']('dispose',_0x42707f)),_0x513efe=_0x460fc4;}}return(_0x513efe['visible']=_0x401d67['visible'],_0x513efe['wireframe']=_0x401d67['wireframe'],_0x4444a7===_0x4e3753['RyA']?_0x513efe['side']=null!==_0x401d67['shadowSide']?_0x401d67['shadowSide']:_0x401d67['side']:_0x513efe['side']=null!==_0x401d67['shadowSide']?_0x401d67['shadowSide']:_0x2057df[_0x401d67['side']],_0x513efe['alphaMap']=_0x401d67['alphaMap'],_0x513efe['alphaTest']=_0x401d67['alphaTest'],_0x513efe['map']=_0x401d67['map'],_0x513efe['clipShadows']=_0x401d67['clipShadows'],_0x513efe['clippingPlanes']=_0x401d67['clippingPlanes'],_0x513efe['clipIntersection']=_0x401d67['clipIntersection'],_0x513efe['displacementMap']=_0x401d67['displacementMap'],_0x513efe['displacementScale']=_0x401d67['displacementScale'],_0x513efe['displacementBias']=_0x401d67['displacementBias'],_0x513efe['wireframeLinewidth']=_0x401d67['wireframeLinewidth'],_0x513efe['linewidth']=_0x401d67['linewidth'],!0x0===_0x407e67['isPointLight']&&!0x0===_0x513efe['isMeshDistanceMaterial'])&&(_0x4b96ef['properties']['get'](_0x513efe)['light']=_0x407e67),_0x513efe;}function _0x3aae57(_0x3c0de5,_0x1ea858,_0x2e2967,_0x6b79df,_0x4077ec){if(!0x1===_0x3c0de5['visible'])return;if(_0x3c0de5['layers']['test'](_0x1ea858['layers'])&&(_0x3c0de5['isMesh']||_0x3c0de5['isLine']||_0x3c0de5['isPoints'])&&(_0x3c0de5['castShadow']||_0x3c0de5['receiveShadow']&&_0x4077ec===_0x4e3753['RyA'])&&(!_0x3c0de5['frustumCulled']||_0x2986e8['intersectsObject'](_0x3c0de5))){_0x3c0de5['modelViewMatrix']['multiplyMatrices'](_0x2e2967['matrixWorldInverse'],_0x3c0de5['matrixWorld']);const _0xed0119=_0x99d263['update'](_0x3c0de5),_0xaf1daf=_0x3c0de5['material'];if(Array['isArray'](_0xaf1daf)){const _0x14baca=_0xed0119['groups'];for(let _0x35f637=0x0,_0x803d3e=_0x14baca['length'];_0x35f637<_0x803d3e;_0x35f637++){const _0x278b38=_0x14baca[_0x35f637],_0x1c491c=_0xaf1daf[_0x278b38['materialIndex']];if(_0x1c491c&&_0x1c491c['visible']){const _0x310495=_0x41c53d(_0x3c0de5,_0x1c491c,_0x6b79df,_0x4077ec);_0x3c0de5['onBeforeShadow'](_0x4b96ef,_0x3c0de5,_0x1ea858,_0x2e2967,_0xed0119,_0x310495,_0x278b38),_0x4b96ef['renderBufferDirect'](_0x2e2967,null,_0xed0119,_0x310495,_0x3c0de5,_0x278b38),_0x3c0de5['onAfterShadow'](_0x4b96ef,_0x3c0de5,_0x1ea858,_0x2e2967,_0xed0119,_0x310495,_0x278b38);}}}else{if(_0xaf1daf['visible']){const _0xc8607d=_0x41c53d(_0x3c0de5,_0xaf1daf,_0x6b79df,_0x4077ec);_0x3c0de5['onBeforeShadow'](_0x4b96ef,_0x3c0de5,_0x1ea858,_0x2e2967,_0xed0119,_0xc8607d,null),_0x4b96ef['renderBufferDirect'](_0x2e2967,null,_0xed0119,_0xc8607d,_0x3c0de5,null),_0x3c0de5['onAfterShadow'](_0x4b96ef,_0x3c0de5,_0x1ea858,_0x2e2967,_0xed0119,_0xc8607d,null);}}}const _0x3cccf0=_0x3c0de5['children'];for(let _0x5d40fd=0x0,_0x13e2bb=_0x3cccf0['length'];_0x5d40fd<_0x13e2bb;_0x5d40fd++)_0x3aae57(_0x3cccf0[_0x5d40fd],_0x1ea858,_0x2e2967,_0x6b79df,_0x4077ec);}function _0x42707f(_0x5b7a10){_0x5b7a10['target']['removeEventListener']('dispose',_0x42707f);for(const _0x2d1c32 in _0x52613a){const _0x532b5f=_0x52613a[_0x2d1c32],_0x371945=_0x5b7a10['target']['uuid'];_0x371945 in _0x532b5f&&(_0x532b5f[_0x371945]['dispose'](),delete _0x532b5f[_0x371945]);}}this['render']=function(_0x1fc9a7,_0x27306a,_0x3a8077){if(!0x1===_0x206dfe['enabled'])return;if(!0x1===_0x206dfe['autoUpdate']&&!0x1===_0x206dfe['needsUpdate'])return;if(0x0===_0x1fc9a7['length'])return;const _0x2b5362=_0x4b96ef['getRenderTarget'](),_0x11c69f=_0x4b96ef['getActiveCubeFace'](),_0x142e9f=_0x4b96ef['getActiveMipmapLevel'](),_0x4e2657=_0x4b96ef['state'];_0x4e2657['setBlending'](_0x4e3753['XIg']),_0x4e2657['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0x4e2657['buffers']['depth']['setTest'](!0x0),_0x4e2657['setScissorTest'](!0x1);const _0x54644f=_0x5417f9!==_0x4e3753['RyA']&&this['type']===_0x4e3753['RyA'],_0x593299=_0x5417f9===_0x4e3753['RyA']&&this['type']!==_0x4e3753['RyA'];for(let _0xa927bb=0x0,_0x3247dd=_0x1fc9a7['length'];_0xa927bb<_0x3247dd;_0xa927bb++){const _0xd05f4f=_0x1fc9a7[_0xa927bb],_0x204f90=_0xd05f4f['shadow'];if(void 0x0===_0x204f90){console['warn']('THREE.WebGLShadowMap:',_0xd05f4f,'has\x20no\x20shadow.');continue;}if(!0x1===_0x204f90['autoUpdate']&&!0x1===_0x204f90['needsUpdate'])continue;_0x4b9cd2['copy'](_0x204f90['mapSize']);const _0x1863d6=_0x204f90['getFrameExtents']();if(_0x4b9cd2['multiply'](_0x1863d6),_0x4f4f86['copy'](_0x204f90['mapSize']),(_0x4b9cd2['x']>_0x1a9a87||_0x4b9cd2['y']>_0x1a9a87)&&(_0x4b9cd2['x']>_0x1a9a87&&(_0x4f4f86['x']=Math['floor'](_0x1a9a87/_0x1863d6['x']),_0x4b9cd2['x']=_0x4f4f86['x']*_0x1863d6['x'],_0x204f90['mapSize']['x']=_0x4f4f86['x']),_0x4b9cd2['y']>_0x1a9a87&&(_0x4f4f86['y']=Math['floor'](_0x1a9a87/_0x1863d6['y']),_0x4b9cd2['y']=_0x4f4f86['y']*_0x1863d6['y'],_0x204f90['mapSize']['y']=_0x4f4f86['y'])),null===_0x204f90['map']||!0x0===_0x54644f||!0x0===_0x593299){const _0x3fdbe2=this['type']!==_0x4e3753['RyA']?{'minFilter':_0x4e3753['hxR'],'magFilter':_0x4e3753['hxR']}:{};null!==_0x204f90['map']&&_0x204f90['map']['dispose'](),_0x204f90['map']=new _0x4e3753['nWS'](_0x4b9cd2['x'],_0x4b9cd2['y'],_0x3fdbe2),_0x204f90['map']['texture']['name']=_0xd05f4f['name']+'.shadowMap',_0x204f90['camera']['updateProjectionMatrix']();}_0x4b96ef['setRenderTarget'](_0x204f90['map']),_0x4b96ef['clear']();const _0x36eef2=_0x204f90['getViewportCount']();for(let _0x23c9b1=0x0;_0x23c9b1<_0x36eef2;_0x23c9b1++){const _0x528f41=_0x204f90['getViewport'](_0x23c9b1);_0x300afe['set'](_0x4f4f86['x']*_0x528f41['x'],_0x4f4f86['y']*_0x528f41['y'],_0x4f4f86['x']*_0x528f41['z'],_0x4f4f86['y']*_0x528f41['w']),_0x4e2657['viewport'](_0x300afe),_0x204f90['updateMatrices'](_0xd05f4f,_0x23c9b1),_0x2986e8=_0x204f90['getFrustum'](),_0x3aae57(_0x27306a,_0x3a8077,_0x204f90['camera'],_0xd05f4f,this['type']);}!0x0!==_0x204f90['isPointLightShadow']&&this['type']===_0x4e3753['RyA']&&_0x31eeca(_0x204f90,_0x3a8077),_0x204f90['needsUpdate']=!0x1;}_0x5417f9=this['type'],_0x206dfe['needsUpdate']=!0x1,_0x4b96ef['setRenderTarget'](_0x2b5362,_0x11c69f,_0x142e9f);};}const _0x4b215c={[_0x4e3753['eHc']]:_0x4e3753['lGu'],[_0x4e3753['brA']]:_0x4e3753['K52'],[_0x4e3753['U3G']]:_0x4e3753['bw0'],[_0x4e3753['xSv']]:_0x4e3753['Gwm'],[_0x4e3753['lGu']]:_0x4e3753['eHc'],[_0x4e3753['K52']]:_0x4e3753['brA'],[_0x4e3753['bw0']]:_0x4e3753['U3G'],[_0x4e3753['Gwm']]:_0x4e3753['xSv']};function _0x48c6c8(_0x4d9b2f,_0xbfe5ff){const _0x375424=new function(){let _0x546590=!0x1;const _0x1930b9=new _0x4e3753['IUQ']();let _0x2fa73e=null;const _0x546aab=new _0x4e3753['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0x4bef19){_0x2fa73e===_0x4bef19||_0x546590||(_0x4d9b2f['colorMask'](_0x4bef19,_0x4bef19,_0x4bef19,_0x4bef19),_0x2fa73e=_0x4bef19);},'setLocked':function(_0x6af3a0){_0x546590=_0x6af3a0;},'setClear':function(_0x3bacbd,_0x245a63,_0x2b8d55,_0x528982,_0x5081eb){!0x0===_0x5081eb&&(_0x3bacbd*=_0x528982,_0x245a63*=_0x528982,_0x2b8d55*=_0x528982),_0x1930b9['set'](_0x3bacbd,_0x245a63,_0x2b8d55,_0x528982),!0x1===_0x546aab['equals'](_0x1930b9)&&(_0x4d9b2f['clearColor'](_0x3bacbd,_0x245a63,_0x2b8d55,_0x528982),_0x546aab['copy'](_0x1930b9));},'reset':function(){_0x546590=!0x1,_0x2fa73e=null,_0x546aab['set'](-0x1,0x0,0x0,0x0);}};}(),_0x3e5752=new function(){let _0x43f322=!0x1,_0x339f79=!0x1,_0x414514=null,_0x24f8e0=null,_0x53af51=null;return{'setReversed':function(_0x5a3b02){if(_0x339f79!==_0x5a3b02){const _0x440ab7=_0xbfe5ff['get']('EXT_clip_control');_0x339f79?_0x440ab7['clipControlEXT'](_0x440ab7['LOWER_LEFT_EXT'],_0x440ab7['ZERO_TO_ONE_EXT']):_0x440ab7['clipControlEXT'](_0x440ab7['LOWER_LEFT_EXT'],_0x440ab7['NEGATIVE_ONE_TO_ONE_EXT']);const _0x47a7c3=_0x53af51;_0x53af51=null,this['setClear'](_0x47a7c3);}_0x339f79=_0x5a3b02;},'getReversed':function(){return _0x339f79;},'setTest':function(_0x155321){_0x155321?_0xc2bd62(_0x4d9b2f['DEPTH_TEST']):_0x28aba6(_0x4d9b2f['DEPTH_TEST']);},'setMask':function(_0x22f1b1){_0x414514===_0x22f1b1||_0x43f322||(_0x4d9b2f['depthMask'](_0x22f1b1),_0x414514=_0x22f1b1);},'setFunc':function(_0x3c3762){if(_0x339f79&&(_0x3c3762=_0x4b215c[_0x3c3762]),_0x24f8e0!==_0x3c3762){switch(_0x3c3762){case _0x4e3753['eHc']:_0x4d9b2f['depthFunc'](_0x4d9b2f['NEVER']);break;case _0x4e3753['lGu']:_0x4d9b2f['depthFunc'](_0x4d9b2f['ALWAYS']);break;case _0x4e3753['brA']:_0x4d9b2f['depthFunc'](_0x4d9b2f['LESS']);break;case _0x4e3753['xSv']:_0x4d9b2f['depthFunc'](_0x4d9b2f['LEQUAL']);break;case _0x4e3753['U3G']:_0x4d9b2f['depthFunc'](_0x4d9b2f['EQUAL']);break;case _0x4e3753['Gwm']:_0x4d9b2f['depthFunc'](_0x4d9b2f['GEQUAL']);break;case _0x4e3753['K52']:_0x4d9b2f['depthFunc'](_0x4d9b2f['GREATER']);break;case _0x4e3753['bw0']:_0x4d9b2f['depthFunc'](_0x4d9b2f['NOTEQUAL']);break;default:_0x4d9b2f['depthFunc'](_0x4d9b2f['LEQUAL']);}_0x24f8e0=_0x3c3762;}},'setLocked':function(_0x3d3195){_0x43f322=_0x3d3195;},'setClear':function(_0x3ccbd6){_0x53af51!==_0x3ccbd6&&(_0x339f79&&(_0x3ccbd6=0x1-_0x3ccbd6),_0x4d9b2f['clearDepth'](_0x3ccbd6),_0x53af51=_0x3ccbd6);},'reset':function(){_0x43f322=!0x1,_0x414514=null,_0x24f8e0=null,_0x53af51=null,_0x339f79=!0x1;}};}(),_0x3910e6=new function(){let _0x4a8491=!0x1,_0x39053d=null,_0x580e7d=null,_0x3d467f=null,_0x4c53a7=null,_0x3e53bd=null,_0x2fdfa1=null,_0x3a5d09=null,_0x5092d5=null;return{'setTest':function(_0x24b13a){_0x4a8491||(_0x24b13a?_0xc2bd62(_0x4d9b2f['STENCIL_TEST']):_0x28aba6(_0x4d9b2f['STENCIL_TEST']));},'setMask':function(_0x34e7c4){_0x39053d===_0x34e7c4||_0x4a8491||(_0x4d9b2f['stencilMask'](_0x34e7c4),_0x39053d=_0x34e7c4);},'setFunc':function(_0xd7fe96,_0x50a34e,_0x587694){_0x580e7d===_0xd7fe96&&_0x3d467f===_0x50a34e&&_0x4c53a7===_0x587694||(_0x4d9b2f['stencilFunc'](_0xd7fe96,_0x50a34e,_0x587694),_0x580e7d=_0xd7fe96,_0x3d467f=_0x50a34e,_0x4c53a7=_0x587694);},'setOp':function(_0x1cadd1,_0x4a5aac,_0x41d022){_0x3e53bd===_0x1cadd1&&_0x2fdfa1===_0x4a5aac&&_0x3a5d09===_0x41d022||(_0x4d9b2f['stencilOp'](_0x1cadd1,_0x4a5aac,_0x41d022),_0x3e53bd=_0x1cadd1,_0x2fdfa1=_0x4a5aac,_0x3a5d09=_0x41d022);},'setLocked':function(_0x48d2dc){_0x4a8491=_0x48d2dc;},'setClear':function(_0x494e4e){_0x5092d5!==_0x494e4e&&(_0x4d9b2f['clearStencil'](_0x494e4e),_0x5092d5=_0x494e4e);},'reset':function(){_0x4a8491=!0x1,_0x39053d=null,_0x580e7d=null,_0x3d467f=null,_0x4c53a7=null,_0x3e53bd=null,_0x2fdfa1=null,_0x3a5d09=null,_0x5092d5=null;}};}(),_0x5d76c0=new WeakMap(),_0x2ec954=new WeakMap();let _0x4d3831={},_0x4a7869={},_0x1a08c4=new WeakMap(),_0x37dbd6=[],_0x28100e=null,_0x78812a=!0x1,_0x29adce=null,_0x113160=null,_0x825b88=null,_0x39fae5=null,_0x35d8e4=null,_0x46b06a=null,_0x48a9c1=null,_0x37890e=new _0x4e3753['Q1f'](0x0,0x0,0x0),_0x51590b=0x0,_0x5827e9=!0x1,_0x5a89b6=null,_0x4556a6=null,_0x57a6ef=null,_0x252f30=null,_0x4d4fc1=null;const _0x33b867=_0x4d9b2f['getParameter'](_0x4d9b2f['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x42d6a2=!0x1,_0xa4b629=0x0;const _0x4650ba=_0x4d9b2f['getParameter'](_0x4d9b2f['VERSION']);-0x1!==_0x4650ba['indexOf']('WebGL')?(_0xa4b629=parseFloat(/^WebGL (\d)/['exec'](_0x4650ba)[0x1]),_0x42d6a2=_0xa4b629>=0x1):-0x1!==_0x4650ba['indexOf']('OpenGL\x20ES')&&(_0xa4b629=parseFloat(/^OpenGL ES (\d)/['exec'](_0x4650ba)[0x1]),_0x42d6a2=_0xa4b629>=0x2);let _0x4ec917=null,_0x4a2c8c={};const _0x5aec61=_0x4d9b2f['getParameter'](_0x4d9b2f['SCISSOR_BOX']),_0x5b1315=_0x4d9b2f['getParameter'](_0x4d9b2f['VIEWPORT']),_0x578e47=new _0x4e3753['IUQ']()['fromArray'](_0x5aec61),_0x1541bc=new _0x4e3753['IUQ']()['fromArray'](_0x5b1315);function _0xee20a0(_0x1a98a8,_0x39f5d1,_0x1d150e,_0x4b8145){const _0x365a2b=new Uint8Array(0x4),_0x1477d2=_0x4d9b2f['createTexture']();_0x4d9b2f['bindTexture'](_0x1a98a8,_0x1477d2),_0x4d9b2f['texParameteri'](_0x1a98a8,_0x4d9b2f['TEXTURE_MIN_FILTER'],_0x4d9b2f['NEAREST']),_0x4d9b2f['texParameteri'](_0x1a98a8,_0x4d9b2f['TEXTURE_MAG_FILTER'],_0x4d9b2f['NEAREST']);for(let _0x32639b=0x0;_0x32639b<_0x1d150e;_0x32639b++)_0x1a98a8===_0x4d9b2f['TEXTURE_3D']||_0x1a98a8===_0x4d9b2f['TEXTURE_2D_ARRAY']?_0x4d9b2f['texImage3D'](_0x39f5d1,0x0,_0x4d9b2f['RGBA'],0x1,0x1,_0x4b8145,0x0,_0x4d9b2f['RGBA'],_0x4d9b2f['UNSIGNED_BYTE'],_0x365a2b):_0x4d9b2f['texImage2D'](_0x39f5d1+_0x32639b,0x0,_0x4d9b2f['RGBA'],0x1,0x1,0x0,_0x4d9b2f['RGBA'],_0x4d9b2f['UNSIGNED_BYTE'],_0x365a2b);return _0x1477d2;}const _0x4a6ed1={};function _0xc2bd62(_0x335c18){!0x0!==_0x4d3831[_0x335c18]&&(_0x4d9b2f['enable'](_0x335c18),_0x4d3831[_0x335c18]=!0x0);}function _0x28aba6(_0x42327d){!0x1!==_0x4d3831[_0x42327d]&&(_0x4d9b2f['disable'](_0x42327d),_0x4d3831[_0x42327d]=!0x1);}_0x4a6ed1[_0x4d9b2f['TEXTURE_2D']]=_0xee20a0(_0x4d9b2f['TEXTURE_2D'],_0x4d9b2f['TEXTURE_2D'],0x1),_0x4a6ed1[_0x4d9b2f['TEXTURE_CUBE_MAP']]=_0xee20a0(_0x4d9b2f['TEXTURE_CUBE_MAP'],_0x4d9b2f['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x4a6ed1[_0x4d9b2f['TEXTURE_2D_ARRAY']]=_0xee20a0(_0x4d9b2f['TEXTURE_2D_ARRAY'],_0x4d9b2f['TEXTURE_2D_ARRAY'],0x1,0x1),_0x4a6ed1[_0x4d9b2f['TEXTURE_3D']]=_0xee20a0(_0x4d9b2f['TEXTURE_3D'],_0x4d9b2f['TEXTURE_3D'],0x1,0x1),_0x375424['setClear'](0x0,0x0,0x0,0x1),_0x3e5752['setClear'](0x1),_0x3910e6['setClear'](0x0),_0xc2bd62(_0x4d9b2f['DEPTH_TEST']),_0x3e5752['setFunc'](_0x4e3753['xSv']),_0x2bfecc(!0x1),_0x3972d7(_0x4e3753['Vb5']),_0xc2bd62(_0x4d9b2f['CULL_FACE']),_0x5c11b3(_0x4e3753['XIg']);const _0x583069={[_0x4e3753['gO9']]:_0x4d9b2f['FUNC_ADD'],[_0x4e3753['FXf']]:_0x4d9b2f['FUNC_SUBTRACT'],[_0x4e3753['nST']]:_0x4d9b2f['FUNC_REVERSE_SUBTRACT']};_0x583069[_0x4e3753['znC']]=_0x4d9b2f['MIN'],_0x583069[_0x4e3753['$ei']]=_0x4d9b2f['MAX'];const _0x50d176={[_0x4e3753['ojh']]:_0x4d9b2f['ZERO'],[_0x4e3753['qad']]:_0x4d9b2f['ONE'],[_0x4e3753['f4X']]:_0x4d9b2f['SRC_COLOR'],[_0x4e3753['ie2']]:_0x4d9b2f['SRC_ALPHA'],[_0x4e3753['hgQ']]:_0x4d9b2f['SRC_ALPHA_SATURATE'],[_0x4e3753['wn6']]:_0x4d9b2f['DST_COLOR'],[_0x4e3753['hdd']]:_0x4d9b2f['DST_ALPHA'],[_0x4e3753['LiQ']]:_0x4d9b2f['ONE_MINUS_SRC_COLOR'],[_0x4e3753['OuU']]:_0x4d9b2f['ONE_MINUS_SRC_ALPHA'],[_0x4e3753['aEY']]:_0x4d9b2f['ONE_MINUS_DST_COLOR'],[_0x4e3753['Nt7']]:_0x4d9b2f['ONE_MINUS_DST_ALPHA'],[_0x4e3753['RrE']]:_0x4d9b2f['CONSTANT_COLOR'],[_0x4e3753['$Yl']]:_0x4d9b2f['ONE_MINUS_CONSTANT_COLOR'],[_0x4e3753['e0p']]:_0x4d9b2f['CONSTANT_ALPHA'],[_0x4e3753['ov9']]:_0x4d9b2f['ONE_MINUS_CONSTANT_ALPHA']};function _0x5c11b3(_0x26f53f,_0x3219b1,_0x4b3389,_0x3f299c,_0x4a1d06,_0xd90f57,_0x2ff2cc,_0xd2f0f2,_0x40dd27,_0x2e63ef){if(_0x26f53f!==_0x4e3753['XIg']){if(!0x1===_0x78812a&&(_0xc2bd62(_0x4d9b2f['BLEND']),_0x78812a=!0x0),_0x26f53f===_0x4e3753['bCz'])_0x4a1d06=_0x4a1d06||_0x3219b1,_0xd90f57=_0xd90f57||_0x4b3389,_0x2ff2cc=_0x2ff2cc||_0x3f299c,_0x3219b1===_0x113160&&_0x4a1d06===_0x35d8e4||(_0x4d9b2f['blendEquationSeparate'](_0x583069[_0x3219b1],_0x583069[_0x4a1d06]),_0x113160=_0x3219b1,_0x35d8e4=_0x4a1d06),_0x4b3389===_0x825b88&&_0x3f299c===_0x39fae5&&_0xd90f57===_0x46b06a&&_0x2ff2cc===_0x48a9c1||(_0x4d9b2f['blendFuncSeparate'](_0x50d176[_0x4b3389],_0x50d176[_0x3f299c],_0x50d176[_0xd90f57],_0x50d176[_0x2ff2cc]),_0x825b88=_0x4b3389,_0x39fae5=_0x3f299c,_0x46b06a=_0xd90f57,_0x48a9c1=_0x2ff2cc),!0x1!==_0xd2f0f2['equals'](_0x37890e)&&_0x40dd27===_0x51590b||(_0x4d9b2f['blendColor'](_0xd2f0f2['r'],_0xd2f0f2['g'],_0xd2f0f2['b'],_0x40dd27),_0x37890e['copy'](_0xd2f0f2),_0x51590b=_0x40dd27),_0x29adce=_0x26f53f,_0x5827e9=!0x1;else{if(_0x26f53f!==_0x29adce||_0x2e63ef!==_0x5827e9){if(_0x113160===_0x4e3753['gO9']&&_0x35d8e4===_0x4e3753['gO9']||(_0x4d9b2f['blendEquation'](_0x4d9b2f['FUNC_ADD']),_0x113160=_0x4e3753['gO9'],_0x35d8e4=_0x4e3753['gO9']),_0x2e63ef)switch(_0x26f53f){case _0x4e3753['NTi']:_0x4d9b2f['blendFuncSeparate'](_0x4d9b2f['ONE'],_0x4d9b2f['ONE_MINUS_SRC_ALPHA'],_0x4d9b2f['ONE'],_0x4d9b2f['ONE_MINUS_SRC_ALPHA']);break;case _0x4e3753['EZo']:_0x4d9b2f['blendFunc'](_0x4d9b2f['ONE'],_0x4d9b2f['ONE']);break;case _0x4e3753['Kwu']:_0x4d9b2f['blendFuncSeparate'](_0x4d9b2f['ZERO'],_0x4d9b2f['ONE_MINUS_SRC_COLOR'],_0x4d9b2f['ZERO'],_0x4d9b2f['ONE']);break;case _0x4e3753['EdD']:_0x4d9b2f['blendFuncSeparate'](_0x4d9b2f['ZERO'],_0x4d9b2f['SRC_COLOR'],_0x4d9b2f['ZERO'],_0x4d9b2f['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x26f53f);}else switch(_0x26f53f){case _0x4e3753['NTi']:_0x4d9b2f['blendFuncSeparate'](_0x4d9b2f['SRC_ALPHA'],_0x4d9b2f['ONE_MINUS_SRC_ALPHA'],_0x4d9b2f['ONE'],_0x4d9b2f['ONE_MINUS_SRC_ALPHA']);break;case _0x4e3753['EZo']:_0x4d9b2f['blendFunc'](_0x4d9b2f['SRC_ALPHA'],_0x4d9b2f['ONE']);break;case _0x4e3753['Kwu']:_0x4d9b2f['blendFuncSeparate'](_0x4d9b2f['ZERO'],_0x4d9b2f['ONE_MINUS_SRC_COLOR'],_0x4d9b2f['ZERO'],_0x4d9b2f['ONE']);break;case _0x4e3753['EdD']:_0x4d9b2f['blendFunc'](_0x4d9b2f['ZERO'],_0x4d9b2f['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x26f53f);}_0x825b88=null,_0x39fae5=null,_0x46b06a=null,_0x48a9c1=null,_0x37890e['set'](0x0,0x0,0x0),_0x51590b=0x0,_0x29adce=_0x26f53f,_0x5827e9=_0x2e63ef;}}}else!0x0===_0x78812a&&(_0x28aba6(_0x4d9b2f['BLEND']),_0x78812a=!0x1);}function _0x2bfecc(_0x4fa17e){_0x5a89b6!==_0x4fa17e&&(_0x4fa17e?_0x4d9b2f['frontFace'](_0x4d9b2f['CW']):_0x4d9b2f['frontFace'](_0x4d9b2f['CCW']),_0x5a89b6=_0x4fa17e);}function _0x3972d7(_0x801389){_0x801389!==_0x4e3753['WNZ']?(_0xc2bd62(_0x4d9b2f['CULL_FACE']),_0x801389!==_0x4556a6&&(_0x801389===_0x4e3753['Vb5']?_0x4d9b2f['cullFace'](_0x4d9b2f['BACK']):_0x801389===_0x4e3753['Jnc']?_0x4d9b2f['cullFace'](_0x4d9b2f['FRONT']):_0x4d9b2f['cullFace'](_0x4d9b2f['FRONT_AND_BACK']))):_0x28aba6(_0x4d9b2f['CULL_FACE']),_0x4556a6=_0x801389;}function _0x225bc1(_0x281ea7,_0x5518c8,_0x116a68){_0x281ea7?(_0xc2bd62(_0x4d9b2f['POLYGON_OFFSET_FILL']),_0x252f30===_0x5518c8&&_0x4d4fc1===_0x116a68||(_0x4d9b2f['polygonOffset'](_0x5518c8,_0x116a68),_0x252f30=_0x5518c8,_0x4d4fc1=_0x116a68)):_0x28aba6(_0x4d9b2f['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0x375424,'depth':_0x3e5752,'stencil':_0x3910e6},'enable':_0xc2bd62,'disable':_0x28aba6,'bindFramebuffer':function(_0x19844b,_0x4af605){return _0x4a7869[_0x19844b]!==_0x4af605&&(_0x4d9b2f['bindFramebuffer'](_0x19844b,_0x4af605),_0x4a7869[_0x19844b]=_0x4af605,_0x19844b===_0x4d9b2f['DRAW_FRAMEBUFFER']&&(_0x4a7869[_0x4d9b2f['FRAMEBUFFER']]=_0x4af605),_0x19844b===_0x4d9b2f['FRAMEBUFFER']&&(_0x4a7869[_0x4d9b2f['DRAW_FRAMEBUFFER']]=_0x4af605),!0x0);},'drawBuffers':function(_0xf7d11c,_0x49c083){let _0x34147b=_0x37dbd6,_0x11003b=!0x1;if(_0xf7d11c){_0x34147b=_0x1a08c4['get'](_0x49c083),void 0x0===_0x34147b&&(_0x34147b=[],_0x1a08c4['set'](_0x49c083,_0x34147b));const _0x13f365=_0xf7d11c['textures'];if(_0x34147b['length']!==_0x13f365['length']||_0x34147b[0x0]!==_0x4d9b2f['COLOR_ATTACHMENT0']){for(let _0x3e760a=0x0,_0x835400=_0x13f365['length'];_0x3e760a<_0x835400;_0x3e760a++)_0x34147b[_0x3e760a]=_0x4d9b2f['COLOR_ATTACHMENT0']+_0x3e760a;_0x34147b['length']=_0x13f365['length'],_0x11003b=!0x0;}}else _0x34147b[0x0]!==_0x4d9b2f['BACK']&&(_0x34147b[0x0]=_0x4d9b2f['BACK'],_0x11003b=!0x0);_0x11003b&&_0x4d9b2f['drawBuffers'](_0x34147b);},'useProgram':function(_0x1b7b4a){return _0x28100e!==_0x1b7b4a&&(_0x4d9b2f['useProgram'](_0x1b7b4a),_0x28100e=_0x1b7b4a,!0x0);},'setBlending':_0x5c11b3,'setMaterial':function(_0x1008a7,_0x42dff1){_0x1008a7['side']===_0x4e3753['$EB']?_0x28aba6(_0x4d9b2f['CULL_FACE']):_0xc2bd62(_0x4d9b2f['CULL_FACE']);let _0x4b14ab=_0x1008a7['side']===_0x4e3753['hsX'];_0x42dff1&&(_0x4b14ab=!_0x4b14ab),_0x2bfecc(_0x4b14ab),_0x1008a7['blending']===_0x4e3753['NTi']&&!0x1===_0x1008a7['transparent']?_0x5c11b3(_0x4e3753['XIg']):_0x5c11b3(_0x1008a7['blending'],_0x1008a7['blendEquation'],_0x1008a7['blendSrc'],_0x1008a7['blendDst'],_0x1008a7['blendEquationAlpha'],_0x1008a7['blendSrcAlpha'],_0x1008a7['blendDstAlpha'],_0x1008a7['blendColor'],_0x1008a7['blendAlpha'],_0x1008a7['premultipliedAlpha']),_0x3e5752['setFunc'](_0x1008a7['depthFunc']),_0x3e5752['setTest'](_0x1008a7['depthTest']),_0x3e5752['setMask'](_0x1008a7['depthWrite']),_0x375424['setMask'](_0x1008a7['colorWrite']);const _0x10f92f=_0x1008a7['stencilWrite'];_0x3910e6['setTest'](_0x10f92f),_0x10f92f&&(_0x3910e6['setMask'](_0x1008a7['stencilWriteMask']),_0x3910e6['setFunc'](_0x1008a7['stencilFunc'],_0x1008a7['stencilRef'],_0x1008a7['stencilFuncMask']),_0x3910e6['setOp'](_0x1008a7['stencilFail'],_0x1008a7['stencilZFail'],_0x1008a7['stencilZPass'])),_0x225bc1(_0x1008a7['polygonOffset'],_0x1008a7['polygonOffsetFactor'],_0x1008a7['polygonOffsetUnits']),!0x0===_0x1008a7['alphaToCoverage']?_0xc2bd62(_0x4d9b2f['SAMPLE_ALPHA_TO_COVERAGE']):_0x28aba6(_0x4d9b2f['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0x2bfecc,'setCullFace':_0x3972d7,'setLineWidth':function(_0x3b3d3c){_0x3b3d3c!==_0x57a6ef&&(_0x42d6a2&&_0x4d9b2f['lineWidth'](_0x3b3d3c),_0x57a6ef=_0x3b3d3c);},'setPolygonOffset':_0x225bc1,'setScissorTest':function(_0x577ea9){_0x577ea9?_0xc2bd62(_0x4d9b2f['SCISSOR_TEST']):_0x28aba6(_0x4d9b2f['SCISSOR_TEST']);},'activeTexture':function(_0x485e4e){void 0x0===_0x485e4e&&(_0x485e4e=_0x4d9b2f['TEXTURE0']+_0x33b867-0x1),_0x4ec917!==_0x485e4e&&(_0x4d9b2f['activeTexture'](_0x485e4e),_0x4ec917=_0x485e4e);},'bindTexture':function(_0x22e6b3,_0x244366,_0x25c715){void 0x0===_0x25c715&&(_0x25c715=null===_0x4ec917?_0x4d9b2f['TEXTURE0']+_0x33b867-0x1:_0x4ec917);let _0x46a1a6=_0x4a2c8c[_0x25c715];void 0x0===_0x46a1a6&&(_0x46a1a6={'type':void 0x0,'texture':void 0x0},_0x4a2c8c[_0x25c715]=_0x46a1a6),_0x46a1a6['type']===_0x22e6b3&&_0x46a1a6['texture']===_0x244366||(_0x4ec917!==_0x25c715&&(_0x4d9b2f['activeTexture'](_0x25c715),_0x4ec917=_0x25c715),_0x4d9b2f['bindTexture'](_0x22e6b3,_0x244366||_0x4a6ed1[_0x22e6b3]),_0x46a1a6['type']=_0x22e6b3,_0x46a1a6['texture']=_0x244366);},'unbindTexture':function(){const _0xb3e8a2=_0x4a2c8c[_0x4ec917];void 0x0!==_0xb3e8a2&&void 0x0!==_0xb3e8a2['type']&&(_0x4d9b2f['bindTexture'](_0xb3e8a2['type'],null),_0xb3e8a2['type']=void 0x0,_0xb3e8a2['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0x4d9b2f['compressedTexImage2D']['apply'](_0x4d9b2f,arguments);}catch(_0xf2b0b4){console['error']('THREE.WebGLState:',_0xf2b0b4);}},'compressedTexImage3D':function(){try{_0x4d9b2f['compressedTexImage3D']['apply'](_0x4d9b2f,arguments);}catch(_0x28f7c1){console['error']('THREE.WebGLState:',_0x28f7c1);}},'texImage2D':function(){try{_0x4d9b2f['texImage2D']['apply'](_0x4d9b2f,arguments);}catch(_0x59200a){console['error']('THREE.WebGLState:',_0x59200a);}},'texImage3D':function(){try{_0x4d9b2f['texImage3D']['apply'](_0x4d9b2f,arguments);}catch(_0x2b2593){console['error']('THREE.WebGLState:',_0x2b2593);}},'updateUBOMapping':function(_0x10f642,_0x4e01eb){let _0x33e273=_0x2ec954['get'](_0x4e01eb);void 0x0===_0x33e273&&(_0x33e273=new WeakMap(),_0x2ec954['set'](_0x4e01eb,_0x33e273));let _0x1fb595=_0x33e273['get'](_0x10f642);void 0x0===_0x1fb595&&(_0x1fb595=_0x4d9b2f['getUniformBlockIndex'](_0x4e01eb,_0x10f642['name']),_0x33e273['set'](_0x10f642,_0x1fb595));},'uniformBlockBinding':function(_0x15a60b,_0x5e1ddb){const _0x2bcd34=_0x2ec954['get'](_0x5e1ddb)['get'](_0x15a60b);_0x5d76c0['get'](_0x5e1ddb)!==_0x2bcd34&&(_0x4d9b2f['uniformBlockBinding'](_0x5e1ddb,_0x2bcd34,_0x15a60b['__bindingPointIndex']),_0x5d76c0['set'](_0x5e1ddb,_0x2bcd34));},'texStorage2D':function(){try{_0x4d9b2f['texStorage2D']['apply'](_0x4d9b2f,arguments);}catch(_0xbb1eb1){console['error']('THREE.WebGLState:',_0xbb1eb1);}},'texStorage3D':function(){try{_0x4d9b2f['texStorage3D']['apply'](_0x4d9b2f,arguments);}catch(_0x56abab){console['error']('THREE.WebGLState:',_0x56abab);}},'texSubImage2D':function(){try{_0x4d9b2f['texSubImage2D']['apply'](_0x4d9b2f,arguments);}catch(_0x5eb961){console['error']('THREE.WebGLState:',_0x5eb961);}},'texSubImage3D':function(){try{_0x4d9b2f['texSubImage3D']['apply'](_0x4d9b2f,arguments);}catch(_0x2f56e6){console['error']('THREE.WebGLState:',_0x2f56e6);}},'compressedTexSubImage2D':function(){try{_0x4d9b2f['compressedTexSubImage2D']['apply'](_0x4d9b2f,arguments);}catch(_0x33d887){console['error']('THREE.WebGLState:',_0x33d887);}},'compressedTexSubImage3D':function(){try{_0x4d9b2f['compressedTexSubImage3D']['apply'](_0x4d9b2f,arguments);}catch(_0x2a402f){console['error']('THREE.WebGLState:',_0x2a402f);}},'scissor':function(_0xd0a816){!0x1===_0x578e47['equals'](_0xd0a816)&&(_0x4d9b2f['scissor'](_0xd0a816['x'],_0xd0a816['y'],_0xd0a816['z'],_0xd0a816['w']),_0x578e47['copy'](_0xd0a816));},'viewport':function(_0x550951){!0x1===_0x1541bc['equals'](_0x550951)&&(_0x4d9b2f['viewport'](_0x550951['x'],_0x550951['y'],_0x550951['z'],_0x550951['w']),_0x1541bc['copy'](_0x550951));},'reset':function(){_0x4d9b2f['disable'](_0x4d9b2f['BLEND']),_0x4d9b2f['disable'](_0x4d9b2f['CULL_FACE']),_0x4d9b2f['disable'](_0x4d9b2f['DEPTH_TEST']),_0x4d9b2f['disable'](_0x4d9b2f['POLYGON_OFFSET_FILL']),_0x4d9b2f['disable'](_0x4d9b2f['SCISSOR_TEST']),_0x4d9b2f['disable'](_0x4d9b2f['STENCIL_TEST']),_0x4d9b2f['disable'](_0x4d9b2f['SAMPLE_ALPHA_TO_COVERAGE']),_0x4d9b2f['blendEquation'](_0x4d9b2f['FUNC_ADD']),_0x4d9b2f['blendFunc'](_0x4d9b2f['ONE'],_0x4d9b2f['ZERO']),_0x4d9b2f['blendFuncSeparate'](_0x4d9b2f['ONE'],_0x4d9b2f['ZERO'],_0x4d9b2f['ONE'],_0x4d9b2f['ZERO']),_0x4d9b2f['blendColor'](0x0,0x0,0x0,0x0),_0x4d9b2f['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x4d9b2f['clearColor'](0x0,0x0,0x0,0x0),_0x4d9b2f['depthMask'](!0x0),_0x4d9b2f['depthFunc'](_0x4d9b2f['LESS']),_0x3e5752['setReversed'](!0x1),_0x4d9b2f['clearDepth'](0x1),_0x4d9b2f['stencilMask'](0xffffffff),_0x4d9b2f['stencilFunc'](_0x4d9b2f['ALWAYS'],0x0,0xffffffff),_0x4d9b2f['stencilOp'](_0x4d9b2f['KEEP'],_0x4d9b2f['KEEP'],_0x4d9b2f['KEEP']),_0x4d9b2f['clearStencil'](0x0),_0x4d9b2f['cullFace'](_0x4d9b2f['BACK']),_0x4d9b2f['frontFace'](_0x4d9b2f['CCW']),_0x4d9b2f['polygonOffset'](0x0,0x0),_0x4d9b2f['activeTexture'](_0x4d9b2f['TEXTURE0']),_0x4d9b2f['bindFramebuffer'](_0x4d9b2f['FRAMEBUFFER'],null),_0x4d9b2f['bindFramebuffer'](_0x4d9b2f['DRAW_FRAMEBUFFER'],null),_0x4d9b2f['bindFramebuffer'](_0x4d9b2f['READ_FRAMEBUFFER'],null),_0x4d9b2f['useProgram'](null),_0x4d9b2f['lineWidth'](0x1),_0x4d9b2f['scissor'](0x0,0x0,_0x4d9b2f['canvas']['width'],_0x4d9b2f['canvas']['height']),_0x4d9b2f['viewport'](0x0,0x0,_0x4d9b2f['canvas']['width'],_0x4d9b2f['canvas']['height']),_0x4d3831={},_0x4ec917=null,_0x4a2c8c={},_0x4a7869={},_0x1a08c4=new WeakMap(),_0x37dbd6=[],_0x28100e=null,_0x78812a=!0x1,_0x29adce=null,_0x113160=null,_0x825b88=null,_0x39fae5=null,_0x35d8e4=null,_0x46b06a=null,_0x48a9c1=null,_0x37890e=new _0x4e3753['Q1f'](0x0,0x0,0x0),_0x51590b=0x0,_0x5827e9=!0x1,_0x5a89b6=null,_0x4556a6=null,_0x57a6ef=null,_0x252f30=null,_0x4d4fc1=null,_0x578e47['set'](0x0,0x0,_0x4d9b2f['canvas']['width'],_0x4d9b2f['canvas']['height']),_0x1541bc['set'](0x0,0x0,_0x4d9b2f['canvas']['width'],_0x4d9b2f['canvas']['height']),_0x375424['reset'](),_0x3e5752['reset'](),_0x3910e6['reset']();}};}function _0x25874c(_0x4411f2,_0x14b227,_0x503459,_0x22afec,_0x2f388b,_0x2ad463,_0x5ae71e){const _0x46b0b4=_0x14b227['has']('WEBGL_multisampled_render_to_texture')?_0x14b227['get']('WEBGL_multisampled_render_to_texture'):null,_0x5433c9='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x5cfb4a=new _0x4e3753['I9Y'](),_0x1c4307=new WeakMap();let _0x22d018;const _0x2ef9a8=new WeakMap();let _0x4dfcb3=!0x1;try{_0x4dfcb3='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x24c55d){}function _0x22787f(_0x479962,_0x1ed1bd){return _0x4dfcb3?new OffscreenCanvas(_0x479962,_0x1ed1bd):(0x0,_0x4e3753['qq$'])('canvas');}function _0x350191(_0x26a0cf,_0x38aece,_0x280a68){let _0x543571=0x1;const _0x2072a5=_0xdba2a3(_0x26a0cf);if((_0x2072a5['width']>_0x280a68||_0x2072a5['height']>_0x280a68)&&(_0x543571=_0x280a68/Math['max'](_0x2072a5['width'],_0x2072a5['height'])),_0x543571<0x1){if('undefined'!=typeof HTMLImageElement&&_0x26a0cf instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0x26a0cf instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0x26a0cf instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0x26a0cf instanceof VideoFrame){const _0xa43a9b=Math['floor'](_0x543571*_0x2072a5['width']),_0x618f44=Math['floor'](_0x543571*_0x2072a5['height']);void 0x0===_0x22d018&&(_0x22d018=_0x22787f(_0xa43a9b,_0x618f44));const _0x619484=_0x38aece?_0x22787f(_0xa43a9b,_0x618f44):_0x22d018;return _0x619484['width']=_0xa43a9b,_0x619484['height']=_0x618f44,(_0x619484['getContext']('2d')['drawImage'](_0x26a0cf,0x0,0x0,_0xa43a9b,_0x618f44),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x2072a5['width']+'x'+_0x2072a5['height']+')\x20to\x20('+_0xa43a9b+'x'+_0x618f44+').'),_0x619484);}return'data'in _0x26a0cf&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x2072a5['width']+'x'+_0x2072a5['height']+').'),_0x26a0cf;}return _0x26a0cf;}function _0x58860d(_0x2863b6){return _0x2863b6['generateMipmaps'];}function _0x5e5b52(_0x226572){_0x4411f2['generateMipmap'](_0x226572);}function _0x87a1dc(_0x595137){return _0x595137['isWebGLCubeRenderTarget']?_0x4411f2['TEXTURE_CUBE_MAP']:_0x595137['isWebGL3DRenderTarget']?_0x4411f2['TEXTURE_3D']:_0x595137['isWebGLArrayRenderTarget']||_0x595137['isCompressedArrayTexture']?_0x4411f2['TEXTURE_2D_ARRAY']:_0x4411f2['TEXTURE_2D'];}function _0x28c8a3(_0x35e945,_0x1135be,_0x2274f2,_0x223ba8,_0x2eb3e3=!0x1){if(null!==_0x35e945){if(void 0x0!==_0x4411f2[_0x35e945])return _0x4411f2[_0x35e945];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x35e945+'\x27');}let _0x3bd0c7=_0x1135be;if(_0x1135be===_0x4411f2['RED']&&(_0x2274f2===_0x4411f2['FLOAT']&&(_0x3bd0c7=_0x4411f2['R32F']),_0x2274f2===_0x4411f2['HALF_FLOAT']&&(_0x3bd0c7=_0x4411f2['R16F']),_0x2274f2===_0x4411f2['UNSIGNED_BYTE']&&(_0x3bd0c7=_0x4411f2['R8'])),_0x1135be===_0x4411f2['RED_INTEGER']&&(_0x2274f2===_0x4411f2['UNSIGNED_BYTE']&&(_0x3bd0c7=_0x4411f2['R8UI']),_0x2274f2===_0x4411f2['UNSIGNED_SHORT']&&(_0x3bd0c7=_0x4411f2['R16UI']),_0x2274f2===_0x4411f2['UNSIGNED_INT']&&(_0x3bd0c7=_0x4411f2['R32UI']),_0x2274f2===_0x4411f2['BYTE']&&(_0x3bd0c7=_0x4411f2['R8I']),_0x2274f2===_0x4411f2['SHORT']&&(_0x3bd0c7=_0x4411f2['R16I']),_0x2274f2===_0x4411f2['INT']&&(_0x3bd0c7=_0x4411f2['R32I'])),_0x1135be===_0x4411f2['RG']&&(_0x2274f2===_0x4411f2['FLOAT']&&(_0x3bd0c7=_0x4411f2['RG32F']),_0x2274f2===_0x4411f2['HALF_FLOAT']&&(_0x3bd0c7=_0x4411f2['RG16F']),_0x2274f2===_0x4411f2['UNSIGNED_BYTE']&&(_0x3bd0c7=_0x4411f2['RG8'])),_0x1135be===_0x4411f2['RG_INTEGER']&&(_0x2274f2===_0x4411f2['UNSIGNED_BYTE']&&(_0x3bd0c7=_0x4411f2['RG8UI']),_0x2274f2===_0x4411f2['UNSIGNED_SHORT']&&(_0x3bd0c7=_0x4411f2['RG16UI']),_0x2274f2===_0x4411f2['UNSIGNED_INT']&&(_0x3bd0c7=_0x4411f2['RG32UI']),_0x2274f2===_0x4411f2['BYTE']&&(_0x3bd0c7=_0x4411f2['RG8I']),_0x2274f2===_0x4411f2['SHORT']&&(_0x3bd0c7=_0x4411f2['RG16I']),_0x2274f2===_0x4411f2['INT']&&(_0x3bd0c7=_0x4411f2['RG32I'])),_0x1135be===_0x4411f2['RGB_INTEGER']&&(_0x2274f2===_0x4411f2['UNSIGNED_BYTE']&&(_0x3bd0c7=_0x4411f2['RGB8UI']),_0x2274f2===_0x4411f2['UNSIGNED_SHORT']&&(_0x3bd0c7=_0x4411f2['RGB16UI']),_0x2274f2===_0x4411f2['UNSIGNED_INT']&&(_0x3bd0c7=_0x4411f2['RGB32UI']),_0x2274f2===_0x4411f2['BYTE']&&(_0x3bd0c7=_0x4411f2['RGB8I']),_0x2274f2===_0x4411f2['SHORT']&&(_0x3bd0c7=_0x4411f2['RGB16I']),_0x2274f2===_0x4411f2['INT']&&(_0x3bd0c7=_0x4411f2['RGB32I'])),_0x1135be===_0x4411f2['RGBA_INTEGER']&&(_0x2274f2===_0x4411f2['UNSIGNED_BYTE']&&(_0x3bd0c7=_0x4411f2['RGBA8UI']),_0x2274f2===_0x4411f2['UNSIGNED_SHORT']&&(_0x3bd0c7=_0x4411f2['RGBA16UI']),_0x2274f2===_0x4411f2['UNSIGNED_INT']&&(_0x3bd0c7=_0x4411f2['RGBA32UI']),_0x2274f2===_0x4411f2['BYTE']&&(_0x3bd0c7=_0x4411f2['RGBA8I']),_0x2274f2===_0x4411f2['SHORT']&&(_0x3bd0c7=_0x4411f2['RGBA16I']),_0x2274f2===_0x4411f2['INT']&&(_0x3bd0c7=_0x4411f2['RGBA32I'])),_0x1135be===_0x4411f2['RGB']&&_0x2274f2===_0x4411f2['UNSIGNED_INT_5_9_9_9_REV']&&(_0x3bd0c7=_0x4411f2['RGB9_E5']),_0x1135be===_0x4411f2['RGBA']){const _0x5944a6=_0x2eb3e3?_0x4e3753['VxR']:_0x4e3753['ppV']['getTransfer'](_0x223ba8);_0x2274f2===_0x4411f2['FLOAT']&&(_0x3bd0c7=_0x4411f2['RGBA32F']),_0x2274f2===_0x4411f2['HALF_FLOAT']&&(_0x3bd0c7=_0x4411f2['RGBA16F']),_0x2274f2===_0x4411f2['UNSIGNED_BYTE']&&(_0x3bd0c7=_0x5944a6===_0x4e3753['KLL']?_0x4411f2['SRGB8_ALPHA8']:_0x4411f2['RGBA8']),_0x2274f2===_0x4411f2['UNSIGNED_SHORT_4_4_4_4']&&(_0x3bd0c7=_0x4411f2['RGBA4']),_0x2274f2===_0x4411f2['UNSIGNED_SHORT_5_5_5_1']&&(_0x3bd0c7=_0x4411f2['RGB5_A1']);}return _0x3bd0c7!==_0x4411f2['R16F']&&_0x3bd0c7!==_0x4411f2['R32F']&&_0x3bd0c7!==_0x4411f2['RG16F']&&_0x3bd0c7!==_0x4411f2['RG32F']&&_0x3bd0c7!==_0x4411f2['RGBA16F']&&_0x3bd0c7!==_0x4411f2['RGBA32F']||_0x14b227['get']('EXT_color_buffer_float'),_0x3bd0c7;}function _0x2fc62a(_0x132e57,_0x58d66d){let _0x40e557;return _0x132e57?null===_0x58d66d||_0x58d66d===_0x4e3753['bkx']||_0x58d66d===_0x4e3753['V3x']?_0x40e557=_0x4411f2['DEPTH24_STENCIL8']:_0x58d66d===_0x4e3753['RQf']?_0x40e557=_0x4411f2['DEPTH32F_STENCIL8']:_0x58d66d===_0x4e3753['cHt']&&(_0x40e557=_0x4411f2['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0x58d66d||_0x58d66d===_0x4e3753['bkx']||_0x58d66d===_0x4e3753['V3x']?_0x40e557=_0x4411f2['DEPTH_COMPONENT24']:_0x58d66d===_0x4e3753['RQf']?_0x40e557=_0x4411f2['DEPTH_COMPONENT32F']:_0x58d66d===_0x4e3753['cHt']&&(_0x40e557=_0x4411f2['DEPTH_COMPONENT16']),_0x40e557;}function _0x28305b(_0x53e324,_0x462c0c){return!0x0===_0x58860d(_0x53e324)||_0x53e324['isFramebufferTexture']&&_0x53e324['minFilter']!==_0x4e3753['hxR']&&_0x53e324['minFilter']!==_0x4e3753['k6q']?Math['log2'](Math['max'](_0x462c0c['width'],_0x462c0c['height']))+0x1:void 0x0!==_0x53e324['mipmaps']&&_0x53e324['mipmaps']['length']>0x0?_0x53e324['mipmaps']['length']:_0x53e324['isCompressedTexture']&&Array['isArray'](_0x53e324['image'])?_0x462c0c['mipmaps']['length']:0x1;}function _0x36fc05(_0x1ba80b){const _0x53b373=_0x1ba80b['target'];_0x53b373['removeEventListener']('dispose',_0x36fc05),function(_0x5c1abb){const _0x13d4c3=_0x22afec['get'](_0x5c1abb);if(void 0x0===_0x13d4c3['__webglInit'])return;const _0x53b1c6=_0x5c1abb['source'],_0x167d26=_0x2ef9a8['get'](_0x53b1c6);if(_0x167d26){const _0x1b214b=_0x167d26[_0x13d4c3['__cacheKey']];_0x1b214b['usedTimes']--,0x0===_0x1b214b['usedTimes']&&_0x73d7b9(_0x5c1abb),0x0===Object['keys'](_0x167d26)['length']&&_0x2ef9a8['delete'](_0x53b1c6);}_0x22afec['remove'](_0x5c1abb);}(_0x53b373),_0x53b373['isVideoTexture']&&_0x1c4307['delete'](_0x53b373);}function _0x406dd3(_0x3a2916){const _0x1ead0f=_0x3a2916['target'];_0x1ead0f['removeEventListener']('dispose',_0x406dd3),function(_0x2e2f45){const _0x3f29ef=_0x22afec['get'](_0x2e2f45);_0x2e2f45['depthTexture']&&(_0x2e2f45['depthTexture']['dispose'](),_0x22afec['remove'](_0x2e2f45['depthTexture']));if(_0x2e2f45['isWebGLCubeRenderTarget'])for(let _0x2dfb3d=0x0;_0x2dfb3d<0x6;_0x2dfb3d++){if(Array['isArray'](_0x3f29ef['__webglFramebuffer'][_0x2dfb3d])){for(let _0x35d5b6=0x0;_0x35d5b6<_0x3f29ef['__webglFramebuffer'][_0x2dfb3d]['length'];_0x35d5b6++)_0x4411f2['deleteFramebuffer'](_0x3f29ef['__webglFramebuffer'][_0x2dfb3d][_0x35d5b6]);}else _0x4411f2['deleteFramebuffer'](_0x3f29ef['__webglFramebuffer'][_0x2dfb3d]);_0x3f29ef['__webglDepthbuffer']&&_0x4411f2['deleteRenderbuffer'](_0x3f29ef['__webglDepthbuffer'][_0x2dfb3d]);}else{if(Array['isArray'](_0x3f29ef['__webglFramebuffer'])){for(let _0x109244=0x0;_0x109244<_0x3f29ef['__webglFramebuffer']['length'];_0x109244++)_0x4411f2['deleteFramebuffer'](_0x3f29ef['__webglFramebuffer'][_0x109244]);}else _0x4411f2['deleteFramebuffer'](_0x3f29ef['__webglFramebuffer']);if(_0x3f29ef['__webglDepthbuffer']&&_0x4411f2['deleteRenderbuffer'](_0x3f29ef['__webglDepthbuffer']),_0x3f29ef['__webglMultisampledFramebuffer']&&_0x4411f2['deleteFramebuffer'](_0x3f29ef['__webglMultisampledFramebuffer']),_0x3f29ef['__webglColorRenderbuffer']){for(let _0x5ce117=0x0;_0x5ce117<_0x3f29ef['__webglColorRenderbuffer']['length'];_0x5ce117++)_0x3f29ef['__webglColorRenderbuffer'][_0x5ce117]&&_0x4411f2['deleteRenderbuffer'](_0x3f29ef['__webglColorRenderbuffer'][_0x5ce117]);}_0x3f29ef['__webglDepthRenderbuffer']&&_0x4411f2['deleteRenderbuffer'](_0x3f29ef['__webglDepthRenderbuffer']);}const _0x505e50=_0x2e2f45['textures'];for(let _0x144832=0x0,_0x2c9d10=_0x505e50['length'];_0x144832<_0x2c9d10;_0x144832++){const _0x298a45=_0x22afec['get'](_0x505e50[_0x144832]);_0x298a45['__webglTexture']&&(_0x4411f2['deleteTexture'](_0x298a45['__webglTexture']),_0x5ae71e['memory']['textures']--),_0x22afec['remove'](_0x505e50[_0x144832]);}_0x22afec['remove'](_0x2e2f45);}(_0x1ead0f);}function _0x73d7b9(_0x3db42b){const _0xa178e2=_0x22afec['get'](_0x3db42b);_0x4411f2['deleteTexture'](_0xa178e2['__webglTexture']);const _0x3f5eef=_0x3db42b['source'];delete _0x2ef9a8['get'](_0x3f5eef)[_0xa178e2['__cacheKey']],_0x5ae71e['memory']['textures']--;}let _0xc511e=0x0;function _0xdf5610(_0x1853ce,_0x25aa08){const _0x2e5f10=_0x22afec['get'](_0x1853ce);if(_0x1853ce['isVideoTexture']&&function(_0x1777fb){const _0x567380=_0x5ae71e['render']['frame'];_0x1c4307['get'](_0x1777fb)!==_0x567380&&(_0x1c4307['set'](_0x1777fb,_0x567380),_0x1777fb['update']());}(_0x1853ce),!0x1===_0x1853ce['isRenderTargetTexture']&&_0x1853ce['version']>0x0&&_0x2e5f10['__version']!==_0x1853ce['version']){const _0x314ecf=_0x1853ce['image'];if(null===_0x314ecf)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x314ecf['complete'])return void _0x1d5f07(_0x2e5f10,_0x1853ce,_0x25aa08);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x503459['bindTexture'](_0x4411f2['TEXTURE_2D'],_0x2e5f10['__webglTexture'],_0x4411f2['TEXTURE0']+_0x25aa08);}const _0x527175={[_0x4e3753['GJx']]:_0x4411f2['REPEAT'],[_0x4e3753['ghU']]:_0x4411f2['CLAMP_TO_EDGE'],[_0x4e3753['kTW']]:_0x4411f2['MIRRORED_REPEAT']},_0x14ebd0={[_0x4e3753['hxR']]:_0x4411f2['NEAREST'],[_0x4e3753['pHI']]:_0x4411f2['NEAREST_MIPMAP_NEAREST'],[_0x4e3753['Cfg']]:_0x4411f2['NEAREST_MIPMAP_LINEAR'],[_0x4e3753['k6q']]:_0x4411f2['LINEAR'],[_0x4e3753['kRr']]:_0x4411f2['LINEAR_MIPMAP_NEAREST'],[_0x4e3753['$_I']]:_0x4411f2['LINEAR_MIPMAP_LINEAR']},_0x1d724e={[_0x4e3753['amv']]:_0x4411f2['NEVER'],[_0x4e3753['FFZ']]:_0x4411f2['ALWAYS'],[_0x4e3753['vim']]:_0x4411f2['LESS'],[_0x4e3753['TiK']]:_0x4411f2['LEQUAL'],[_0x4e3753['kO0']]:_0x4411f2['EQUAL'],[_0x4e3753['gWB']]:_0x4411f2['GEQUAL'],[_0x4e3753['eoi']]:_0x4411f2['GREATER'],[_0x4e3753['jzd']]:_0x4411f2['NOTEQUAL']};function _0x57f3dd(_0x40d952,_0x4a74ab){if(_0x4a74ab['type']!==_0x4e3753['RQf']||!0x1!==_0x14b227['has']('OES_texture_float_linear')||_0x4a74ab['magFilter']!==_0x4e3753['k6q']&&_0x4a74ab['magFilter']!==_0x4e3753['kRr']&&_0x4a74ab['magFilter']!==_0x4e3753['Cfg']&&_0x4a74ab['magFilter']!==_0x4e3753['$_I']&&_0x4a74ab['minFilter']!==_0x4e3753['k6q']&&_0x4a74ab['minFilter']!==_0x4e3753['kRr']&&_0x4a74ab['minFilter']!==_0x4e3753['Cfg']&&_0x4a74ab['minFilter']!==_0x4e3753['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0x4411f2['texParameteri'](_0x40d952,_0x4411f2['TEXTURE_WRAP_S'],_0x527175[_0x4a74ab['wrapS']]),_0x4411f2['texParameteri'](_0x40d952,_0x4411f2['TEXTURE_WRAP_T'],_0x527175[_0x4a74ab['wrapT']]),_0x40d952!==_0x4411f2['TEXTURE_3D']&&_0x40d952!==_0x4411f2['TEXTURE_2D_ARRAY']||_0x4411f2['texParameteri'](_0x40d952,_0x4411f2['TEXTURE_WRAP_R'],_0x527175[_0x4a74ab['wrapR']]),_0x4411f2['texParameteri'](_0x40d952,_0x4411f2['TEXTURE_MAG_FILTER'],_0x14ebd0[_0x4a74ab['magFilter']]),_0x4411f2['texParameteri'](_0x40d952,_0x4411f2['TEXTURE_MIN_FILTER'],_0x14ebd0[_0x4a74ab['minFilter']]),_0x4a74ab['compareFunction']&&(_0x4411f2['texParameteri'](_0x40d952,_0x4411f2['TEXTURE_COMPARE_MODE'],_0x4411f2['COMPARE_REF_TO_TEXTURE']),_0x4411f2['texParameteri'](_0x40d952,_0x4411f2['TEXTURE_COMPARE_FUNC'],_0x1d724e[_0x4a74ab['compareFunction']])),!0x0===_0x14b227['has']('EXT_texture_filter_anisotropic')){if(_0x4a74ab['magFilter']===_0x4e3753['hxR'])return;if(_0x4a74ab['minFilter']!==_0x4e3753['Cfg']&&_0x4a74ab['minFilter']!==_0x4e3753['$_I'])return;if(_0x4a74ab['type']===_0x4e3753['RQf']&&!0x1===_0x14b227['has']('OES_texture_float_linear'))return;if(_0x4a74ab['anisotropy']>0x1||_0x22afec['get'](_0x4a74ab)['__currentAnisotropy']){const _0x3c1b0f=_0x14b227['get']('EXT_texture_filter_anisotropic');_0x4411f2['texParameterf'](_0x40d952,_0x3c1b0f['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x4a74ab['anisotropy'],_0x2f388b['getMaxAnisotropy']())),_0x22afec['get'](_0x4a74ab)['__currentAnisotropy']=_0x4a74ab['anisotropy'];}}}function _0x2f6996(_0x190768,_0x3fb773){let _0x100906=!0x1;void 0x0===_0x190768['__webglInit']&&(_0x190768['__webglInit']=!0x0,_0x3fb773['addEventListener']('dispose',_0x36fc05));const _0x1a2ea3=_0x3fb773['source'];let _0x4cb567=_0x2ef9a8['get'](_0x1a2ea3);void 0x0===_0x4cb567&&(_0x4cb567={},_0x2ef9a8['set'](_0x1a2ea3,_0x4cb567));const _0x34273c=function(_0x301bf6){const _0x4f0372=[];return _0x4f0372['push'](_0x301bf6['wrapS']),_0x4f0372['push'](_0x301bf6['wrapT']),_0x4f0372['push'](_0x301bf6['wrapR']||0x0),_0x4f0372['push'](_0x301bf6['magFilter']),_0x4f0372['push'](_0x301bf6['minFilter']),_0x4f0372['push'](_0x301bf6['anisotropy']),_0x4f0372['push'](_0x301bf6['internalFormat']),_0x4f0372['push'](_0x301bf6['format']),_0x4f0372['push'](_0x301bf6['type']),_0x4f0372['push'](_0x301bf6['generateMipmaps']),_0x4f0372['push'](_0x301bf6['premultiplyAlpha']),_0x4f0372['push'](_0x301bf6['flipY']),_0x4f0372['push'](_0x301bf6['unpackAlignment']),_0x4f0372['push'](_0x301bf6['colorSpace']),_0x4f0372['join']();}(_0x3fb773);if(_0x34273c!==_0x190768['__cacheKey']){void 0x0===_0x4cb567[_0x34273c]&&(_0x4cb567[_0x34273c]={'texture':_0x4411f2['createTexture'](),'usedTimes':0x0},_0x5ae71e['memory']['textures']++,_0x100906=!0x0),_0x4cb567[_0x34273c]['usedTimes']++;const _0xe97533=_0x4cb567[_0x190768['__cacheKey']];void 0x0!==_0xe97533&&(_0x4cb567[_0x190768['__cacheKey']]['usedTimes']--,0x0===_0xe97533['usedTimes']&&_0x73d7b9(_0x3fb773)),_0x190768['__cacheKey']=_0x34273c,_0x190768['__webglTexture']=_0x4cb567[_0x34273c]['texture'];}return _0x100906;}function _0x1d5f07(_0x55520f,_0xa6c0e2,_0xb480fc){let _0x510e8a=_0x4411f2['TEXTURE_2D'];(_0xa6c0e2['isDataArrayTexture']||_0xa6c0e2['isCompressedArrayTexture'])&&(_0x510e8a=_0x4411f2['TEXTURE_2D_ARRAY']),_0xa6c0e2['isData3DTexture']&&(_0x510e8a=_0x4411f2['TEXTURE_3D']);const _0x552dcf=_0x2f6996(_0x55520f,_0xa6c0e2),_0x3cdf23=_0xa6c0e2['source'];_0x503459['bindTexture'](_0x510e8a,_0x55520f['__webglTexture'],_0x4411f2['TEXTURE0']+_0xb480fc);const _0x23a8e4=_0x22afec['get'](_0x3cdf23);if(_0x3cdf23['version']!==_0x23a8e4['__version']||!0x0===_0x552dcf){_0x503459['activeTexture'](_0x4411f2['TEXTURE0']+_0xb480fc);const _0x38f19a=_0x4e3753['ppV']['getPrimaries'](_0x4e3753['ppV']['workingColorSpace']),_0x12dc12=_0xa6c0e2['colorSpace']===_0x4e3753['jf0']?null:_0x4e3753['ppV']['getPrimaries'](_0xa6c0e2['colorSpace']),_0x1d8907=_0xa6c0e2['colorSpace']===_0x4e3753['jf0']||_0x38f19a===_0x12dc12?_0x4411f2['NONE']:_0x4411f2['BROWSER_DEFAULT_WEBGL'];_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_FLIP_Y_WEBGL'],_0xa6c0e2['flipY']),_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0xa6c0e2['premultiplyAlpha']),_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_ALIGNMENT'],_0xa6c0e2['unpackAlignment']),_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x1d8907);let _0x1837c8=_0x350191(_0xa6c0e2['image'],!0x1,_0x2f388b['maxTextureSize']);_0x1837c8=_0x239076(_0xa6c0e2,_0x1837c8);const _0x222833=_0x2ad463['convert'](_0xa6c0e2['format'],_0xa6c0e2['colorSpace']),_0x5b0fd6=_0x2ad463['convert'](_0xa6c0e2['type']);let _0xf1085b,_0x2c2940=_0x28c8a3(_0xa6c0e2['internalFormat'],_0x222833,_0x5b0fd6,_0xa6c0e2['colorSpace'],_0xa6c0e2['isVideoTexture']);_0x57f3dd(_0x510e8a,_0xa6c0e2);const _0x186255=_0xa6c0e2['mipmaps'],_0x37fa55=!0x0!==_0xa6c0e2['isVideoTexture'],_0x554377=void 0x0===_0x23a8e4['__version']||!0x0===_0x552dcf,_0x566a4c=_0x3cdf23['dataReady'],_0x4fcff1=_0x28305b(_0xa6c0e2,_0x1837c8);if(_0xa6c0e2['isDepthTexture'])_0x2c2940=_0x2fc62a(_0xa6c0e2['format']===_0x4e3753['dcC'],_0xa6c0e2['type']),_0x554377&&(_0x37fa55?_0x503459['texStorage2D'](_0x4411f2['TEXTURE_2D'],0x1,_0x2c2940,_0x1837c8['width'],_0x1837c8['height']):_0x503459['texImage2D'](_0x4411f2['TEXTURE_2D'],0x0,_0x2c2940,_0x1837c8['width'],_0x1837c8['height'],0x0,_0x222833,_0x5b0fd6,null));else{if(_0xa6c0e2['isDataTexture']){if(_0x186255['length']>0x0){_0x37fa55&&_0x554377&&_0x503459['texStorage2D'](_0x4411f2['TEXTURE_2D'],_0x4fcff1,_0x2c2940,_0x186255[0x0]['width'],_0x186255[0x0]['height']);for(let _0x2e625a=0x0,_0x3d0ce=_0x186255['length'];_0x2e625a<_0x3d0ce;_0x2e625a++)_0xf1085b=_0x186255[_0x2e625a],_0x37fa55?_0x566a4c&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_2D'],_0x2e625a,0x0,0x0,_0xf1085b['width'],_0xf1085b['height'],_0x222833,_0x5b0fd6,_0xf1085b['data']):_0x503459['texImage2D'](_0x4411f2['TEXTURE_2D'],_0x2e625a,_0x2c2940,_0xf1085b['width'],_0xf1085b['height'],0x0,_0x222833,_0x5b0fd6,_0xf1085b['data']);_0xa6c0e2['generateMipmaps']=!0x1;}else _0x37fa55?(_0x554377&&_0x503459['texStorage2D'](_0x4411f2['TEXTURE_2D'],_0x4fcff1,_0x2c2940,_0x1837c8['width'],_0x1837c8['height']),_0x566a4c&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_2D'],0x0,0x0,0x0,_0x1837c8['width'],_0x1837c8['height'],_0x222833,_0x5b0fd6,_0x1837c8['data'])):_0x503459['texImage2D'](_0x4411f2['TEXTURE_2D'],0x0,_0x2c2940,_0x1837c8['width'],_0x1837c8['height'],0x0,_0x222833,_0x5b0fd6,_0x1837c8['data']);}else{if(_0xa6c0e2['isCompressedTexture']){if(_0xa6c0e2['isCompressedArrayTexture']){_0x37fa55&&_0x554377&&_0x503459['texStorage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x4fcff1,_0x2c2940,_0x186255[0x0]['width'],_0x186255[0x0]['height'],_0x1837c8['depth']);for(let _0x48370f=0x0,_0x223f17=_0x186255['length'];_0x48370f<_0x223f17;_0x48370f++)if(_0xf1085b=_0x186255[_0x48370f],_0xa6c0e2['format']!==_0x4e3753['GWd']){if(null!==_0x222833){if(_0x37fa55){if(_0x566a4c){if(_0xa6c0e2['layerUpdates']['size']>0x0){const _0x1b50f6=(0x0,_0x4e3753['Nex'])(_0xf1085b['width'],_0xf1085b['height'],_0xa6c0e2['format'],_0xa6c0e2['type']);for(const _0x5f0b24 of _0xa6c0e2['layerUpdates']){const _0x17ade7=_0xf1085b['data']['subarray'](_0x5f0b24*_0x1b50f6/_0xf1085b['data']['BYTES_PER_ELEMENT'],(_0x5f0b24+0x1)*_0x1b50f6/_0xf1085b['data']['BYTES_PER_ELEMENT']);_0x503459['compressedTexSubImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x48370f,0x0,0x0,_0x5f0b24,_0xf1085b['width'],_0xf1085b['height'],0x1,_0x222833,_0x17ade7);}_0xa6c0e2['clearLayerUpdates']();}else _0x503459['compressedTexSubImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x48370f,0x0,0x0,0x0,_0xf1085b['width'],_0xf1085b['height'],_0x1837c8['depth'],_0x222833,_0xf1085b['data']);}}else _0x503459['compressedTexImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x48370f,_0x2c2940,_0xf1085b['width'],_0xf1085b['height'],_0x1837c8['depth'],0x0,_0xf1085b['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x37fa55?_0x566a4c&&_0x503459['texSubImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x48370f,0x0,0x0,0x0,_0xf1085b['width'],_0xf1085b['height'],_0x1837c8['depth'],_0x222833,_0x5b0fd6,_0xf1085b['data']):_0x503459['texImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x48370f,_0x2c2940,_0xf1085b['width'],_0xf1085b['height'],_0x1837c8['depth'],0x0,_0x222833,_0x5b0fd6,_0xf1085b['data']);}else{_0x37fa55&&_0x554377&&_0x503459['texStorage2D'](_0x4411f2['TEXTURE_2D'],_0x4fcff1,_0x2c2940,_0x186255[0x0]['width'],_0x186255[0x0]['height']);for(let _0x3e90e9=0x0,_0x491a62=_0x186255['length'];_0x3e90e9<_0x491a62;_0x3e90e9++)_0xf1085b=_0x186255[_0x3e90e9],_0xa6c0e2['format']!==_0x4e3753['GWd']?null!==_0x222833?_0x37fa55?_0x566a4c&&_0x503459['compressedTexSubImage2D'](_0x4411f2['TEXTURE_2D'],_0x3e90e9,0x0,0x0,_0xf1085b['width'],_0xf1085b['height'],_0x222833,_0xf1085b['data']):_0x503459['compressedTexImage2D'](_0x4411f2['TEXTURE_2D'],_0x3e90e9,_0x2c2940,_0xf1085b['width'],_0xf1085b['height'],0x0,_0xf1085b['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x37fa55?_0x566a4c&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_2D'],_0x3e90e9,0x0,0x0,_0xf1085b['width'],_0xf1085b['height'],_0x222833,_0x5b0fd6,_0xf1085b['data']):_0x503459['texImage2D'](_0x4411f2['TEXTURE_2D'],_0x3e90e9,_0x2c2940,_0xf1085b['width'],_0xf1085b['height'],0x0,_0x222833,_0x5b0fd6,_0xf1085b['data']);}}else{if(_0xa6c0e2['isDataArrayTexture']){if(_0x37fa55){if(_0x554377&&_0x503459['texStorage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x4fcff1,_0x2c2940,_0x1837c8['width'],_0x1837c8['height'],_0x1837c8['depth']),_0x566a4c){if(_0xa6c0e2['layerUpdates']['size']>0x0){const _0x1d4475=(0x0,_0x4e3753['Nex'])(_0x1837c8['width'],_0x1837c8['height'],_0xa6c0e2['format'],_0xa6c0e2['type']);for(const _0xb4f761 of _0xa6c0e2['layerUpdates']){const _0x18b221=_0x1837c8['data']['subarray'](_0xb4f761*_0x1d4475/_0x1837c8['data']['BYTES_PER_ELEMENT'],(_0xb4f761+0x1)*_0x1d4475/_0x1837c8['data']['BYTES_PER_ELEMENT']);_0x503459['texSubImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0xb4f761,_0x1837c8['width'],_0x1837c8['height'],0x1,_0x222833,_0x5b0fd6,_0x18b221);}_0xa6c0e2['clearLayerUpdates']();}else _0x503459['texSubImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x1837c8['width'],_0x1837c8['height'],_0x1837c8['depth'],_0x222833,_0x5b0fd6,_0x1837c8['data']);}}else _0x503459['texImage3D'](_0x4411f2['TEXTURE_2D_ARRAY'],0x0,_0x2c2940,_0x1837c8['width'],_0x1837c8['height'],_0x1837c8['depth'],0x0,_0x222833,_0x5b0fd6,_0x1837c8['data']);}else{if(_0xa6c0e2['isData3DTexture'])_0x37fa55?(_0x554377&&_0x503459['texStorage3D'](_0x4411f2['TEXTURE_3D'],_0x4fcff1,_0x2c2940,_0x1837c8['width'],_0x1837c8['height'],_0x1837c8['depth']),_0x566a4c&&_0x503459['texSubImage3D'](_0x4411f2['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x1837c8['width'],_0x1837c8['height'],_0x1837c8['depth'],_0x222833,_0x5b0fd6,_0x1837c8['data'])):_0x503459['texImage3D'](_0x4411f2['TEXTURE_3D'],0x0,_0x2c2940,_0x1837c8['width'],_0x1837c8['height'],_0x1837c8['depth'],0x0,_0x222833,_0x5b0fd6,_0x1837c8['data']);else{if(_0xa6c0e2['isFramebufferTexture']){if(_0x554377){if(_0x37fa55)_0x503459['texStorage2D'](_0x4411f2['TEXTURE_2D'],_0x4fcff1,_0x2c2940,_0x1837c8['width'],_0x1837c8['height']);else{let _0x50e7af=_0x1837c8['width'],_0x5c36c7=_0x1837c8['height'];for(let _0x55900a=0x0;_0x55900a<_0x4fcff1;_0x55900a++)_0x503459['texImage2D'](_0x4411f2['TEXTURE_2D'],_0x55900a,_0x2c2940,_0x50e7af,_0x5c36c7,0x0,_0x222833,_0x5b0fd6,null),_0x50e7af>>=0x1,_0x5c36c7>>=0x1;}}}else{if(_0x186255['length']>0x0){if(_0x37fa55&&_0x554377){const _0x3603d6=_0xdba2a3(_0x186255[0x0]);_0x503459['texStorage2D'](_0x4411f2['TEXTURE_2D'],_0x4fcff1,_0x2c2940,_0x3603d6['width'],_0x3603d6['height']);}for(let _0xc50c3a=0x0,_0x102c07=_0x186255['length'];_0xc50c3a<_0x102c07;_0xc50c3a++)_0xf1085b=_0x186255[_0xc50c3a],_0x37fa55?_0x566a4c&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_2D'],_0xc50c3a,0x0,0x0,_0x222833,_0x5b0fd6,_0xf1085b):_0x503459['texImage2D'](_0x4411f2['TEXTURE_2D'],_0xc50c3a,_0x2c2940,_0x222833,_0x5b0fd6,_0xf1085b);_0xa6c0e2['generateMipmaps']=!0x1;}else{if(_0x37fa55){if(_0x554377){const _0x1cb9ac=_0xdba2a3(_0x1837c8);_0x503459['texStorage2D'](_0x4411f2['TEXTURE_2D'],_0x4fcff1,_0x2c2940,_0x1cb9ac['width'],_0x1cb9ac['height']);}_0x566a4c&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_2D'],0x0,0x0,0x0,_0x222833,_0x5b0fd6,_0x1837c8);}else _0x503459['texImage2D'](_0x4411f2['TEXTURE_2D'],0x0,_0x2c2940,_0x222833,_0x5b0fd6,_0x1837c8);}}}}}}}_0x58860d(_0xa6c0e2)&&_0x5e5b52(_0x510e8a),_0x23a8e4['__version']=_0x3cdf23['version'],_0xa6c0e2['onUpdate']&&_0xa6c0e2['onUpdate'](_0xa6c0e2);}_0x55520f['__version']=_0xa6c0e2['version'];}function _0x448d2b(_0x20f324,_0x1f8955,_0x264786,_0x1f5943,_0x5cb42d,_0x189028){const _0x15937c=_0x2ad463['convert'](_0x264786['format'],_0x264786['colorSpace']),_0x4b35a7=_0x2ad463['convert'](_0x264786['type']),_0x479ff4=_0x28c8a3(_0x264786['internalFormat'],_0x15937c,_0x4b35a7,_0x264786['colorSpace']),_0x434012=_0x22afec['get'](_0x1f8955),_0x3cee25=_0x22afec['get'](_0x264786);if(_0x3cee25['__renderTarget']=_0x1f8955,!_0x434012['__hasExternalTextures']){const _0x554484=Math['max'](0x1,_0x1f8955['width']>>_0x189028),_0x15d5d0=Math['max'](0x1,_0x1f8955['height']>>_0x189028);_0x5cb42d===_0x4411f2['TEXTURE_3D']||_0x5cb42d===_0x4411f2['TEXTURE_2D_ARRAY']?_0x503459['texImage3D'](_0x5cb42d,_0x189028,_0x479ff4,_0x554484,_0x15d5d0,_0x1f8955['depth'],0x0,_0x15937c,_0x4b35a7,null):_0x503459['texImage2D'](_0x5cb42d,_0x189028,_0x479ff4,_0x554484,_0x15d5d0,0x0,_0x15937c,_0x4b35a7,null);}_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x20f324),_0x12afde(_0x1f8955)?_0x46b0b4['framebufferTexture2DMultisampleEXT'](_0x4411f2['FRAMEBUFFER'],_0x1f5943,_0x5cb42d,_0x3cee25['__webglTexture'],0x0,_0x5c7292(_0x1f8955)):(_0x5cb42d===_0x4411f2['TEXTURE_2D']||_0x5cb42d>=_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x5cb42d<=_0x4411f2['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0x4411f2['framebufferTexture2D'](_0x4411f2['FRAMEBUFFER'],_0x1f5943,_0x5cb42d,_0x3cee25['__webglTexture'],_0x189028),_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],null);}function _0x3d3605(_0x25df8e,_0x1f6019,_0x2296d4){if(_0x4411f2['bindRenderbuffer'](_0x4411f2['RENDERBUFFER'],_0x25df8e),_0x1f6019['depthBuffer']){const _0x42d9ff=_0x1f6019['depthTexture'],_0x2b9a79=_0x42d9ff&&_0x42d9ff['isDepthTexture']?_0x42d9ff['type']:null,_0x29c8e2=_0x2fc62a(_0x1f6019['stencilBuffer'],_0x2b9a79),_0x19a91a=_0x1f6019['stencilBuffer']?_0x4411f2['DEPTH_STENCIL_ATTACHMENT']:_0x4411f2['DEPTH_ATTACHMENT'],_0x54021b=_0x5c7292(_0x1f6019);_0x12afde(_0x1f6019)?_0x46b0b4['renderbufferStorageMultisampleEXT'](_0x4411f2['RENDERBUFFER'],_0x54021b,_0x29c8e2,_0x1f6019['width'],_0x1f6019['height']):_0x2296d4?_0x4411f2['renderbufferStorageMultisample'](_0x4411f2['RENDERBUFFER'],_0x54021b,_0x29c8e2,_0x1f6019['width'],_0x1f6019['height']):_0x4411f2['renderbufferStorage'](_0x4411f2['RENDERBUFFER'],_0x29c8e2,_0x1f6019['width'],_0x1f6019['height']),_0x4411f2['framebufferRenderbuffer'](_0x4411f2['FRAMEBUFFER'],_0x19a91a,_0x4411f2['RENDERBUFFER'],_0x25df8e);}else{const _0x45211d=_0x1f6019['textures'];for(let _0x604e9=0x0;_0x604e9<_0x45211d['length'];_0x604e9++){const _0x11e2bb=_0x45211d[_0x604e9],_0x455749=_0x2ad463['convert'](_0x11e2bb['format'],_0x11e2bb['colorSpace']),_0x27775b=_0x2ad463['convert'](_0x11e2bb['type']),_0x256349=_0x28c8a3(_0x11e2bb['internalFormat'],_0x455749,_0x27775b,_0x11e2bb['colorSpace']),_0x586160=_0x5c7292(_0x1f6019);_0x2296d4&&!0x1===_0x12afde(_0x1f6019)?_0x4411f2['renderbufferStorageMultisample'](_0x4411f2['RENDERBUFFER'],_0x586160,_0x256349,_0x1f6019['width'],_0x1f6019['height']):_0x12afde(_0x1f6019)?_0x46b0b4['renderbufferStorageMultisampleEXT'](_0x4411f2['RENDERBUFFER'],_0x586160,_0x256349,_0x1f6019['width'],_0x1f6019['height']):_0x4411f2['renderbufferStorage'](_0x4411f2['RENDERBUFFER'],_0x256349,_0x1f6019['width'],_0x1f6019['height']);}}_0x4411f2['bindRenderbuffer'](_0x4411f2['RENDERBUFFER'],null);}function _0x550aa0(_0x1d9b9a){const _0x45bf76=_0x22afec['get'](_0x1d9b9a),_0x3767d0=!0x0===_0x1d9b9a['isWebGLCubeRenderTarget'];if(_0x45bf76['__boundDepthTexture']!==_0x1d9b9a['depthTexture']){const _0x40fb9f=_0x1d9b9a['depthTexture'];if(_0x45bf76['__depthDisposeCallback']&&_0x45bf76['__depthDisposeCallback'](),_0x40fb9f){const _0x43d917=()=>{delete _0x45bf76['__boundDepthTexture'],delete _0x45bf76['__depthDisposeCallback'],_0x40fb9f['removeEventListener']('dispose',_0x43d917);};_0x40fb9f['addEventListener']('dispose',_0x43d917),_0x45bf76['__depthDisposeCallback']=_0x43d917;}_0x45bf76['__boundDepthTexture']=_0x40fb9f;}if(_0x1d9b9a['depthTexture']&&!_0x45bf76['__autoAllocateDepthBuffer']){if(_0x3767d0)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x2f84d5,_0x2886c5){if(_0x2886c5&&_0x2886c5['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x2f84d5),!_0x2886c5['depthTexture']||!_0x2886c5['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x2b497=_0x22afec['get'](_0x2886c5['depthTexture']);_0x2b497['__renderTarget']=_0x2886c5,_0x2b497['__webglTexture']&&_0x2886c5['depthTexture']['image']['width']===_0x2886c5['width']&&_0x2886c5['depthTexture']['image']['height']===_0x2886c5['height']||(_0x2886c5['depthTexture']['image']['width']=_0x2886c5['width'],_0x2886c5['depthTexture']['image']['height']=_0x2886c5['height'],_0x2886c5['depthTexture']['needsUpdate']=!0x0),_0xdf5610(_0x2886c5['depthTexture'],0x0);const _0x246e70=_0x2b497['__webglTexture'],_0x1fc1ca=_0x5c7292(_0x2886c5);if(_0x2886c5['depthTexture']['format']===_0x4e3753['zdS'])_0x12afde(_0x2886c5)?_0x46b0b4['framebufferTexture2DMultisampleEXT'](_0x4411f2['FRAMEBUFFER'],_0x4411f2['DEPTH_ATTACHMENT'],_0x4411f2['TEXTURE_2D'],_0x246e70,0x0,_0x1fc1ca):_0x4411f2['framebufferTexture2D'](_0x4411f2['FRAMEBUFFER'],_0x4411f2['DEPTH_ATTACHMENT'],_0x4411f2['TEXTURE_2D'],_0x246e70,0x0);else{if(_0x2886c5['depthTexture']['format']!==_0x4e3753['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0x12afde(_0x2886c5)?_0x46b0b4['framebufferTexture2DMultisampleEXT'](_0x4411f2['FRAMEBUFFER'],_0x4411f2['DEPTH_STENCIL_ATTACHMENT'],_0x4411f2['TEXTURE_2D'],_0x246e70,0x0,_0x1fc1ca):_0x4411f2['framebufferTexture2D'](_0x4411f2['FRAMEBUFFER'],_0x4411f2['DEPTH_STENCIL_ATTACHMENT'],_0x4411f2['TEXTURE_2D'],_0x246e70,0x0);}}(_0x45bf76['__webglFramebuffer'],_0x1d9b9a);}else{if(_0x3767d0){_0x45bf76['__webglDepthbuffer']=[];for(let _0x2bd844=0x0;_0x2bd844<0x6;_0x2bd844++)if(_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x45bf76['__webglFramebuffer'][_0x2bd844]),void 0x0===_0x45bf76['__webglDepthbuffer'][_0x2bd844])_0x45bf76['__webglDepthbuffer'][_0x2bd844]=_0x4411f2['createRenderbuffer'](),_0x3d3605(_0x45bf76['__webglDepthbuffer'][_0x2bd844],_0x1d9b9a,!0x1);else{const _0x5de62e=_0x1d9b9a['stencilBuffer']?_0x4411f2['DEPTH_STENCIL_ATTACHMENT']:_0x4411f2['DEPTH_ATTACHMENT'],_0x22bc5f=_0x45bf76['__webglDepthbuffer'][_0x2bd844];_0x4411f2['bindRenderbuffer'](_0x4411f2['RENDERBUFFER'],_0x22bc5f),_0x4411f2['framebufferRenderbuffer'](_0x4411f2['FRAMEBUFFER'],_0x5de62e,_0x4411f2['RENDERBUFFER'],_0x22bc5f);}}else{if(_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x45bf76['__webglFramebuffer']),void 0x0===_0x45bf76['__webglDepthbuffer'])_0x45bf76['__webglDepthbuffer']=_0x4411f2['createRenderbuffer'](),_0x3d3605(_0x45bf76['__webglDepthbuffer'],_0x1d9b9a,!0x1);else{const _0x123753=_0x1d9b9a['stencilBuffer']?_0x4411f2['DEPTH_STENCIL_ATTACHMENT']:_0x4411f2['DEPTH_ATTACHMENT'],_0x291d3d=_0x45bf76['__webglDepthbuffer'];_0x4411f2['bindRenderbuffer'](_0x4411f2['RENDERBUFFER'],_0x291d3d),_0x4411f2['framebufferRenderbuffer'](_0x4411f2['FRAMEBUFFER'],_0x123753,_0x4411f2['RENDERBUFFER'],_0x291d3d);}}}_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],null);}const _0xd005fd=[],_0x110fa1=[];function _0x5c7292(_0x5753cb){return Math['min'](_0x2f388b['maxSamples'],_0x5753cb['samples']);}function _0x12afde(_0x12eaa2){const _0x473bef=_0x22afec['get'](_0x12eaa2);return _0x12eaa2['samples']>0x0&&!0x0===_0x14b227['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0x473bef['__useRenderToTexture'];}function _0x239076(_0x53c9c,_0x1ab32b){const _0x4fcbba=_0x53c9c['colorSpace'],_0x565063=_0x53c9c['format'],_0x39ac7d=_0x53c9c['type'];return!0x0===_0x53c9c['isCompressedTexture']||!0x0===_0x53c9c['isVideoTexture']||_0x4fcbba!==_0x4e3753['Zr2']&&_0x4fcbba!==_0x4e3753['jf0']&&(_0x4e3753['ppV']['getTransfer'](_0x4fcbba)===_0x4e3753['KLL']?_0x565063===_0x4e3753['GWd']&&_0x39ac7d===_0x4e3753['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x4fcbba)),_0x1ab32b;}function _0xdba2a3(_0x556e8c){return'undefined'!=typeof HTMLImageElement&&_0x556e8c instanceof HTMLImageElement?(_0x5cfb4a['width']=_0x556e8c['naturalWidth']||_0x556e8c['width'],_0x5cfb4a['height']=_0x556e8c['naturalHeight']||_0x556e8c['height']):'undefined'!=typeof VideoFrame&&_0x556e8c instanceof VideoFrame?(_0x5cfb4a['width']=_0x556e8c['displayWidth'],_0x5cfb4a['height']=_0x556e8c['displayHeight']):(_0x5cfb4a['width']=_0x556e8c['width'],_0x5cfb4a['height']=_0x556e8c['height']),_0x5cfb4a;}this['allocateTextureUnit']=function(){const _0x4b0cc0=_0xc511e;return _0x4b0cc0>=_0x2f388b['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x4b0cc0+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0x2f388b['maxTextures']),_0xc511e+=0x1,_0x4b0cc0;},this['resetTextureUnits']=function(){_0xc511e=0x0;},this['setTexture2D']=_0xdf5610,this['setTexture2DArray']=function(_0x1c2b58,_0x2876a9){const _0x29eaf8=_0x22afec['get'](_0x1c2b58);_0x1c2b58['version']>0x0&&_0x29eaf8['__version']!==_0x1c2b58['version']?_0x1d5f07(_0x29eaf8,_0x1c2b58,_0x2876a9):_0x503459['bindTexture'](_0x4411f2['TEXTURE_2D_ARRAY'],_0x29eaf8['__webglTexture'],_0x4411f2['TEXTURE0']+_0x2876a9);},this['setTexture3D']=function(_0x46e3f4,_0x4260b7){const _0xda9244=_0x22afec['get'](_0x46e3f4);_0x46e3f4['version']>0x0&&_0xda9244['__version']!==_0x46e3f4['version']?_0x1d5f07(_0xda9244,_0x46e3f4,_0x4260b7):_0x503459['bindTexture'](_0x4411f2['TEXTURE_3D'],_0xda9244['__webglTexture'],_0x4411f2['TEXTURE0']+_0x4260b7);},this['setTextureCube']=function(_0x5c06d4,_0x5aa2ba){const _0x4c159c=_0x22afec['get'](_0x5c06d4);_0x5c06d4['version']>0x0&&_0x4c159c['__version']!==_0x5c06d4['version']?function(_0x536734,_0xe5af48,_0x110e7d){if(0x6!==_0xe5af48['image']['length'])return;const _0x9ebe16=_0x2f6996(_0x536734,_0xe5af48),_0x57224f=_0xe5af48['source'];_0x503459['bindTexture'](_0x4411f2['TEXTURE_CUBE_MAP'],_0x536734['__webglTexture'],_0x4411f2['TEXTURE0']+_0x110e7d);const _0x3e9f99=_0x22afec['get'](_0x57224f);if(_0x57224f['version']!==_0x3e9f99['__version']||!0x0===_0x9ebe16){_0x503459['activeTexture'](_0x4411f2['TEXTURE0']+_0x110e7d);const _0x3ae102=_0x4e3753['ppV']['getPrimaries'](_0x4e3753['ppV']['workingColorSpace']),_0x3a7e8f=_0xe5af48['colorSpace']===_0x4e3753['jf0']?null:_0x4e3753['ppV']['getPrimaries'](_0xe5af48['colorSpace']),_0x2f7d05=_0xe5af48['colorSpace']===_0x4e3753['jf0']||_0x3ae102===_0x3a7e8f?_0x4411f2['NONE']:_0x4411f2['BROWSER_DEFAULT_WEBGL'];_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_FLIP_Y_WEBGL'],_0xe5af48['flipY']),_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0xe5af48['premultiplyAlpha']),_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_ALIGNMENT'],_0xe5af48['unpackAlignment']),_0x4411f2['pixelStorei'](_0x4411f2['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x2f7d05);const _0x286920=_0xe5af48['isCompressedTexture']||_0xe5af48['image'][0x0]['isCompressedTexture'],_0x5f37c3=_0xe5af48['image'][0x0]&&_0xe5af48['image'][0x0]['isDataTexture'],_0x2d5127=[];for(let _0x1b9559=0x0;_0x1b9559<0x6;_0x1b9559++)_0x2d5127[_0x1b9559]=_0x286920||_0x5f37c3?_0x5f37c3?_0xe5af48['image'][_0x1b9559]['image']:_0xe5af48['image'][_0x1b9559]:_0x350191(_0xe5af48['image'][_0x1b9559],!0x0,_0x2f388b['maxCubemapSize']),_0x2d5127[_0x1b9559]=_0x239076(_0xe5af48,_0x2d5127[_0x1b9559]);const _0x4abfd4=_0x2d5127[0x0],_0x4961ff=_0x2ad463['convert'](_0xe5af48['format'],_0xe5af48['colorSpace']),_0xed73ec=_0x2ad463['convert'](_0xe5af48['type']),_0x1840fe=_0x28c8a3(_0xe5af48['internalFormat'],_0x4961ff,_0xed73ec,_0xe5af48['colorSpace']),_0x2aab90=!0x0!==_0xe5af48['isVideoTexture'],_0x584d91=void 0x0===_0x3e9f99['__version']||!0x0===_0x9ebe16,_0x1053a1=_0x57224f['dataReady'];let _0x2ab6ce,_0x17ff8b=_0x28305b(_0xe5af48,_0x4abfd4);if(_0x57f3dd(_0x4411f2['TEXTURE_CUBE_MAP'],_0xe5af48),_0x286920){_0x2aab90&&_0x584d91&&_0x503459['texStorage2D'](_0x4411f2['TEXTURE_CUBE_MAP'],_0x17ff8b,_0x1840fe,_0x4abfd4['width'],_0x4abfd4['height']);for(let _0x3e529e=0x0;_0x3e529e<0x6;_0x3e529e++){_0x2ab6ce=_0x2d5127[_0x3e529e]['mipmaps'];for(let _0x1ed63e=0x0;_0x1ed63e<_0x2ab6ce['length'];_0x1ed63e++){const _0x2ce18c=_0x2ab6ce[_0x1ed63e];_0xe5af48['format']!==_0x4e3753['GWd']?null!==_0x4961ff?_0x2aab90?_0x1053a1&&_0x503459['compressedTexSubImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3e529e,_0x1ed63e,0x0,0x0,_0x2ce18c['width'],_0x2ce18c['height'],_0x4961ff,_0x2ce18c['data']):_0x503459['compressedTexImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3e529e,_0x1ed63e,_0x1840fe,_0x2ce18c['width'],_0x2ce18c['height'],0x0,_0x2ce18c['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x2aab90?_0x1053a1&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3e529e,_0x1ed63e,0x0,0x0,_0x2ce18c['width'],_0x2ce18c['height'],_0x4961ff,_0xed73ec,_0x2ce18c['data']):_0x503459['texImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3e529e,_0x1ed63e,_0x1840fe,_0x2ce18c['width'],_0x2ce18c['height'],0x0,_0x4961ff,_0xed73ec,_0x2ce18c['data']);}}}else{if(_0x2ab6ce=_0xe5af48['mipmaps'],_0x2aab90&&_0x584d91){_0x2ab6ce['length']>0x0&&_0x17ff8b++;const _0x7b9579=_0xdba2a3(_0x2d5127[0x0]);_0x503459['texStorage2D'](_0x4411f2['TEXTURE_CUBE_MAP'],_0x17ff8b,_0x1840fe,_0x7b9579['width'],_0x7b9579['height']);}for(let _0x5b20e1=0x0;_0x5b20e1<0x6;_0x5b20e1++)if(_0x5f37c3){_0x2aab90?_0x1053a1&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,0x0,0x0,0x0,_0x2d5127[_0x5b20e1]['width'],_0x2d5127[_0x5b20e1]['height'],_0x4961ff,_0xed73ec,_0x2d5127[_0x5b20e1]['data']):_0x503459['texImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,0x0,_0x1840fe,_0x2d5127[_0x5b20e1]['width'],_0x2d5127[_0x5b20e1]['height'],0x0,_0x4961ff,_0xed73ec,_0x2d5127[_0x5b20e1]['data']);for(let _0x5bd8ef=0x0;_0x5bd8ef<_0x2ab6ce['length'];_0x5bd8ef++){const _0x4fd0fc=_0x2ab6ce[_0x5bd8ef]['image'][_0x5b20e1]['image'];_0x2aab90?_0x1053a1&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,_0x5bd8ef+0x1,0x0,0x0,_0x4fd0fc['width'],_0x4fd0fc['height'],_0x4961ff,_0xed73ec,_0x4fd0fc['data']):_0x503459['texImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,_0x5bd8ef+0x1,_0x1840fe,_0x4fd0fc['width'],_0x4fd0fc['height'],0x0,_0x4961ff,_0xed73ec,_0x4fd0fc['data']);}}else{_0x2aab90?_0x1053a1&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,0x0,0x0,0x0,_0x4961ff,_0xed73ec,_0x2d5127[_0x5b20e1]):_0x503459['texImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,0x0,_0x1840fe,_0x4961ff,_0xed73ec,_0x2d5127[_0x5b20e1]);for(let _0x960194=0x0;_0x960194<_0x2ab6ce['length'];_0x960194++){const _0xbf6a71=_0x2ab6ce[_0x960194];_0x2aab90?_0x1053a1&&_0x503459['texSubImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,_0x960194+0x1,0x0,0x0,_0x4961ff,_0xed73ec,_0xbf6a71['image'][_0x5b20e1]):_0x503459['texImage2D'](_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b20e1,_0x960194+0x1,_0x1840fe,_0x4961ff,_0xed73ec,_0xbf6a71['image'][_0x5b20e1]);}}}_0x58860d(_0xe5af48)&&_0x5e5b52(_0x4411f2['TEXTURE_CUBE_MAP']),_0x3e9f99['__version']=_0x57224f['version'],_0xe5af48['onUpdate']&&_0xe5af48['onUpdate'](_0xe5af48);}_0x536734['__version']=_0xe5af48['version'];}(_0x4c159c,_0x5c06d4,_0x5aa2ba):_0x503459['bindTexture'](_0x4411f2['TEXTURE_CUBE_MAP'],_0x4c159c['__webglTexture'],_0x4411f2['TEXTURE0']+_0x5aa2ba);},this['rebindTextures']=function(_0x574af9,_0x51280e,_0x2e360b){const _0x3c3894=_0x22afec['get'](_0x574af9);void 0x0!==_0x51280e&&_0x448d2b(_0x3c3894['__webglFramebuffer'],_0x574af9,_0x574af9['texture'],_0x4411f2['COLOR_ATTACHMENT0'],_0x4411f2['TEXTURE_2D'],0x0),void 0x0!==_0x2e360b&&_0x550aa0(_0x574af9);},this['setupRenderTarget']=function(_0x10250b){const _0x5290d8=_0x10250b['texture'],_0x3d74f2=_0x22afec['get'](_0x10250b),_0xcc8622=_0x22afec['get'](_0x5290d8);_0x10250b['addEventListener']('dispose',_0x406dd3);const _0x14faaa=_0x10250b['textures'],_0x1a16e0=!0x0===_0x10250b['isWebGLCubeRenderTarget'],_0x41cd25=_0x14faaa['length']>0x1;if(_0x41cd25||(void 0x0===_0xcc8622['__webglTexture']&&(_0xcc8622['__webglTexture']=_0x4411f2['createTexture']()),_0xcc8622['__version']=_0x5290d8['version'],_0x5ae71e['memory']['textures']++),_0x1a16e0){_0x3d74f2['__webglFramebuffer']=[];for(let _0x2ee1d2=0x0;_0x2ee1d2<0x6;_0x2ee1d2++)if(_0x5290d8['mipmaps']&&_0x5290d8['mipmaps']['length']>0x0){_0x3d74f2['__webglFramebuffer'][_0x2ee1d2]=[];for(let _0x33f434=0x0;_0x33f434<_0x5290d8['mipmaps']['length'];_0x33f434++)_0x3d74f2['__webglFramebuffer'][_0x2ee1d2][_0x33f434]=_0x4411f2['createFramebuffer']();}else _0x3d74f2['__webglFramebuffer'][_0x2ee1d2]=_0x4411f2['createFramebuffer']();}else{if(_0x5290d8['mipmaps']&&_0x5290d8['mipmaps']['length']>0x0){_0x3d74f2['__webglFramebuffer']=[];for(let _0x29f065=0x0;_0x29f065<_0x5290d8['mipmaps']['length'];_0x29f065++)_0x3d74f2['__webglFramebuffer'][_0x29f065]=_0x4411f2['createFramebuffer']();}else _0x3d74f2['__webglFramebuffer']=_0x4411f2['createFramebuffer']();if(_0x41cd25)for(let _0x5d9279=0x0,_0x469727=_0x14faaa['length'];_0x5d9279<_0x469727;_0x5d9279++){const _0x319576=_0x22afec['get'](_0x14faaa[_0x5d9279]);void 0x0===_0x319576['__webglTexture']&&(_0x319576['__webglTexture']=_0x4411f2['createTexture'](),_0x5ae71e['memory']['textures']++);}if(_0x10250b['samples']>0x0&&!0x1===_0x12afde(_0x10250b)){_0x3d74f2['__webglMultisampledFramebuffer']=_0x4411f2['createFramebuffer'](),_0x3d74f2['__webglColorRenderbuffer']=[],_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x3d74f2['__webglMultisampledFramebuffer']);for(let _0x990e5a=0x0;_0x990e5a<_0x14faaa['length'];_0x990e5a++){const _0x9e600a=_0x14faaa[_0x990e5a];_0x3d74f2['__webglColorRenderbuffer'][_0x990e5a]=_0x4411f2['createRenderbuffer'](),_0x4411f2['bindRenderbuffer'](_0x4411f2['RENDERBUFFER'],_0x3d74f2['__webglColorRenderbuffer'][_0x990e5a]);const _0x19b08f=_0x2ad463['convert'](_0x9e600a['format'],_0x9e600a['colorSpace']),_0x113c6e=_0x2ad463['convert'](_0x9e600a['type']),_0x38c7d2=_0x28c8a3(_0x9e600a['internalFormat'],_0x19b08f,_0x113c6e,_0x9e600a['colorSpace'],!0x0===_0x10250b['isXRRenderTarget']),_0x31ff14=_0x5c7292(_0x10250b);_0x4411f2['renderbufferStorageMultisample'](_0x4411f2['RENDERBUFFER'],_0x31ff14,_0x38c7d2,_0x10250b['width'],_0x10250b['height']),_0x4411f2['framebufferRenderbuffer'](_0x4411f2['FRAMEBUFFER'],_0x4411f2['COLOR_ATTACHMENT0']+_0x990e5a,_0x4411f2['RENDERBUFFER'],_0x3d74f2['__webglColorRenderbuffer'][_0x990e5a]);}_0x4411f2['bindRenderbuffer'](_0x4411f2['RENDERBUFFER'],null),_0x10250b['depthBuffer']&&(_0x3d74f2['__webglDepthRenderbuffer']=_0x4411f2['createRenderbuffer'](),_0x3d3605(_0x3d74f2['__webglDepthRenderbuffer'],_0x10250b,!0x0)),_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],null);}}if(_0x1a16e0){_0x503459['bindTexture'](_0x4411f2['TEXTURE_CUBE_MAP'],_0xcc8622['__webglTexture']),_0x57f3dd(_0x4411f2['TEXTURE_CUBE_MAP'],_0x5290d8);for(let _0x3e2f24=0x0;_0x3e2f24<0x6;_0x3e2f24++)if(_0x5290d8['mipmaps']&&_0x5290d8['mipmaps']['length']>0x0){for(let _0x1508bf=0x0;_0x1508bf<_0x5290d8['mipmaps']['length'];_0x1508bf++)_0x448d2b(_0x3d74f2['__webglFramebuffer'][_0x3e2f24][_0x1508bf],_0x10250b,_0x5290d8,_0x4411f2['COLOR_ATTACHMENT0'],_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3e2f24,_0x1508bf);}else _0x448d2b(_0x3d74f2['__webglFramebuffer'][_0x3e2f24],_0x10250b,_0x5290d8,_0x4411f2['COLOR_ATTACHMENT0'],_0x4411f2['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3e2f24,0x0);_0x58860d(_0x5290d8)&&_0x5e5b52(_0x4411f2['TEXTURE_CUBE_MAP']),_0x503459['unbindTexture']();}else{if(_0x41cd25){for(let _0x680219=0x0,_0xe0937a=_0x14faaa['length'];_0x680219<_0xe0937a;_0x680219++){const _0xd79ef4=_0x14faaa[_0x680219],_0x39bffe=_0x22afec['get'](_0xd79ef4);_0x503459['bindTexture'](_0x4411f2['TEXTURE_2D'],_0x39bffe['__webglTexture']),_0x57f3dd(_0x4411f2['TEXTURE_2D'],_0xd79ef4),_0x448d2b(_0x3d74f2['__webglFramebuffer'],_0x10250b,_0xd79ef4,_0x4411f2['COLOR_ATTACHMENT0']+_0x680219,_0x4411f2['TEXTURE_2D'],0x0),_0x58860d(_0xd79ef4)&&_0x5e5b52(_0x4411f2['TEXTURE_2D']);}_0x503459['unbindTexture']();}else{let _0x387bf1=_0x4411f2['TEXTURE_2D'];if((_0x10250b['isWebGL3DRenderTarget']||_0x10250b['isWebGLArrayRenderTarget'])&&(_0x387bf1=_0x10250b['isWebGL3DRenderTarget']?_0x4411f2['TEXTURE_3D']:_0x4411f2['TEXTURE_2D_ARRAY']),_0x503459['bindTexture'](_0x387bf1,_0xcc8622['__webglTexture']),_0x57f3dd(_0x387bf1,_0x5290d8),_0x5290d8['mipmaps']&&_0x5290d8['mipmaps']['length']>0x0){for(let _0x5725da=0x0;_0x5725da<_0x5290d8['mipmaps']['length'];_0x5725da++)_0x448d2b(_0x3d74f2['__webglFramebuffer'][_0x5725da],_0x10250b,_0x5290d8,_0x4411f2['COLOR_ATTACHMENT0'],_0x387bf1,_0x5725da);}else _0x448d2b(_0x3d74f2['__webglFramebuffer'],_0x10250b,_0x5290d8,_0x4411f2['COLOR_ATTACHMENT0'],_0x387bf1,0x0);_0x58860d(_0x5290d8)&&_0x5e5b52(_0x387bf1),_0x503459['unbindTexture']();}}_0x10250b['depthBuffer']&&_0x550aa0(_0x10250b);},this['updateRenderTargetMipmap']=function(_0x13cd33){const _0x47d159=_0x13cd33['textures'];for(let _0x63645=0x0,_0x2a566a=_0x47d159['length'];_0x63645<_0x2a566a;_0x63645++){const _0x21e06e=_0x47d159[_0x63645];if(_0x58860d(_0x21e06e)){const _0x2a1e3d=_0x87a1dc(_0x13cd33),_0x3308ca=_0x22afec['get'](_0x21e06e)['__webglTexture'];_0x503459['bindTexture'](_0x2a1e3d,_0x3308ca),_0x5e5b52(_0x2a1e3d),_0x503459['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0x1006e9){if(_0x1006e9['samples']>0x0){if(!0x1===_0x12afde(_0x1006e9)){const _0x4a00c9=_0x1006e9['textures'],_0x645717=_0x1006e9['width'],_0x239c62=_0x1006e9['height'];let _0x276a0f=_0x4411f2['COLOR_BUFFER_BIT'];const _0x45ce17=_0x1006e9['stencilBuffer']?_0x4411f2['DEPTH_STENCIL_ATTACHMENT']:_0x4411f2['DEPTH_ATTACHMENT'],_0x2cd2e3=_0x22afec['get'](_0x1006e9),_0x176ece=_0x4a00c9['length']>0x1;if(_0x176ece){for(let _0x3e14b9=0x0;_0x3e14b9<_0x4a00c9['length'];_0x3e14b9++)_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x2cd2e3['__webglMultisampledFramebuffer']),_0x4411f2['framebufferRenderbuffer'](_0x4411f2['FRAMEBUFFER'],_0x4411f2['COLOR_ATTACHMENT0']+_0x3e14b9,_0x4411f2['RENDERBUFFER'],null),_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x2cd2e3['__webglFramebuffer']),_0x4411f2['framebufferTexture2D'](_0x4411f2['DRAW_FRAMEBUFFER'],_0x4411f2['COLOR_ATTACHMENT0']+_0x3e14b9,_0x4411f2['TEXTURE_2D'],null,0x0);}_0x503459['bindFramebuffer'](_0x4411f2['READ_FRAMEBUFFER'],_0x2cd2e3['__webglMultisampledFramebuffer']),_0x503459['bindFramebuffer'](_0x4411f2['DRAW_FRAMEBUFFER'],_0x2cd2e3['__webglFramebuffer']);for(let _0x220a05=0x0;_0x220a05<_0x4a00c9['length'];_0x220a05++){if(_0x1006e9['resolveDepthBuffer']&&(_0x1006e9['depthBuffer']&&(_0x276a0f|=_0x4411f2['DEPTH_BUFFER_BIT']),_0x1006e9['stencilBuffer']&&_0x1006e9['resolveStencilBuffer']&&(_0x276a0f|=_0x4411f2['STENCIL_BUFFER_BIT'])),_0x176ece){_0x4411f2['framebufferRenderbuffer'](_0x4411f2['READ_FRAMEBUFFER'],_0x4411f2['COLOR_ATTACHMENT0'],_0x4411f2['RENDERBUFFER'],_0x2cd2e3['__webglColorRenderbuffer'][_0x220a05]);const _0x56ba80=_0x22afec['get'](_0x4a00c9[_0x220a05])['__webglTexture'];_0x4411f2['framebufferTexture2D'](_0x4411f2['DRAW_FRAMEBUFFER'],_0x4411f2['COLOR_ATTACHMENT0'],_0x4411f2['TEXTURE_2D'],_0x56ba80,0x0);}_0x4411f2['blitFramebuffer'](0x0,0x0,_0x645717,_0x239c62,0x0,0x0,_0x645717,_0x239c62,_0x276a0f,_0x4411f2['NEAREST']),!0x0===_0x5433c9&&(_0xd005fd['length']=0x0,_0x110fa1['length']=0x0,_0xd005fd['push'](_0x4411f2['COLOR_ATTACHMENT0']+_0x220a05),_0x1006e9['depthBuffer']&&!0x1===_0x1006e9['resolveDepthBuffer']&&(_0xd005fd['push'](_0x45ce17),_0x110fa1['push'](_0x45ce17),_0x4411f2['invalidateFramebuffer'](_0x4411f2['DRAW_FRAMEBUFFER'],_0x110fa1)),_0x4411f2['invalidateFramebuffer'](_0x4411f2['READ_FRAMEBUFFER'],_0xd005fd));}if(_0x503459['bindFramebuffer'](_0x4411f2['READ_FRAMEBUFFER'],null),_0x503459['bindFramebuffer'](_0x4411f2['DRAW_FRAMEBUFFER'],null),_0x176ece)for(let _0x266546=0x0;_0x266546<_0x4a00c9['length'];_0x266546++){_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x2cd2e3['__webglMultisampledFramebuffer']),_0x4411f2['framebufferRenderbuffer'](_0x4411f2['FRAMEBUFFER'],_0x4411f2['COLOR_ATTACHMENT0']+_0x266546,_0x4411f2['RENDERBUFFER'],_0x2cd2e3['__webglColorRenderbuffer'][_0x266546]);const _0x18c0e9=_0x22afec['get'](_0x4a00c9[_0x266546])['__webglTexture'];_0x503459['bindFramebuffer'](_0x4411f2['FRAMEBUFFER'],_0x2cd2e3['__webglFramebuffer']),_0x4411f2['framebufferTexture2D'](_0x4411f2['DRAW_FRAMEBUFFER'],_0x4411f2['COLOR_ATTACHMENT0']+_0x266546,_0x4411f2['TEXTURE_2D'],_0x18c0e9,0x0);}_0x503459['bindFramebuffer'](_0x4411f2['DRAW_FRAMEBUFFER'],_0x2cd2e3['__webglMultisampledFramebuffer']);}else{if(_0x1006e9['depthBuffer']&&!0x1===_0x1006e9['resolveDepthBuffer']&&_0x5433c9){const _0x9be42e=_0x1006e9['stencilBuffer']?_0x4411f2['DEPTH_STENCIL_ATTACHMENT']:_0x4411f2['DEPTH_ATTACHMENT'];_0x4411f2['invalidateFramebuffer'](_0x4411f2['DRAW_FRAMEBUFFER'],[_0x9be42e]);}}}},this['setupDepthRenderbuffer']=_0x550aa0,this['setupFrameBufferTexture']=_0x448d2b,this['useMultisampledRTT']=_0x12afde;}function _0x9fb4e(_0x130747,_0x5486ee){return{'convert':function(_0x175373,_0x36909d=_0x4e3753['jf0']){let _0x331614;const _0x37cd3e=_0x4e3753['ppV']['getTransfer'](_0x36909d);if(_0x175373===_0x4e3753['OUM'])return _0x130747['UNSIGNED_BYTE'];if(_0x175373===_0x4e3753['Wew'])return _0x130747['UNSIGNED_SHORT_4_4_4_4'];if(_0x175373===_0x4e3753['gJ2'])return _0x130747['UNSIGNED_SHORT_5_5_5_1'];if(_0x175373===_0x4e3753['Dmk'])return _0x130747['UNSIGNED_INT_5_9_9_9_REV'];if(_0x175373===_0x4e3753['tJf'])return _0x130747['BYTE'];if(_0x175373===_0x4e3753['fBL'])return _0x130747['SHORT'];if(_0x175373===_0x4e3753['cHt'])return _0x130747['UNSIGNED_SHORT'];if(_0x175373===_0x4e3753['Yuy'])return _0x130747['INT'];if(_0x175373===_0x4e3753['bkx'])return _0x130747['UNSIGNED_INT'];if(_0x175373===_0x4e3753['RQf'])return _0x130747['FLOAT'];if(_0x175373===_0x4e3753['ix0'])return _0x130747['HALF_FLOAT'];if(_0x175373===_0x4e3753['wrO'])return _0x130747['ALPHA'];if(_0x175373===_0x4e3753['HIg'])return _0x130747['RGB'];if(_0x175373===_0x4e3753['GWd'])return _0x130747['RGBA'];if(_0x175373===_0x4e3753['Kzv'])return _0x130747['LUMINANCE'];if(_0x175373===_0x4e3753['CMB'])return _0x130747['LUMINANCE_ALPHA'];if(_0x175373===_0x4e3753['zdS'])return _0x130747['DEPTH_COMPONENT'];if(_0x175373===_0x4e3753['dcC'])return _0x130747['DEPTH_STENCIL'];if(_0x175373===_0x4e3753['VT0'])return _0x130747['RED'];if(_0x175373===_0x4e3753['ZQM'])return _0x130747['RED_INTEGER'];if(_0x175373===_0x4e3753['paN'])return _0x130747['RG'];if(_0x175373===_0x4e3753['TkQ'])return _0x130747['RG_INTEGER'];if(_0x175373===_0x4e3753['c90'])return _0x130747['RGBA_INTEGER'];if(_0x175373===_0x4e3753['IE4']||_0x175373===_0x4e3753['Nz6']||_0x175373===_0x4e3753['jR7']||_0x175373===_0x4e3753['BXX']){if(_0x37cd3e===_0x4e3753['KLL']){if(_0x331614=_0x5486ee['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x331614)return null;if(_0x175373===_0x4e3753['IE4'])return _0x331614['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x175373===_0x4e3753['Nz6'])return _0x331614['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x175373===_0x4e3753['jR7'])return _0x331614['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x175373===_0x4e3753['BXX'])return _0x331614['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x331614=_0x5486ee['get']('WEBGL_compressed_texture_s3tc'),null===_0x331614)return null;if(_0x175373===_0x4e3753['IE4'])return _0x331614['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x175373===_0x4e3753['Nz6'])return _0x331614['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x175373===_0x4e3753['jR7'])return _0x331614['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x175373===_0x4e3753['BXX'])return _0x331614['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x175373===_0x4e3753['k6Q']||_0x175373===_0x4e3753['kTp']||_0x175373===_0x4e3753['HXV']||_0x175373===_0x4e3753['pBf']){if(_0x331614=_0x5486ee['get']('WEBGL_compressed_texture_pvrtc'),null===_0x331614)return null;if(_0x175373===_0x4e3753['k6Q'])return _0x331614['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x175373===_0x4e3753['kTp'])return _0x331614['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x175373===_0x4e3753['HXV'])return _0x331614['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x175373===_0x4e3753['pBf'])return _0x331614['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x175373===_0x4e3753['CVz']||_0x175373===_0x4e3753['Riy']||_0x175373===_0x4e3753['KDk']){if(_0x331614=_0x5486ee['get']('WEBGL_compressed_texture_etc'),null===_0x331614)return null;if(_0x175373===_0x4e3753['CVz']||_0x175373===_0x4e3753['Riy'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ETC2']:_0x331614['COMPRESSED_RGB8_ETC2'];if(_0x175373===_0x4e3753['KDk'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x331614['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x175373===_0x4e3753['qa3']||_0x175373===_0x4e3753['B_h']||_0x175373===_0x4e3753['czI']||_0x175373===_0x4e3753['rSH']||_0x175373===_0x4e3753['Qrf']||_0x175373===_0x4e3753['psI']||_0x175373===_0x4e3753['a5J']||_0x175373===_0x4e3753['_QJ']||_0x175373===_0x4e3753['uB5']||_0x175373===_0x4e3753['lyL']||_0x175373===_0x4e3753['bC7']||_0x175373===_0x4e3753['y3Z']||_0x175373===_0x4e3753['ojs']||_0x175373===_0x4e3753['S$4']){if(_0x331614=_0x5486ee['get']('WEBGL_compressed_texture_astc'),null===_0x331614)return null;if(_0x175373===_0x4e3753['qa3'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x175373===_0x4e3753['B_h'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x175373===_0x4e3753['czI'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x175373===_0x4e3753['rSH'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x175373===_0x4e3753['Qrf'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x175373===_0x4e3753['psI'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x175373===_0x4e3753['a5J'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x175373===_0x4e3753['_QJ'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x175373===_0x4e3753['uB5'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x175373===_0x4e3753['lyL'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x175373===_0x4e3753['bC7'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x175373===_0x4e3753['y3Z'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x175373===_0x4e3753['ojs'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x175373===_0x4e3753['S$4'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x331614['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x175373===_0x4e3753['Fn']||_0x175373===_0x4e3753['H23']||_0x175373===_0x4e3753['W9U']){if(_0x331614=_0x5486ee['get']('EXT_texture_compression_bptc'),null===_0x331614)return null;if(_0x175373===_0x4e3753['Fn'])return _0x37cd3e===_0x4e3753['KLL']?_0x331614['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x331614['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x175373===_0x4e3753['H23'])return _0x331614['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x175373===_0x4e3753['W9U'])return _0x331614['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x175373===_0x4e3753['Kef']||_0x175373===_0x4e3753['XG_']||_0x175373===_0x4e3753['HO_']||_0x175373===_0x4e3753['CWW']){if(_0x331614=_0x5486ee['get']('EXT_texture_compression_rgtc'),null===_0x331614)return null;if(_0x175373===_0x4e3753['Fn'])return _0x331614['COMPRESSED_RED_RGTC1_EXT'];if(_0x175373===_0x4e3753['XG_'])return _0x331614['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x175373===_0x4e3753['HO_'])return _0x331614['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x175373===_0x4e3753['CWW'])return _0x331614['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x175373===_0x4e3753['V3x']?_0x130747['UNSIGNED_INT_24_8']:void 0x0!==_0x130747[_0x175373]?_0x130747[_0x175373]:null;}};}const _0x140535={'type':'move'};class _0x173733{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0x4e3753['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0x4e3753['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0x4e3753['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0x4e3753['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0x4e3753['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0x4e3753['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0x4e3753['Pq0']()),this['_grip'];}['dispatchEvent'](_0x168044){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x168044),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x168044),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x168044),this;}['connect'](_0x5adae6){if(_0x5adae6&&_0x5adae6['hand']){const _0x533777=this['_hand'];if(_0x533777){for(const _0x4cff75 of _0x5adae6['hand']['values']())this['_getHandJoint'](_0x533777,_0x4cff75);}}return this['dispatchEvent']({'type':'connected','data':_0x5adae6}),this;}['disconnect'](_0x4a7770){return this['dispatchEvent']({'type':'disconnected','data':_0x4a7770}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x582e90,_0x4c47ed,_0xb1069e){let _0x59e5ae=null,_0x34edc9=null,_0x98cc1d=null;const _0x402003=this['_targetRay'],_0x28b2a3=this['_grip'],_0x57c144=this['_hand'];if(_0x582e90&&'visible-blurred'!==_0x4c47ed['session']['visibilityState']){if(_0x57c144&&_0x582e90['hand']){_0x98cc1d=!0x0;for(const _0x6456c6 of _0x582e90['hand']['values']()){const _0x1282c7=_0x4c47ed['getJointPose'](_0x6456c6,_0xb1069e),_0xc12020=this['_getHandJoint'](_0x57c144,_0x6456c6);null!==_0x1282c7&&(_0xc12020['matrix']['fromArray'](_0x1282c7['transform']['matrix']),_0xc12020['matrix']['decompose'](_0xc12020['position'],_0xc12020['rotation'],_0xc12020['scale']),_0xc12020['matrixWorldNeedsUpdate']=!0x0,_0xc12020['jointRadius']=_0x1282c7['radius']),_0xc12020['visible']=null!==_0x1282c7;}const _0x5c7def=_0x57c144['joints']['index-finger-tip'],_0x3e1a7a=_0x57c144['joints']['thumb-tip'],_0x262526=_0x5c7def['position']['distanceTo'](_0x3e1a7a['position']),_0x5e74dc=0.02,_0x398eec=0.005;_0x57c144['inputState']['pinching']&&_0x262526>_0x5e74dc+_0x398eec?(_0x57c144['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x582e90['handedness'],'target':this})):!_0x57c144['inputState']['pinching']&&_0x262526<=_0x5e74dc-_0x398eec&&(_0x57c144['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x582e90['handedness'],'target':this}));}else null!==_0x28b2a3&&_0x582e90['gripSpace']&&(_0x34edc9=_0x4c47ed['getPose'](_0x582e90['gripSpace'],_0xb1069e),null!==_0x34edc9&&(_0x28b2a3['matrix']['fromArray'](_0x34edc9['transform']['matrix']),_0x28b2a3['matrix']['decompose'](_0x28b2a3['position'],_0x28b2a3['rotation'],_0x28b2a3['scale']),_0x28b2a3['matrixWorldNeedsUpdate']=!0x0,_0x34edc9['linearVelocity']?(_0x28b2a3['hasLinearVelocity']=!0x0,_0x28b2a3['linearVelocity']['copy'](_0x34edc9['linearVelocity'])):_0x28b2a3['hasLinearVelocity']=!0x1,_0x34edc9['angularVelocity']?(_0x28b2a3['hasAngularVelocity']=!0x0,_0x28b2a3['angularVelocity']['copy'](_0x34edc9['angularVelocity'])):_0x28b2a3['hasAngularVelocity']=!0x1));null!==_0x402003&&(_0x59e5ae=_0x4c47ed['getPose'](_0x582e90['targetRaySpace'],_0xb1069e),null===_0x59e5ae&&null!==_0x34edc9&&(_0x59e5ae=_0x34edc9),null!==_0x59e5ae&&(_0x402003['matrix']['fromArray'](_0x59e5ae['transform']['matrix']),_0x402003['matrix']['decompose'](_0x402003['position'],_0x402003['rotation'],_0x402003['scale']),_0x402003['matrixWorldNeedsUpdate']=!0x0,_0x59e5ae['linearVelocity']?(_0x402003['hasLinearVelocity']=!0x0,_0x402003['linearVelocity']['copy'](_0x59e5ae['linearVelocity'])):_0x402003['hasLinearVelocity']=!0x1,_0x59e5ae['angularVelocity']?(_0x402003['hasAngularVelocity']=!0x0,_0x402003['angularVelocity']['copy'](_0x59e5ae['angularVelocity'])):_0x402003['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0x140535)));}return null!==_0x402003&&(_0x402003['visible']=null!==_0x59e5ae),null!==_0x28b2a3&&(_0x28b2a3['visible']=null!==_0x34edc9),null!==_0x57c144&&(_0x57c144['visible']=null!==_0x98cc1d),this;}['_getHandJoint'](_0x28173f,_0x45677d){if(void 0x0===_0x28173f['joints'][_0x45677d['jointName']]){const _0x2aafcc=new _0x4e3753['YJl']();_0x2aafcc['matrixAutoUpdate']=!0x1,_0x2aafcc['visible']=!0x1,_0x28173f['joints'][_0x45677d['jointName']]=_0x2aafcc,_0x28173f['add'](_0x2aafcc);}return _0x28173f['joints'][_0x45677d['jointName']];}}class _0x33e505{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x41a50,_0x32b9cf,_0x170491){if(null===this['texture']){const _0x5db518=new _0x4e3753['gPd']();_0x41a50['properties']['get'](_0x5db518)['__webglTexture']=_0x32b9cf['texture'],_0x32b9cf['depthNear']===_0x170491['depthNear']&&_0x32b9cf['depthFar']===_0x170491['depthFar']||(this['depthNear']=_0x32b9cf['depthNear'],this['depthFar']=_0x32b9cf['depthFar']),this['texture']=_0x5db518;}}['getMesh'](_0x3b1de4){if(null!==this['texture']&&null===this['mesh']){const _0x2fab01=_0x3b1de4['cameras'][0x0]['viewport'],_0x18cac0=new _0x4e3753['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0x2fab01['z']},'depthHeight':{'value':_0x2fab01['w']}}});this['mesh']=new _0x4e3753['eaF'](new _0x4e3753['bdM'](0x14,0x14),_0x18cac0);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0x2e774d extends _0x4e3753['Qev']{constructor(_0x2eb154,_0x1ca44f){super();const _0x111a07=this;let _0x2eefd6=null,_0x3e3235=0x1,_0x1cc3bb=null,_0x41adb5='local-floor',_0x5e4818=0x1,_0x1cb10d=null,_0x183121=null,_0x3d3233=null,_0x25c963=null,_0x22bc9b=null,_0x419c1c=null;const _0x423e39=new _0x33e505(),_0x210052=_0x1ca44f['getContextAttributes']();let _0x5f46c2=null,_0x247ccb=null;const _0x3d3beb=[],_0xc3c3ef=[],_0x41a38c=new _0x4e3753['I9Y']();let _0x576f92=null;const _0x1f84c2=new _0x4e3753['ubm']();_0x1f84c2['viewport']=new _0x4e3753['IUQ']();const _0x2690e2=new _0x4e3753['ubm']();_0x2690e2['viewport']=new _0x4e3753['IUQ']();const _0x4f4963=[_0x1f84c2,_0x2690e2],_0x15265b=new _0x4e3753['nZQ']();let _0x676f2=null,_0x12ce2c=null;function _0x311e22(_0x1e21cb){const _0x122356=_0xc3c3ef['indexOf'](_0x1e21cb['inputSource']);if(-0x1===_0x122356)return;const _0x43ddde=_0x3d3beb[_0x122356];void 0x0!==_0x43ddde&&(_0x43ddde['update'](_0x1e21cb['inputSource'],_0x1e21cb['frame'],_0x1cb10d||_0x1cc3bb),_0x43ddde['dispatchEvent']({'type':_0x1e21cb['type'],'data':_0x1e21cb['inputSource']}));}function _0x62662f(){_0x2eefd6['removeEventListener']('select',_0x311e22),_0x2eefd6['removeEventListener']('selectstart',_0x311e22),_0x2eefd6['removeEventListener']('selectend',_0x311e22),_0x2eefd6['removeEventListener']('squeeze',_0x311e22),_0x2eefd6['removeEventListener']('squeezestart',_0x311e22),_0x2eefd6['removeEventListener']('squeezeend',_0x311e22),_0x2eefd6['removeEventListener']('end',_0x62662f),_0x2eefd6['removeEventListener']('inputsourceschange',_0x1093fa);for(let _0x527463=0x0;_0x527463<_0x3d3beb['length'];_0x527463++){const _0x4dd9b7=_0xc3c3ef[_0x527463];null!==_0x4dd9b7&&(_0xc3c3ef[_0x527463]=null,_0x3d3beb[_0x527463]['disconnect'](_0x4dd9b7));}_0x676f2=null,_0x12ce2c=null,_0x423e39['reset'](),_0x2eb154['setRenderTarget'](_0x5f46c2),_0x22bc9b=null,_0x25c963=null,_0x3d3233=null,_0x2eefd6=null,_0x247ccb=null,_0x59cad2['stop'](),_0x111a07['isPresenting']=!0x1,_0x2eb154['setPixelRatio'](_0x576f92),_0x2eb154['setSize'](_0x41a38c['width'],_0x41a38c['height'],!0x1),_0x111a07['dispatchEvent']({'type':'sessionend'});}function _0x1093fa(_0x2ff4d3){for(let _0x262cab=0x0;_0x262cab<_0x2ff4d3['removed']['length'];_0x262cab++){const _0x410a4c=_0x2ff4d3['removed'][_0x262cab],_0x28cf92=_0xc3c3ef['indexOf'](_0x410a4c);_0x28cf92>=0x0&&(_0xc3c3ef[_0x28cf92]=null,_0x3d3beb[_0x28cf92]['disconnect'](_0x410a4c));}for(let _0x8aefca=0x0;_0x8aefca<_0x2ff4d3['added']['length'];_0x8aefca++){const _0xd302c2=_0x2ff4d3['added'][_0x8aefca];let _0x5720a2=_0xc3c3ef['indexOf'](_0xd302c2);if(-0x1===_0x5720a2){for(let _0x418765=0x0;_0x418765<_0x3d3beb['length'];_0x418765++){if(_0x418765>=_0xc3c3ef['length']){_0xc3c3ef['push'](_0xd302c2),_0x5720a2=_0x418765;break;}if(null===_0xc3c3ef[_0x418765]){_0xc3c3ef[_0x418765]=_0xd302c2,_0x5720a2=_0x418765;break;}}if(-0x1===_0x5720a2)break;}const _0x7f49=_0x3d3beb[_0x5720a2];_0x7f49&&_0x7f49['connect'](_0xd302c2);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0x4e2aba){let _0x3e9d6e=_0x3d3beb[_0x4e2aba];return void 0x0===_0x3e9d6e&&(_0x3e9d6e=new _0x173733(),_0x3d3beb[_0x4e2aba]=_0x3e9d6e),_0x3e9d6e['getTargetRaySpace']();},this['getControllerGrip']=function(_0x5c3325){let _0x535b54=_0x3d3beb[_0x5c3325];return void 0x0===_0x535b54&&(_0x535b54=new _0x173733(),_0x3d3beb[_0x5c3325]=_0x535b54),_0x535b54['getGripSpace']();},this['getHand']=function(_0x208d96){let _0x4c7105=_0x3d3beb[_0x208d96];return void 0x0===_0x4c7105&&(_0x4c7105=new _0x173733(),_0x3d3beb[_0x208d96]=_0x4c7105),_0x4c7105['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0x47ab55){_0x3e3235=_0x47ab55,!0x0===_0x111a07['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0x449cd2){_0x41adb5=_0x449cd2,!0x0===_0x111a07['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0x1cb10d||_0x1cc3bb;},this['setReferenceSpace']=function(_0x59dc89){_0x1cb10d=_0x59dc89;},this['getBaseLayer']=function(){return null!==_0x25c963?_0x25c963:_0x22bc9b;},this['getBinding']=function(){return _0x3d3233;},this['getFrame']=function(){return _0x419c1c;},this['getSession']=function(){return _0x2eefd6;},this['setSession']=async function(_0x1fd9c8){if(_0x2eefd6=_0x1fd9c8,null!==_0x2eefd6){_0x5f46c2=_0x2eb154['getRenderTarget'](),_0x2eefd6['addEventListener']('select',_0x311e22),_0x2eefd6['addEventListener']('selectstart',_0x311e22),_0x2eefd6['addEventListener']('selectend',_0x311e22),_0x2eefd6['addEventListener']('squeeze',_0x311e22),_0x2eefd6['addEventListener']('squeezestart',_0x311e22),_0x2eefd6['addEventListener']('squeezeend',_0x311e22),_0x2eefd6['addEventListener']('end',_0x62662f),_0x2eefd6['addEventListener']('inputsourceschange',_0x1093fa),!0x0!==_0x210052['xrCompatible']&&await _0x1ca44f['makeXRCompatible'](),_0x576f92=_0x2eb154['getPixelRatio'](),_0x2eb154['getSize'](_0x41a38c);if(void 0x0!==_0x2eefd6['enabledFeatures']&&_0x2eefd6['enabledFeatures']['includes']('layers')){let _0xa523c7=null,_0x5235ae=null,_0x18aa9d=null;_0x210052['depth']&&(_0x18aa9d=_0x210052['stencil']?_0x1ca44f['DEPTH24_STENCIL8']:_0x1ca44f['DEPTH_COMPONENT24'],_0xa523c7=_0x210052['stencil']?_0x4e3753['dcC']:_0x4e3753['zdS'],_0x5235ae=_0x210052['stencil']?_0x4e3753['V3x']:_0x4e3753['bkx']);const _0x44a0bc={'colorFormat':_0x1ca44f['RGBA8'],'depthFormat':_0x18aa9d,'scaleFactor':_0x3e3235};_0x3d3233=new XRWebGLBinding(_0x2eefd6,_0x1ca44f),_0x25c963=_0x3d3233['createProjectionLayer'](_0x44a0bc),_0x2eefd6['updateRenderState']({'layers':[_0x25c963]}),_0x2eb154['setPixelRatio'](0x1),_0x2eb154['setSize'](_0x25c963['textureWidth'],_0x25c963['textureHeight'],!0x1),_0x247ccb=new _0x4e3753['nWS'](_0x25c963['textureWidth'],_0x25c963['textureHeight'],{'format':_0x4e3753['GWd'],'type':_0x4e3753['OUM'],'depthTexture':new _0x4e3753['VCu'](_0x25c963['textureWidth'],_0x25c963['textureHeight'],_0x5235ae,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0xa523c7),'stencilBuffer':_0x210052['stencil'],'colorSpace':_0x2eb154['outputColorSpace'],'samples':_0x210052['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x25c963['ignoreDepthValues']});}else{const _0x1827c2={'antialias':_0x210052['antialias'],'alpha':!0x0,'depth':_0x210052['depth'],'stencil':_0x210052['stencil'],'framebufferScaleFactor':_0x3e3235};_0x22bc9b=new XRWebGLLayer(_0x2eefd6,_0x1ca44f,_0x1827c2),_0x2eefd6['updateRenderState']({'baseLayer':_0x22bc9b}),_0x2eb154['setPixelRatio'](0x1),_0x2eb154['setSize'](_0x22bc9b['framebufferWidth'],_0x22bc9b['framebufferHeight'],!0x1),_0x247ccb=new _0x4e3753['nWS'](_0x22bc9b['framebufferWidth'],_0x22bc9b['framebufferHeight'],{'format':_0x4e3753['GWd'],'type':_0x4e3753['OUM'],'colorSpace':_0x2eb154['outputColorSpace'],'stencilBuffer':_0x210052['stencil']});}_0x247ccb['isXRRenderTarget']=!0x0,this['setFoveation'](_0x5e4818),_0x1cb10d=null,_0x1cc3bb=await _0x2eefd6['requestReferenceSpace'](_0x41adb5),_0x59cad2['setContext'](_0x2eefd6),_0x59cad2['start'](),_0x111a07['isPresenting']=!0x0,_0x111a07['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0x2eefd6)return _0x2eefd6['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x423e39['getDepthTexture']();};const _0x117447=new _0x4e3753['Pq0'](),_0x9fe636=new _0x4e3753['Pq0']();function _0x1b6f4b(_0xc70f40,_0x583389){null===_0x583389?_0xc70f40['matrixWorld']['copy'](_0xc70f40['matrix']):_0xc70f40['matrixWorld']['multiplyMatrices'](_0x583389['matrixWorld'],_0xc70f40['matrix']),_0xc70f40['matrixWorldInverse']['copy'](_0xc70f40['matrixWorld'])['invert']();}this['updateCamera']=function(_0x3ad74b){if(null===_0x2eefd6)return;let _0x50c71d=_0x3ad74b['near'],_0xee347a=_0x3ad74b['far'];null!==_0x423e39['texture']&&(_0x423e39['depthNear']>0x0&&(_0x50c71d=_0x423e39['depthNear']),_0x423e39['depthFar']>0x0&&(_0xee347a=_0x423e39['depthFar'])),_0x15265b['near']=_0x2690e2['near']=_0x1f84c2['near']=_0x50c71d,_0x15265b['far']=_0x2690e2['far']=_0x1f84c2['far']=_0xee347a,_0x676f2===_0x15265b['near']&&_0x12ce2c===_0x15265b['far']||(_0x2eefd6['updateRenderState']({'depthNear':_0x15265b['near'],'depthFar':_0x15265b['far']}),_0x676f2=_0x15265b['near'],_0x12ce2c=_0x15265b['far']),_0x1f84c2['layers']['mask']=0x2|_0x3ad74b['layers']['mask'],_0x2690e2['layers']['mask']=0x4|_0x3ad74b['layers']['mask'],_0x15265b['layers']['mask']=_0x1f84c2['layers']['mask']|_0x2690e2['layers']['mask'];const _0x3e9757=_0x3ad74b['parent'],_0x5bf71b=_0x15265b['cameras'];_0x1b6f4b(_0x15265b,_0x3e9757);for(let _0x163d8a=0x0;_0x163d8a<_0x5bf71b['length'];_0x163d8a++)_0x1b6f4b(_0x5bf71b[_0x163d8a],_0x3e9757);0x2===_0x5bf71b['length']?function(_0x6628c0,_0x147e23,_0x54ce8e){_0x117447['setFromMatrixPosition'](_0x147e23['matrixWorld']),_0x9fe636['setFromMatrixPosition'](_0x54ce8e['matrixWorld']);const _0xaceee0=_0x117447['distanceTo'](_0x9fe636),_0x2e8361=_0x147e23['projectionMatrix']['elements'],_0x31bc3c=_0x54ce8e['projectionMatrix']['elements'],_0x1d7ae0=_0x2e8361[0xe]/(_0x2e8361[0xa]-0x1),_0x569025=_0x2e8361[0xe]/(_0x2e8361[0xa]+0x1),_0x4ac7a2=(_0x2e8361[0x9]+0x1)/_0x2e8361[0x5],_0x58fcd9=(_0x2e8361[0x9]-0x1)/_0x2e8361[0x5],_0x51e1a1=(_0x2e8361[0x8]-0x1)/_0x2e8361[0x0],_0x205bcd=(_0x31bc3c[0x8]+0x1)/_0x31bc3c[0x0],_0x4ba56b=_0x1d7ae0*_0x51e1a1,_0x4e80e9=_0x1d7ae0*_0x205bcd,_0x4cc78d=_0xaceee0/(-_0x51e1a1+_0x205bcd),_0x2ca0dd=_0x4cc78d*-_0x51e1a1;if(_0x147e23['matrixWorld']['decompose'](_0x6628c0['position'],_0x6628c0['quaternion'],_0x6628c0['scale']),_0x6628c0['translateX'](_0x2ca0dd),_0x6628c0['translateZ'](_0x4cc78d),_0x6628c0['matrixWorld']['compose'](_0x6628c0['position'],_0x6628c0['quaternion'],_0x6628c0['scale']),_0x6628c0['matrixWorldInverse']['copy'](_0x6628c0['matrixWorld'])['invert'](),-0x1===_0x2e8361[0xa])_0x6628c0['projectionMatrix']['copy'](_0x147e23['projectionMatrix']),_0x6628c0['projectionMatrixInverse']['copy'](_0x147e23['projectionMatrixInverse']);else{const _0x12bae0=_0x1d7ae0+_0x4cc78d,_0x15d1e3=_0x569025+_0x4cc78d,_0x4d02f4=_0x4ba56b-_0x2ca0dd,_0x1fae4a=_0x4e80e9+(_0xaceee0-_0x2ca0dd),_0x32b3d6=_0x4ac7a2*_0x569025/_0x15d1e3*_0x12bae0,_0x4273b9=_0x58fcd9*_0x569025/_0x15d1e3*_0x12bae0;_0x6628c0['projectionMatrix']['makePerspective'](_0x4d02f4,_0x1fae4a,_0x32b3d6,_0x4273b9,_0x12bae0,_0x15d1e3),_0x6628c0['projectionMatrixInverse']['copy'](_0x6628c0['projectionMatrix'])['invert']();}}(_0x15265b,_0x1f84c2,_0x2690e2):_0x15265b['projectionMatrix']['copy'](_0x1f84c2['projectionMatrix']),function(_0x2b349c,_0x52143e,_0x21c157){null===_0x21c157?_0x2b349c['matrix']['copy'](_0x52143e['matrixWorld']):(_0x2b349c['matrix']['copy'](_0x21c157['matrixWorld']),_0x2b349c['matrix']['invert'](),_0x2b349c['matrix']['multiply'](_0x52143e['matrixWorld'])),(_0x2b349c['matrix']['decompose'](_0x2b349c['position'],_0x2b349c['quaternion'],_0x2b349c['scale']),_0x2b349c['updateMatrixWorld'](!0x0),_0x2b349c['projectionMatrix']['copy'](_0x52143e['projectionMatrix']),_0x2b349c['projectionMatrixInverse']['copy'](_0x52143e['projectionMatrixInverse']),_0x2b349c['isPerspectiveCamera']&&(_0x2b349c['fov']=0x2*_0x4e3753['a55']*Math['atan'](0x1/_0x2b349c['projectionMatrix']['elements'][0x5]),_0x2b349c['zoom']=0x1));}(_0x3ad74b,_0x15265b,_0x3e9757);},this['getCamera']=function(){return _0x15265b;},this['getFoveation']=function(){if(null!==_0x25c963||null!==_0x22bc9b)return _0x5e4818;},this['setFoveation']=function(_0x250ba6){_0x5e4818=_0x250ba6,null!==_0x25c963&&(_0x25c963['fixedFoveation']=_0x250ba6),null!==_0x22bc9b&&void 0x0!==_0x22bc9b['fixedFoveation']&&(_0x22bc9b['fixedFoveation']=_0x250ba6);},this['hasDepthSensing']=function(){return null!==_0x423e39['texture'];},this['getDepthSensingMesh']=function(){return _0x423e39['getMesh'](_0x15265b);};let _0x2b79bd=null;const _0x59cad2=new _0x596ce4();_0x59cad2['setAnimationLoop'](function(_0x2e4a40,_0x3a1fa5){if(_0x183121=_0x3a1fa5['getViewerPose'](_0x1cb10d||_0x1cc3bb),_0x419c1c=_0x3a1fa5,null!==_0x183121){const _0x599017=_0x183121['views'];null!==_0x22bc9b&&(_0x2eb154['setRenderTargetFramebuffer'](_0x247ccb,_0x22bc9b['framebuffer']),_0x2eb154['setRenderTarget'](_0x247ccb));let _0xcf85cd=!0x1;_0x599017['length']!==_0x15265b['cameras']['length']&&(_0x15265b['cameras']['length']=0x0,_0xcf85cd=!0x0);for(let _0x51e919=0x0;_0x51e919<_0x599017['length'];_0x51e919++){const _0x445f4a=_0x599017[_0x51e919];let _0x444f4c=null;if(null!==_0x22bc9b)_0x444f4c=_0x22bc9b['getViewport'](_0x445f4a);else{const _0x15d431=_0x3d3233['getViewSubImage'](_0x25c963,_0x445f4a);_0x444f4c=_0x15d431['viewport'],0x0===_0x51e919&&(_0x2eb154['setRenderTargetTextures'](_0x247ccb,_0x15d431['colorTexture'],_0x25c963['ignoreDepthValues']?void 0x0:_0x15d431['depthStencilTexture']),_0x2eb154['setRenderTarget'](_0x247ccb));}let _0x1031a6=_0x4f4963[_0x51e919];void 0x0===_0x1031a6&&(_0x1031a6=new _0x4e3753['ubm'](),_0x1031a6['layers']['enable'](_0x51e919),_0x1031a6['viewport']=new _0x4e3753['IUQ'](),_0x4f4963[_0x51e919]=_0x1031a6),_0x1031a6['matrix']['fromArray'](_0x445f4a['transform']['matrix']),_0x1031a6['matrix']['decompose'](_0x1031a6['position'],_0x1031a6['quaternion'],_0x1031a6['scale']),_0x1031a6['projectionMatrix']['fromArray'](_0x445f4a['projectionMatrix']),_0x1031a6['projectionMatrixInverse']['copy'](_0x1031a6['projectionMatrix'])['invert'](),_0x1031a6['viewport']['set'](_0x444f4c['x'],_0x444f4c['y'],_0x444f4c['width'],_0x444f4c['height']),0x0===_0x51e919&&(_0x15265b['matrix']['copy'](_0x1031a6['matrix']),_0x15265b['matrix']['decompose'](_0x15265b['position'],_0x15265b['quaternion'],_0x15265b['scale'])),!0x0===_0xcf85cd&&_0x15265b['cameras']['push'](_0x1031a6);}const _0x2adf8a=_0x2eefd6['enabledFeatures'];if(_0x2adf8a&&_0x2adf8a['includes']('depth-sensing')){const _0x48d38b=_0x3d3233['getDepthInformation'](_0x599017[0x0]);_0x48d38b&&_0x48d38b['isValid']&&_0x48d38b['texture']&&_0x423e39['init'](_0x2eb154,_0x48d38b,_0x2eefd6['renderState']);}}for(let _0x38c431=0x0;_0x38c431<_0x3d3beb['length'];_0x38c431++){const _0x243f1b=_0xc3c3ef[_0x38c431],_0x3e359c=_0x3d3beb[_0x38c431];null!==_0x243f1b&&void 0x0!==_0x3e359c&&_0x3e359c['update'](_0x243f1b,_0x3a1fa5,_0x1cb10d||_0x1cc3bb);}_0x2b79bd&&_0x2b79bd(_0x2e4a40,_0x3a1fa5),_0x3a1fa5['detectedPlanes']&&_0x111a07['dispatchEvent']({'type':'planesdetected','data':_0x3a1fa5}),_0x419c1c=null;}),this['setAnimationLoop']=function(_0x5b8f97){_0x2b79bd=_0x5b8f97;},this['dispose']=function(){};}}const _0x4a76e5=new _0x4e3753['O9p'](),_0x237b1f=new _0x4e3753['kn4']();function _0x5cbea8(_0x46ba6a,_0x4f1e72){function _0x3f6eb5(_0x404049,_0x3fab68){!0x0===_0x404049['matrixAutoUpdate']&&_0x404049['updateMatrix'](),_0x3fab68['value']['copy'](_0x404049['matrix']);}function _0x22db2f(_0x226a76,_0xc73943){_0x226a76['opacity']['value']=_0xc73943['opacity'],_0xc73943['color']&&_0x226a76['diffuse']['value']['copy'](_0xc73943['color']),_0xc73943['emissive']&&_0x226a76['emissive']['value']['copy'](_0xc73943['emissive'])['multiplyScalar'](_0xc73943['emissiveIntensity']),_0xc73943['map']&&(_0x226a76['map']['value']=_0xc73943['map'],_0x3f6eb5(_0xc73943['map'],_0x226a76['mapTransform'])),_0xc73943['alphaMap']&&(_0x226a76['alphaMap']['value']=_0xc73943['alphaMap'],_0x3f6eb5(_0xc73943['alphaMap'],_0x226a76['alphaMapTransform'])),_0xc73943['bumpMap']&&(_0x226a76['bumpMap']['value']=_0xc73943['bumpMap'],_0x3f6eb5(_0xc73943['bumpMap'],_0x226a76['bumpMapTransform']),_0x226a76['bumpScale']['value']=_0xc73943['bumpScale'],_0xc73943['side']===_0x4e3753['hsX']&&(_0x226a76['bumpScale']['value']*=-0x1)),_0xc73943['normalMap']&&(_0x226a76['normalMap']['value']=_0xc73943['normalMap'],_0x3f6eb5(_0xc73943['normalMap'],_0x226a76['normalMapTransform']),_0x226a76['normalScale']['value']['copy'](_0xc73943['normalScale']),_0xc73943['side']===_0x4e3753['hsX']&&_0x226a76['normalScale']['value']['negate']()),_0xc73943['displacementMap']&&(_0x226a76['displacementMap']['value']=_0xc73943['displacementMap'],_0x3f6eb5(_0xc73943['displacementMap'],_0x226a76['displacementMapTransform']),_0x226a76['displacementScale']['value']=_0xc73943['displacementScale'],_0x226a76['displacementBias']['value']=_0xc73943['displacementBias']),_0xc73943['emissiveMap']&&(_0x226a76['emissiveMap']['value']=_0xc73943['emissiveMap'],_0x3f6eb5(_0xc73943['emissiveMap'],_0x226a76['emissiveMapTransform'])),_0xc73943['specularMap']&&(_0x226a76['specularMap']['value']=_0xc73943['specularMap'],_0x3f6eb5(_0xc73943['specularMap'],_0x226a76['specularMapTransform'])),_0xc73943['alphaTest']>0x0&&(_0x226a76['alphaTest']['value']=_0xc73943['alphaTest']);const _0x58ff2f=_0x4f1e72['get'](_0xc73943),_0x42efbb=_0x58ff2f['envMap'],_0x4a96b1=_0x58ff2f['envMapRotation'];_0x42efbb&&(_0x226a76['envMap']['value']=_0x42efbb,_0x4a76e5['copy'](_0x4a96b1),_0x4a76e5['x']*=-0x1,_0x4a76e5['y']*=-0x1,_0x4a76e5['z']*=-0x1,_0x42efbb['isCubeTexture']&&!0x1===_0x42efbb['isRenderTargetTexture']&&(_0x4a76e5['y']*=-0x1,_0x4a76e5['z']*=-0x1),_0x226a76['envMapRotation']['value']['setFromMatrix4'](_0x237b1f['makeRotationFromEuler'](_0x4a76e5)),_0x226a76['flipEnvMap']['value']=_0x42efbb['isCubeTexture']&&!0x1===_0x42efbb['isRenderTargetTexture']?-0x1:0x1,_0x226a76['reflectivity']['value']=_0xc73943['reflectivity'],_0x226a76['ior']['value']=_0xc73943['ior'],_0x226a76['refractionRatio']['value']=_0xc73943['refractionRatio']),_0xc73943['lightMap']&&(_0x226a76['lightMap']['value']=_0xc73943['lightMap'],_0x226a76['lightMapIntensity']['value']=_0xc73943['lightMapIntensity'],_0x3f6eb5(_0xc73943['lightMap'],_0x226a76['lightMapTransform'])),_0xc73943['aoMap']&&(_0x226a76['aoMap']['value']=_0xc73943['aoMap'],_0x226a76['aoMapIntensity']['value']=_0xc73943['aoMapIntensity'],_0x3f6eb5(_0xc73943['aoMap'],_0x226a76['aoMapTransform']));}return{'refreshFogUniforms':function(_0x156038,_0x566988){_0x566988['color']['getRGB'](_0x156038['fogColor']['value'],(0x0,_0x4e3753['_Ut'])(_0x46ba6a)),_0x566988['isFog']?(_0x156038['fogNear']['value']=_0x566988['near'],_0x156038['fogFar']['value']=_0x566988['far']):_0x566988['isFogExp2']&&(_0x156038['fogDensity']['value']=_0x566988['density']);},'refreshMaterialUniforms':function(_0x4daf6d,_0x67c53f,_0x22c95d,_0x245fdf,_0x3baabf){_0x67c53f['isMeshBasicMaterial']||_0x67c53f['isMeshLambertMaterial']?_0x22db2f(_0x4daf6d,_0x67c53f):_0x67c53f['isMeshToonMaterial']?(_0x22db2f(_0x4daf6d,_0x67c53f),function(_0x5ceda3,_0xee5907){_0xee5907['gradientMap']&&(_0x5ceda3['gradientMap']['value']=_0xee5907['gradientMap']);}(_0x4daf6d,_0x67c53f)):_0x67c53f['isMeshPhongMaterial']?(_0x22db2f(_0x4daf6d,_0x67c53f),function(_0x4bc222,_0x38e7dd){_0x4bc222['specular']['value']['copy'](_0x38e7dd['specular']),_0x4bc222['shininess']['value']=Math['max'](_0x38e7dd['shininess'],0.0001);}(_0x4daf6d,_0x67c53f)):_0x67c53f['isMeshStandardMaterial']?(_0x22db2f(_0x4daf6d,_0x67c53f),function(_0x801a36,_0x382392){_0x801a36['metalness']['value']=_0x382392['metalness'],_0x382392['metalnessMap']&&(_0x801a36['metalnessMap']['value']=_0x382392['metalnessMap'],_0x3f6eb5(_0x382392['metalnessMap'],_0x801a36['metalnessMapTransform'])),(_0x801a36['roughness']['value']=_0x382392['roughness'],_0x382392['roughnessMap']&&(_0x801a36['roughnessMap']['value']=_0x382392['roughnessMap'],_0x3f6eb5(_0x382392['roughnessMap'],_0x801a36['roughnessMapTransform']))),_0x382392['envMap']&&(_0x801a36['envMapIntensity']['value']=_0x382392['envMapIntensity']);}(_0x4daf6d,_0x67c53f),_0x67c53f['isMeshPhysicalMaterial']&&function(_0x505651,_0x45033a,_0x2574ed){_0x505651['ior']['value']=_0x45033a['ior'],_0x45033a['sheen']>0x0&&(_0x505651['sheenColor']['value']['copy'](_0x45033a['sheenColor'])['multiplyScalar'](_0x45033a['sheen']),_0x505651['sheenRoughness']['value']=_0x45033a['sheenRoughness'],_0x45033a['sheenColorMap']&&(_0x505651['sheenColorMap']['value']=_0x45033a['sheenColorMap'],_0x3f6eb5(_0x45033a['sheenColorMap'],_0x505651['sheenColorMapTransform'])),_0x45033a['sheenRoughnessMap']&&(_0x505651['sheenRoughnessMap']['value']=_0x45033a['sheenRoughnessMap'],_0x3f6eb5(_0x45033a['sheenRoughnessMap'],_0x505651['sheenRoughnessMapTransform']))),_0x45033a['clearcoat']>0x0&&(_0x505651['clearcoat']['value']=_0x45033a['clearcoat'],_0x505651['clearcoatRoughness']['value']=_0x45033a['clearcoatRoughness'],_0x45033a['clearcoatMap']&&(_0x505651['clearcoatMap']['value']=_0x45033a['clearcoatMap'],_0x3f6eb5(_0x45033a['clearcoatMap'],_0x505651['clearcoatMapTransform'])),_0x45033a['clearcoatRoughnessMap']&&(_0x505651['clearcoatRoughnessMap']['value']=_0x45033a['clearcoatRoughnessMap'],_0x3f6eb5(_0x45033a['clearcoatRoughnessMap'],_0x505651['clearcoatRoughnessMapTransform'])),_0x45033a['clearcoatNormalMap']&&(_0x505651['clearcoatNormalMap']['value']=_0x45033a['clearcoatNormalMap'],_0x3f6eb5(_0x45033a['clearcoatNormalMap'],_0x505651['clearcoatNormalMapTransform']),_0x505651['clearcoatNormalScale']['value']['copy'](_0x45033a['clearcoatNormalScale']),_0x45033a['side']===_0x4e3753['hsX']&&_0x505651['clearcoatNormalScale']['value']['negate']())),_0x45033a['dispersion']>0x0&&(_0x505651['dispersion']['value']=_0x45033a['dispersion']),_0x45033a['iridescence']>0x0&&(_0x505651['iridescence']['value']=_0x45033a['iridescence'],_0x505651['iridescenceIOR']['value']=_0x45033a['iridescenceIOR'],_0x505651['iridescenceThicknessMinimum']['value']=_0x45033a['iridescenceThicknessRange'][0x0],_0x505651['iridescenceThicknessMaximum']['value']=_0x45033a['iridescenceThicknessRange'][0x1],_0x45033a['iridescenceMap']&&(_0x505651['iridescenceMap']['value']=_0x45033a['iridescenceMap'],_0x3f6eb5(_0x45033a['iridescenceMap'],_0x505651['iridescenceMapTransform'])),_0x45033a['iridescenceThicknessMap']&&(_0x505651['iridescenceThicknessMap']['value']=_0x45033a['iridescenceThicknessMap'],_0x3f6eb5(_0x45033a['iridescenceThicknessMap'],_0x505651['iridescenceThicknessMapTransform']))),_0x45033a['transmission']>0x0&&(_0x505651['transmission']['value']=_0x45033a['transmission'],_0x505651['transmissionSamplerMap']['value']=_0x2574ed['texture'],_0x505651['transmissionSamplerSize']['value']['set'](_0x2574ed['width'],_0x2574ed['height']),_0x45033a['transmissionMap']&&(_0x505651['transmissionMap']['value']=_0x45033a['transmissionMap'],_0x3f6eb5(_0x45033a['transmissionMap'],_0x505651['transmissionMapTransform'])),_0x505651['thickness']['value']=_0x45033a['thickness'],_0x45033a['thicknessMap']&&(_0x505651['thicknessMap']['value']=_0x45033a['thicknessMap'],_0x3f6eb5(_0x45033a['thicknessMap'],_0x505651['thicknessMapTransform'])),_0x505651['attenuationDistance']['value']=_0x45033a['attenuationDistance'],_0x505651['attenuationColor']['value']['copy'](_0x45033a['attenuationColor'])),_0x45033a['anisotropy']>0x0&&(_0x505651['anisotropyVector']['value']['set'](_0x45033a['anisotropy']*Math['cos'](_0x45033a['anisotropyRotation']),_0x45033a['anisotropy']*Math['sin'](_0x45033a['anisotropyRotation'])),_0x45033a['anisotropyMap']&&(_0x505651['anisotropyMap']['value']=_0x45033a['anisotropyMap'],_0x3f6eb5(_0x45033a['anisotropyMap'],_0x505651['anisotropyMapTransform']))),(_0x505651['specularIntensity']['value']=_0x45033a['specularIntensity'],_0x505651['specularColor']['value']['copy'](_0x45033a['specularColor']),_0x45033a['specularColorMap']&&(_0x505651['specularColorMap']['value']=_0x45033a['specularColorMap'],_0x3f6eb5(_0x45033a['specularColorMap'],_0x505651['specularColorMapTransform']))),_0x45033a['specularIntensityMap']&&(_0x505651['specularIntensityMap']['value']=_0x45033a['specularIntensityMap'],_0x3f6eb5(_0x45033a['specularIntensityMap'],_0x505651['specularIntensityMapTransform']));}(_0x4daf6d,_0x67c53f,_0x3baabf)):_0x67c53f['isMeshMatcapMaterial']?(_0x22db2f(_0x4daf6d,_0x67c53f),function(_0x1a07c7,_0x1489f5){_0x1489f5['matcap']&&(_0x1a07c7['matcap']['value']=_0x1489f5['matcap']);}(_0x4daf6d,_0x67c53f)):_0x67c53f['isMeshDepthMaterial']?_0x22db2f(_0x4daf6d,_0x67c53f):_0x67c53f['isMeshDistanceMaterial']?(_0x22db2f(_0x4daf6d,_0x67c53f),function(_0x135503,_0x314482){const _0x4a1ae1=_0x4f1e72['get'](_0x314482)['light'];_0x135503['referencePosition']['value']['setFromMatrixPosition'](_0x4a1ae1['matrixWorld']),_0x135503['nearDistance']['value']=_0x4a1ae1['shadow']['camera']['near'],_0x135503['farDistance']['value']=_0x4a1ae1['shadow']['camera']['far'];}(_0x4daf6d,_0x67c53f)):_0x67c53f['isMeshNormalMaterial']?_0x22db2f(_0x4daf6d,_0x67c53f):_0x67c53f['isLineBasicMaterial']?(function(_0x4b65dc,_0x29c1bb){_0x4b65dc['diffuse']['value']['copy'](_0x29c1bb['color']),_0x4b65dc['opacity']['value']=_0x29c1bb['opacity'],_0x29c1bb['map']&&(_0x4b65dc['map']['value']=_0x29c1bb['map'],_0x3f6eb5(_0x29c1bb['map'],_0x4b65dc['mapTransform']));}(_0x4daf6d,_0x67c53f),_0x67c53f['isLineDashedMaterial']&&function(_0x51390e,_0x24eb06){_0x51390e['dashSize']['value']=_0x24eb06['dashSize'],_0x51390e['totalSize']['value']=_0x24eb06['dashSize']+_0x24eb06['gapSize'],_0x51390e['scale']['value']=_0x24eb06['scale'];}(_0x4daf6d,_0x67c53f)):_0x67c53f['isPointsMaterial']?function(_0x28608f,_0x2373f0,_0x26b0b2,_0x286846){_0x28608f['diffuse']['value']['copy'](_0x2373f0['color']),_0x28608f['opacity']['value']=_0x2373f0['opacity'],_0x28608f['size']['value']=_0x2373f0['size']*_0x26b0b2,_0x28608f['scale']['value']=0.5*_0x286846,_0x2373f0['map']&&(_0x28608f['map']['value']=_0x2373f0['map'],_0x3f6eb5(_0x2373f0['map'],_0x28608f['uvTransform'])),_0x2373f0['alphaMap']&&(_0x28608f['alphaMap']['value']=_0x2373f0['alphaMap'],_0x3f6eb5(_0x2373f0['alphaMap'],_0x28608f['alphaMapTransform'])),_0x2373f0['alphaTest']>0x0&&(_0x28608f['alphaTest']['value']=_0x2373f0['alphaTest']);}(_0x4daf6d,_0x67c53f,_0x22c95d,_0x245fdf):_0x67c53f['isSpriteMaterial']?function(_0x58c36e,_0x130f20){_0x58c36e['diffuse']['value']['copy'](_0x130f20['color']),_0x58c36e['opacity']['value']=_0x130f20['opacity'],_0x58c36e['rotation']['value']=_0x130f20['rotation'],_0x130f20['map']&&(_0x58c36e['map']['value']=_0x130f20['map'],_0x3f6eb5(_0x130f20['map'],_0x58c36e['mapTransform'])),_0x130f20['alphaMap']&&(_0x58c36e['alphaMap']['value']=_0x130f20['alphaMap'],_0x3f6eb5(_0x130f20['alphaMap'],_0x58c36e['alphaMapTransform'])),_0x130f20['alphaTest']>0x0&&(_0x58c36e['alphaTest']['value']=_0x130f20['alphaTest']);}(_0x4daf6d,_0x67c53f):_0x67c53f['isShadowMaterial']?(_0x4daf6d['color']['value']['copy'](_0x67c53f['color']),_0x4daf6d['opacity']['value']=_0x67c53f['opacity']):_0x67c53f['isShaderMaterial']&&(_0x67c53f['uniformsNeedUpdate']=!0x1);}};}function _0x1e71ee(_0x3643bc,_0x4b7f00,_0x9f95a1,_0x552838){let _0x763f92={},_0x17f0d3={},_0x2bd8d1=[];const _0xaaaa95=_0x3643bc['getParameter'](_0x3643bc['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x16fa0f(_0x5364e0,_0x14baf3,_0x45c67a,_0x53599b){const _0x903678=_0x5364e0['value'],_0x24220b=_0x14baf3+'_'+_0x45c67a;if(void 0x0===_0x53599b[_0x24220b])return _0x53599b[_0x24220b]='number'==typeof _0x903678||'boolean'==typeof _0x903678?_0x903678:_0x903678['clone'](),!0x0;{const _0x5cdcbc=_0x53599b[_0x24220b];if('number'==typeof _0x903678||'boolean'==typeof _0x903678){if(_0x5cdcbc!==_0x903678)return _0x53599b[_0x24220b]=_0x903678,!0x0;}else{if(!0x1===_0x5cdcbc['equals'](_0x903678))return _0x5cdcbc['copy'](_0x903678),!0x0;}}return!0x1;}function _0x3440c6(_0x35a8fd){const _0x4e6ee7={'boundary':0x0,'storage':0x0};return'number'==typeof _0x35a8fd||'boolean'==typeof _0x35a8fd?(_0x4e6ee7['boundary']=0x4,_0x4e6ee7['storage']=0x4):_0x35a8fd['isVector2']?(_0x4e6ee7['boundary']=0x8,_0x4e6ee7['storage']=0x8):_0x35a8fd['isVector3']||_0x35a8fd['isColor']?(_0x4e6ee7['boundary']=0x10,_0x4e6ee7['storage']=0xc):_0x35a8fd['isVector4']?(_0x4e6ee7['boundary']=0x10,_0x4e6ee7['storage']=0x10):_0x35a8fd['isMatrix3']?(_0x4e6ee7['boundary']=0x30,_0x4e6ee7['storage']=0x30):_0x35a8fd['isMatrix4']?(_0x4e6ee7['boundary']=0x40,_0x4e6ee7['storage']=0x40):_0x35a8fd['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0x35a8fd),_0x4e6ee7;}function _0x422c40(_0x28b87a){const _0x4c24de=_0x28b87a['target'];_0x4c24de['removeEventListener']('dispose',_0x422c40);const _0x1ade21=_0x2bd8d1['indexOf'](_0x4c24de['__bindingPointIndex']);_0x2bd8d1['splice'](_0x1ade21,0x1),_0x3643bc['deleteBuffer'](_0x763f92[_0x4c24de['id']]),delete _0x763f92[_0x4c24de['id']],delete _0x17f0d3[_0x4c24de['id']];}return{'bind':function(_0x239c6c,_0x535719){const _0x4a6e8b=_0x535719['program'];_0x552838['uniformBlockBinding'](_0x239c6c,_0x4a6e8b);},'update':function(_0x35a2ae,_0xcde2fa){let _0x4ef82c=_0x763f92[_0x35a2ae['id']];void 0x0===_0x4ef82c&&(!function(_0x1e1c72){const _0x3f3f9c=_0x1e1c72['uniforms'];let _0x4adaff=0x0;const _0x40864e=0x10;for(let _0x4dffef=0x0,_0x36e1b2=_0x3f3f9c['length'];_0x4dffef<_0x36e1b2;_0x4dffef++){const _0x17ae76=Array['isArray'](_0x3f3f9c[_0x4dffef])?_0x3f3f9c[_0x4dffef]:[_0x3f3f9c[_0x4dffef]];for(let _0x71204=0x0,_0x376d83=_0x17ae76['length'];_0x71204<_0x376d83;_0x71204++){const _0xf9d03e=_0x17ae76[_0x71204],_0x51c12f=Array['isArray'](_0xf9d03e['value'])?_0xf9d03e['value']:[_0xf9d03e['value']];for(let _0x1ce129=0x0,_0x524b0c=_0x51c12f['length'];_0x1ce129<_0x524b0c;_0x1ce129++){const _0x4d954f=_0x3440c6(_0x51c12f[_0x1ce129]),_0x26da5b=_0x4adaff%_0x40864e,_0x30e2ce=_0x26da5b%_0x4d954f['boundary'],_0x428b86=_0x26da5b+_0x30e2ce;_0x4adaff+=_0x30e2ce,0x0!==_0x428b86&&_0x40864e-_0x428b86<_0x4d954f['storage']&&(_0x4adaff+=_0x40864e-_0x428b86),_0xf9d03e['__data']=new Float32Array(_0x4d954f['storage']/Float32Array['BYTES_PER_ELEMENT']),_0xf9d03e['__offset']=_0x4adaff,_0x4adaff+=_0x4d954f['storage'];}}}const _0x287b6f=_0x4adaff%_0x40864e;_0x287b6f>0x0&&(_0x4adaff+=_0x40864e-_0x287b6f),(_0x1e1c72['__size']=_0x4adaff,_0x1e1c72['__cache']={});}(_0x35a2ae),_0x4ef82c=function(_0x5282dc){const _0x455107=(function(){for(let _0x4f4285=0x0;_0x4f4285<_0xaaaa95;_0x4f4285++)if(-0x1===_0x2bd8d1['indexOf'](_0x4f4285))return _0x2bd8d1['push'](_0x4f4285),_0x4f4285;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x5282dc['__bindingPointIndex']=_0x455107;const _0xc01c18=_0x3643bc['createBuffer'](),_0x4b54be=_0x5282dc['__size'],_0x233dc7=_0x5282dc['usage'];return _0x3643bc['bindBuffer'](_0x3643bc['UNIFORM_BUFFER'],_0xc01c18),_0x3643bc['bufferData'](_0x3643bc['UNIFORM_BUFFER'],_0x4b54be,_0x233dc7),_0x3643bc['bindBuffer'](_0x3643bc['UNIFORM_BUFFER'],null),_0x3643bc['bindBufferBase'](_0x3643bc['UNIFORM_BUFFER'],_0x455107,_0xc01c18),_0xc01c18;}(_0x35a2ae),_0x763f92[_0x35a2ae['id']]=_0x4ef82c,_0x35a2ae['addEventListener']('dispose',_0x422c40));const _0x2aac8d=_0xcde2fa['program'];_0x552838['updateUBOMapping'](_0x35a2ae,_0x2aac8d);const _0x1d9a8f=_0x4b7f00['render']['frame'];_0x17f0d3[_0x35a2ae['id']]!==_0x1d9a8f&&(!function(_0x5c1a39){const _0x2dcbbb=_0x763f92[_0x5c1a39['id']],_0x5e7bac=_0x5c1a39['uniforms'],_0x5bc02a=_0x5c1a39['__cache'];_0x3643bc['bindBuffer'](_0x3643bc['UNIFORM_BUFFER'],_0x2dcbbb);for(let _0x335ebe=0x0,_0x14f475=_0x5e7bac['length'];_0x335ebe<_0x14f475;_0x335ebe++){const _0x423fe2=Array['isArray'](_0x5e7bac[_0x335ebe])?_0x5e7bac[_0x335ebe]:[_0x5e7bac[_0x335ebe]];for(let _0xecf1c3=0x0,_0x31c757=_0x423fe2['length'];_0xecf1c3<_0x31c757;_0xecf1c3++){const _0x24ad67=_0x423fe2[_0xecf1c3];if(!0x0===_0x16fa0f(_0x24ad67,_0x335ebe,_0xecf1c3,_0x5bc02a)){const _0xa33db6=_0x24ad67['__offset'],_0xacacdd=Array['isArray'](_0x24ad67['value'])?_0x24ad67['value']:[_0x24ad67['value']];let _0x6edb02=0x0;for(let _0x1b969e=0x0;_0x1b969e<_0xacacdd['length'];_0x1b969e++){const _0x160180=_0xacacdd[_0x1b969e],_0x53f450=_0x3440c6(_0x160180);'number'==typeof _0x160180||'boolean'==typeof _0x160180?(_0x24ad67['__data'][0x0]=_0x160180,_0x3643bc['bufferSubData'](_0x3643bc['UNIFORM_BUFFER'],_0xa33db6+_0x6edb02,_0x24ad67['__data'])):_0x160180['isMatrix3']?(_0x24ad67['__data'][0x0]=_0x160180['elements'][0x0],_0x24ad67['__data'][0x1]=_0x160180['elements'][0x1],_0x24ad67['__data'][0x2]=_0x160180['elements'][0x2],_0x24ad67['__data'][0x3]=0x0,_0x24ad67['__data'][0x4]=_0x160180['elements'][0x3],_0x24ad67['__data'][0x5]=_0x160180['elements'][0x4],_0x24ad67['__data'][0x6]=_0x160180['elements'][0x5],_0x24ad67['__data'][0x7]=0x0,_0x24ad67['__data'][0x8]=_0x160180['elements'][0x6],_0x24ad67['__data'][0x9]=_0x160180['elements'][0x7],_0x24ad67['__data'][0xa]=_0x160180['elements'][0x8],_0x24ad67['__data'][0xb]=0x0):(_0x160180['toArray'](_0x24ad67['__data'],_0x6edb02),_0x6edb02+=_0x53f450['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0x3643bc['bufferSubData'](_0x3643bc['UNIFORM_BUFFER'],_0xa33db6,_0x24ad67['__data']);}}}_0x3643bc['bindBuffer'](_0x3643bc['UNIFORM_BUFFER'],null);}(_0x35a2ae),_0x17f0d3[_0x35a2ae['id']]=_0x1d9a8f);},'dispose':function(){for(const _0x40a1f2 in _0x763f92)_0x3643bc['deleteBuffer'](_0x763f92[_0x40a1f2]);_0x2bd8d1=[],_0x763f92={},_0x17f0d3={};}};}class _0x47272c{constructor(_0x4ed631={}){const {canvas:_0x2c435f=(0x0,_0x4e3753['lPF'])(),context:_0x2199ae=null,depth:_0x51a967=!0x0,stencil:_0x28583a=!0x1,alpha:_0x57d4b8=!0x1,antialias:_0x57da56=!0x1,premultipliedAlpha:_0x45744e=!0x0,preserveDrawingBuffer:_0x1932dd=!0x1,powerPreference:_0x3666cd='default',failIfMajorPerformanceCaveat:_0x5dac88=!0x1,reverseDepthBuffer:_0x3026e5=!0x1}=_0x4ed631;let _0x505108;if(this['isWebGLRenderer']=!0x0,null!==_0x2199ae){if('undefined'!=typeof WebGLRenderingContext&&_0x2199ae instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x505108=_0x2199ae['getContextAttributes']()['alpha'];}else _0x505108=_0x57d4b8;const _0x583f00=new Uint32Array(0x4),_0x1a3ffd=new Int32Array(0x4);let _0x49e2bc=null,_0x278d05=null;const _0x3f61b6=[],_0x25e999=[];this['domElement']=_0x2c435f,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0x4e3753['er$'],this['toneMapping']=_0x4e3753['y_p'],this['toneMappingExposure']=0x1;const _0x254602=this;let _0x382dbc=!0x1,_0x45fb37=0x0,_0x7b3c08=0x0,_0x992fe8=null,_0x4cf387=-0x1,_0x50d14e=null;const _0x4e459b=new _0x4e3753['IUQ'](),_0x35e94f=new _0x4e3753['IUQ']();let _0x37a781=null;const _0x49c1eb=new _0x4e3753['Q1f'](0x0);let _0x37c66a=0x0,_0x50740a=_0x2c435f['width'],_0x239a92=_0x2c435f['height'],_0x30bf89=0x1,_0x53f709=null,_0x39a081=null;const _0x23a30d=new _0x4e3753['IUQ'](0x0,0x0,_0x50740a,_0x239a92),_0x18945b=new _0x4e3753['IUQ'](0x0,0x0,_0x50740a,_0x239a92);let _0x183d61=!0x1;const _0x1e8944=new _0x4e3753['PPD']();let _0x5e4af4=!0x1,_0x3e06c1=!0x1;this['transmissionResolutionScale']=0x1;const _0x46fdee=new _0x4e3753['kn4'](),_0x2bf593=new _0x4e3753['kn4'](),_0x4e0bd4=new _0x4e3753['Pq0'](),_0x481b29=new _0x4e3753['IUQ'](),_0x58233b={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x358538=!0x1;function _0x11048d(){return null===_0x992fe8?_0x30bf89:0x1;}let _0xd29eeb,_0x17d75c,_0x5ba50c,_0x28791e,_0x5bc241,_0x1c34a0,_0x165cad,_0x874770,_0x5029d1,_0xee6398,_0x1bfd64,_0x2121d6,_0x176dc3,_0x2d369d,_0x443bf5,_0x4518a5,_0x19007b,_0x5b2705,_0x3f3874,_0x352b9e,_0x3af51f,_0x2a4177,_0x967d17,_0x4b3741,_0x5e579f=_0x2199ae;function _0x21f21c(_0x37c259,_0x18658d){return _0x2c435f['getContext'](_0x37c259,_0x18658d);}try{const _0x237e42={'alpha':!0x0,'depth':_0x51a967,'stencil':_0x28583a,'antialias':_0x57da56,'premultipliedAlpha':_0x45744e,'preserveDrawingBuffer':_0x1932dd,'powerPreference':_0x3666cd,'failIfMajorPerformanceCaveat':_0x5dac88};if('setAttribute'in _0x2c435f&&_0x2c435f['setAttribute']('data-engine','three.js\x20r'+_0x4e3753['sPf']),_0x2c435f['addEventListener']('webglcontextlost',_0x4eaab0,!0x1),_0x2c435f['addEventListener']('webglcontextrestored',_0x3499a2,!0x1),_0x2c435f['addEventListener']('webglcontextcreationerror',_0xfbfae1,!0x1),null===_0x5e579f){const _0x3c3891='webgl2';if(_0x5e579f=_0x21f21c(_0x3c3891,_0x237e42),null===_0x5e579f)throw _0x21f21c(_0x3c3891)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0x597a2e){throw console['error']('THREE.WebGLRenderer:\x20'+_0x597a2e['message']),_0x597a2e;}function _0x381b82(){_0xd29eeb=new _0x59d322(_0x5e579f),_0xd29eeb['init'](),_0x2a4177=new _0x9fb4e(_0x5e579f,_0xd29eeb),_0x17d75c=new _0x4e3991(_0x5e579f,_0xd29eeb,_0x4ed631,_0x2a4177),_0x5ba50c=new _0x48c6c8(_0x5e579f,_0xd29eeb),_0x17d75c['reverseDepthBuffer']&&_0x3026e5&&_0x5ba50c['buffers']['depth']['setReversed'](!0x0),_0x28791e=new _0x264b84(_0x5e579f),_0x5bc241=new _0x1a93ec(),_0x1c34a0=new _0x25874c(_0x5e579f,_0xd29eeb,_0x5ba50c,_0x5bc241,_0x17d75c,_0x2a4177,_0x28791e),_0x165cad=new _0x1aff39(_0x254602),_0x874770=new _0x259f3c(_0x254602),_0x5029d1=new _0x2c1541(_0x5e579f),_0x967d17=new _0x2444c6(_0x5e579f,_0x5029d1),_0xee6398=new _0x17ed1e(_0x5e579f,_0x5029d1,_0x28791e,_0x967d17),_0x1bfd64=new _0x32d935(_0x5e579f,_0xee6398,_0x5029d1,_0x28791e),_0x3f3874=new _0x502cd0(_0x5e579f,_0x17d75c,_0x1c34a0),_0x4518a5=new _0x11d283(_0x5bc241),_0x2121d6=new _0x3bce6c(_0x254602,_0x165cad,_0x874770,_0xd29eeb,_0x17d75c,_0x967d17,_0x4518a5),_0x176dc3=new _0x5cbea8(_0x254602,_0x5bc241),_0x2d369d=new _0x3b1432(),_0x443bf5=new _0x1b995d(_0xd29eeb),_0x5b2705=new _0xfa47c7(_0x254602,_0x165cad,_0x874770,_0x5ba50c,_0x1bfd64,_0x505108,_0x45744e),_0x19007b=new _0x26c226(_0x254602,_0x1bfd64,_0x17d75c),_0x4b3741=new _0x1e71ee(_0x5e579f,_0x28791e,_0x17d75c,_0x5ba50c),_0x352b9e=new _0x33d05b(_0x5e579f,_0xd29eeb,_0x28791e),_0x3af51f=new _0x231e6f(_0x5e579f,_0xd29eeb,_0x28791e),_0x28791e['programs']=_0x2121d6['programs'],_0x254602['capabilities']=_0x17d75c,_0x254602['extensions']=_0xd29eeb,_0x254602['properties']=_0x5bc241,_0x254602['renderLists']=_0x2d369d,_0x254602['shadowMap']=_0x19007b,_0x254602['state']=_0x5ba50c,_0x254602['info']=_0x28791e;}_0x381b82();const _0x15e8be=new _0x2e774d(_0x254602,_0x5e579f);function _0x4eaab0(_0x1af00e){_0x1af00e['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x382dbc=!0x0;}function _0x3499a2(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x382dbc=!0x1;const _0x19fbe3=_0x28791e['autoReset'],_0x10c431=_0x19007b['enabled'],_0x283a8c=_0x19007b['autoUpdate'],_0x26ab69=_0x19007b['needsUpdate'],_0x47c0d3=_0x19007b['type'];_0x381b82(),_0x28791e['autoReset']=_0x19fbe3,_0x19007b['enabled']=_0x10c431,_0x19007b['autoUpdate']=_0x283a8c,_0x19007b['needsUpdate']=_0x26ab69,_0x19007b['type']=_0x47c0d3;}function _0xfbfae1(_0xf779c9){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0xf779c9['statusMessage']);}function _0x2e2549(_0x4d3d4a){const _0x4b2baa=_0x4d3d4a['target'];_0x4b2baa['removeEventListener']('dispose',_0x2e2549),function(_0x4086a2){(function(_0x1b771a){const _0x426602=_0x5bc241['get'](_0x1b771a)['programs'];void 0x0!==_0x426602&&(_0x426602['forEach'](function(_0x389bba){_0x2121d6['releaseProgram'](_0x389bba);}),_0x1b771a['isShaderMaterial']&&_0x2121d6['releaseShaderCache'](_0x1b771a));}(_0x4086a2),_0x5bc241['remove'](_0x4086a2));}(_0x4b2baa);}function _0x331f79(_0x39f6bb,_0x268fd5,_0x567e0e){!0x0===_0x39f6bb['transparent']&&_0x39f6bb['side']===_0x4e3753['$EB']&&!0x1===_0x39f6bb['forceSinglePass']?(_0x39f6bb['side']=_0x4e3753['hsX'],_0x39f6bb['needsUpdate']=!0x0,_0x8a1ef3(_0x39f6bb,_0x268fd5,_0x567e0e),_0x39f6bb['side']=_0x4e3753['hB5'],_0x39f6bb['needsUpdate']=!0x0,_0x8a1ef3(_0x39f6bb,_0x268fd5,_0x567e0e),_0x39f6bb['side']=_0x4e3753['$EB']):_0x8a1ef3(_0x39f6bb,_0x268fd5,_0x567e0e);}this['xr']=_0x15e8be,this['getContext']=function(){return _0x5e579f;},this['getContextAttributes']=function(){return _0x5e579f['getContextAttributes']();},this['forceContextLoss']=function(){const _0x6b5f94=_0xd29eeb['get']('WEBGL_lose_context');_0x6b5f94&&_0x6b5f94['loseContext']();},this['forceContextRestore']=function(){const _0x525528=_0xd29eeb['get']('WEBGL_lose_context');_0x525528&&_0x525528['restoreContext']();},this['getPixelRatio']=function(){return _0x30bf89;},this['setPixelRatio']=function(_0x15f45a){void 0x0!==_0x15f45a&&(_0x30bf89=_0x15f45a,this['setSize'](_0x50740a,_0x239a92,!0x1));},this['getSize']=function(_0x24fd70){return _0x24fd70['set'](_0x50740a,_0x239a92);},this['setSize']=function(_0x476e74,_0x57ddf6,_0x3b7406=!0x0){_0x15e8be['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x50740a=_0x476e74,_0x239a92=_0x57ddf6,_0x2c435f['width']=Math['floor'](_0x476e74*_0x30bf89),_0x2c435f['height']=Math['floor'](_0x57ddf6*_0x30bf89),!0x0===_0x3b7406&&(_0x2c435f['style']['width']=_0x476e74+'px',_0x2c435f['style']['height']=_0x57ddf6+'px'),this['setViewport'](0x0,0x0,_0x476e74,_0x57ddf6));},this['getDrawingBufferSize']=function(_0x44f666){return _0x44f666['set'](_0x50740a*_0x30bf89,_0x239a92*_0x30bf89)['floor']();},this['setDrawingBufferSize']=function(_0x3a96d8,_0x880df6,_0x34906b){_0x50740a=_0x3a96d8,_0x239a92=_0x880df6,_0x30bf89=_0x34906b,_0x2c435f['width']=Math['floor'](_0x3a96d8*_0x34906b),_0x2c435f['height']=Math['floor'](_0x880df6*_0x34906b),this['setViewport'](0x0,0x0,_0x3a96d8,_0x880df6);},this['getCurrentViewport']=function(_0x2e3498){return _0x2e3498['copy'](_0x4e459b);},this['getViewport']=function(_0x3669c5){return _0x3669c5['copy'](_0x23a30d);},this['setViewport']=function(_0x5883bf,_0x5e1ded,_0x23021e,_0x499647){_0x5883bf['isVector4']?_0x23a30d['set'](_0x5883bf['x'],_0x5883bf['y'],_0x5883bf['z'],_0x5883bf['w']):_0x23a30d['set'](_0x5883bf,_0x5e1ded,_0x23021e,_0x499647),_0x5ba50c['viewport'](_0x4e459b['copy'](_0x23a30d)['multiplyScalar'](_0x30bf89)['round']());},this['getScissor']=function(_0x5d7b22){return _0x5d7b22['copy'](_0x18945b);},this['setScissor']=function(_0x1da014,_0x1f6a27,_0x58aaca,_0x37ddda){_0x1da014['isVector4']?_0x18945b['set'](_0x1da014['x'],_0x1da014['y'],_0x1da014['z'],_0x1da014['w']):_0x18945b['set'](_0x1da014,_0x1f6a27,_0x58aaca,_0x37ddda),_0x5ba50c['scissor'](_0x35e94f['copy'](_0x18945b)['multiplyScalar'](_0x30bf89)['round']());},this['getScissorTest']=function(){return _0x183d61;},this['setScissorTest']=function(_0xe0e4eb){_0x5ba50c['setScissorTest'](_0x183d61=_0xe0e4eb);},this['setOpaqueSort']=function(_0x528322){_0x53f709=_0x528322;},this['setTransparentSort']=function(_0x31093c){_0x39a081=_0x31093c;},this['getClearColor']=function(_0x247ae5){return _0x247ae5['copy'](_0x5b2705['getClearColor']());},this['setClearColor']=function(){_0x5b2705['setClearColor']['apply'](_0x5b2705,arguments);},this['getClearAlpha']=function(){return _0x5b2705['getClearAlpha']();},this['setClearAlpha']=function(){_0x5b2705['setClearAlpha']['apply'](_0x5b2705,arguments);},this['clear']=function(_0x58cbdf=!0x0,_0x83fe4c=!0x0,_0x324f46=!0x0){let _0x28bb49=0x0;if(_0x58cbdf){let _0x5bde2a=!0x1;if(null!==_0x992fe8){const _0xdcea2e=_0x992fe8['texture']['format'];_0x5bde2a=_0xdcea2e===_0x4e3753['c90']||_0xdcea2e===_0x4e3753['TkQ']||_0xdcea2e===_0x4e3753['ZQM'];}if(_0x5bde2a){const _0x2006ba=_0x992fe8['texture']['type'],_0x39e0d8=_0x2006ba===_0x4e3753['OUM']||_0x2006ba===_0x4e3753['bkx']||_0x2006ba===_0x4e3753['cHt']||_0x2006ba===_0x4e3753['V3x']||_0x2006ba===_0x4e3753['Wew']||_0x2006ba===_0x4e3753['gJ2'],_0x461cd6=_0x5b2705['getClearColor'](),_0x42f66f=_0x5b2705['getClearAlpha'](),_0x67c47d=_0x461cd6['r'],_0x7e1dba=_0x461cd6['g'],_0x2c2cfb=_0x461cd6['b'];_0x39e0d8?(_0x583f00[0x0]=_0x67c47d,_0x583f00[0x1]=_0x7e1dba,_0x583f00[0x2]=_0x2c2cfb,_0x583f00[0x3]=_0x42f66f,_0x5e579f['clearBufferuiv'](_0x5e579f['COLOR'],0x0,_0x583f00)):(_0x1a3ffd[0x0]=_0x67c47d,_0x1a3ffd[0x1]=_0x7e1dba,_0x1a3ffd[0x2]=_0x2c2cfb,_0x1a3ffd[0x3]=_0x42f66f,_0x5e579f['clearBufferiv'](_0x5e579f['COLOR'],0x0,_0x1a3ffd));}else _0x28bb49|=_0x5e579f['COLOR_BUFFER_BIT'];}_0x83fe4c&&(_0x28bb49|=_0x5e579f['DEPTH_BUFFER_BIT']),_0x324f46&&(_0x28bb49|=_0x5e579f['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x5e579f['clear'](_0x28bb49);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0x2c435f['removeEventListener']('webglcontextlost',_0x4eaab0,!0x1),_0x2c435f['removeEventListener']('webglcontextrestored',_0x3499a2,!0x1),_0x2c435f['removeEventListener']('webglcontextcreationerror',_0xfbfae1,!0x1),_0x5b2705['dispose'](),_0x2d369d['dispose'](),_0x443bf5['dispose'](),_0x5bc241['dispose'](),_0x165cad['dispose'](),_0x874770['dispose'](),_0x1bfd64['dispose'](),_0x967d17['dispose'](),_0x4b3741['dispose'](),_0x2121d6['dispose'](),_0x15e8be['dispose'](),_0x15e8be['removeEventListener']('sessionstart',_0x9ffa8),_0x15e8be['removeEventListener']('sessionend',_0xcf1673),_0xbc51b4['stop']();},this['renderBufferDirect']=function(_0x3d992d,_0xce5d60,_0x5456f7,_0x2d2d35,_0x43d38c,_0x59e716){null===_0xce5d60&&(_0xce5d60=_0x58233b);const _0x14f43c=_0x43d38c['isMesh']&&_0x43d38c['matrixWorld']['determinant']()<0x0,_0x262c9=function(_0x1f21af,_0x20dc7b,_0x4cce32,_0x31c38c,_0x93ceef){!0x0!==_0x20dc7b['isScene']&&(_0x20dc7b=_0x58233b),_0x1c34a0['resetTextureUnits']();const _0x4329b6=_0x20dc7b['fog'],_0x1189ef=_0x31c38c['isMeshStandardMaterial']?_0x20dc7b['environment']:null,_0x51982d=null===_0x992fe8?_0x254602['outputColorSpace']:!0x0===_0x992fe8['isXRRenderTarget']?_0x992fe8['texture']['colorSpace']:_0x4e3753['Zr2'],_0x5af8c6=(_0x31c38c['isMeshStandardMaterial']?_0x874770:_0x165cad)['get'](_0x31c38c['envMap']||_0x1189ef),_0x3faaad=!0x0===_0x31c38c['vertexColors']&&!!_0x4cce32['attributes']['color']&&0x4===_0x4cce32['attributes']['color']['itemSize'],_0x1431d2=!!_0x4cce32['attributes']['tangent']&&(!!_0x31c38c['normalMap']||_0x31c38c['anisotropy']>0x0),_0x260309=!!_0x4cce32['morphAttributes']['position'],_0x1d4643=!!_0x4cce32['morphAttributes']['normal'],_0x242ebf=!!_0x4cce32['morphAttributes']['color'];let _0x36beb5=_0x4e3753['y_p'];_0x31c38c['toneMapped']&&(null!==_0x992fe8&&!0x0!==_0x992fe8['isXRRenderTarget']||(_0x36beb5=_0x254602['toneMapping']));const _0x1691ab=_0x4cce32['morphAttributes']['position']||_0x4cce32['morphAttributes']['normal']||_0x4cce32['morphAttributes']['color'],_0x42533b=void 0x0!==_0x1691ab?_0x1691ab['length']:0x0,_0x3aa8ff=_0x5bc241['get'](_0x31c38c),_0x4ce5ad=_0x278d05['state']['lights'];if(!0x0===_0x5e4af4&&(!0x0===_0x3e06c1||_0x1f21af!==_0x50d14e)){const _0x166982=_0x1f21af===_0x50d14e&&_0x31c38c['id']===_0x4cf387;_0x4518a5['setState'](_0x31c38c,_0x1f21af,_0x166982);}let _0x20bc99=!0x1;_0x31c38c['version']===_0x3aa8ff['__version']?_0x3aa8ff['needsLights']&&_0x3aa8ff['lightsStateVersion']!==_0x4ce5ad['state']['version']||_0x3aa8ff['outputColorSpace']!==_0x51982d||_0x93ceef['isBatchedMesh']&&!0x1===_0x3aa8ff['batching']?_0x20bc99=!0x0:_0x93ceef['isBatchedMesh']||!0x0!==_0x3aa8ff['batching']?_0x93ceef['isBatchedMesh']&&!0x0===_0x3aa8ff['batchingColor']&&null===_0x93ceef['colorTexture']||_0x93ceef['isBatchedMesh']&&!0x1===_0x3aa8ff['batchingColor']&&null!==_0x93ceef['colorTexture']||_0x93ceef['isInstancedMesh']&&!0x1===_0x3aa8ff['instancing']?_0x20bc99=!0x0:_0x93ceef['isInstancedMesh']||!0x0!==_0x3aa8ff['instancing']?_0x93ceef['isSkinnedMesh']&&!0x1===_0x3aa8ff['skinning']?_0x20bc99=!0x0:_0x93ceef['isSkinnedMesh']||!0x0!==_0x3aa8ff['skinning']?_0x93ceef['isInstancedMesh']&&!0x0===_0x3aa8ff['instancingColor']&&null===_0x93ceef['instanceColor']||_0x93ceef['isInstancedMesh']&&!0x1===_0x3aa8ff['instancingColor']&&null!==_0x93ceef['instanceColor']||_0x93ceef['isInstancedMesh']&&!0x0===_0x3aa8ff['instancingMorph']&&null===_0x93ceef['morphTexture']||_0x93ceef['isInstancedMesh']&&!0x1===_0x3aa8ff['instancingMorph']&&null!==_0x93ceef['morphTexture']||_0x3aa8ff['envMap']!==_0x5af8c6||!0x0===_0x31c38c['fog']&&_0x3aa8ff['fog']!==_0x4329b6?_0x20bc99=!0x0:void 0x0===_0x3aa8ff['numClippingPlanes']||_0x3aa8ff['numClippingPlanes']===_0x4518a5['numPlanes']&&_0x3aa8ff['numIntersection']===_0x4518a5['numIntersection']?(_0x3aa8ff['vertexAlphas']!==_0x3faaad||_0x3aa8ff['vertexTangents']!==_0x1431d2||_0x3aa8ff['morphTargets']!==_0x260309||_0x3aa8ff['morphNormals']!==_0x1d4643||_0x3aa8ff['morphColors']!==_0x242ebf||_0x3aa8ff['toneMapping']!==_0x36beb5||_0x3aa8ff['morphTargetsCount']!==_0x42533b)&&(_0x20bc99=!0x0):_0x20bc99=!0x0:_0x20bc99=!0x0:_0x20bc99=!0x0:_0x20bc99=!0x0:(_0x20bc99=!0x0,_0x3aa8ff['__version']=_0x31c38c['version']);let _0x200196=_0x3aa8ff['currentProgram'];!0x0===_0x20bc99&&(_0x200196=_0x8a1ef3(_0x31c38c,_0x20dc7b,_0x93ceef));let _0x56b782=!0x1,_0x326532=!0x1,_0x18344d=!0x1;const _0x2a24a8=_0x200196['getUniforms'](),_0x4d8000=_0x3aa8ff['uniforms'];_0x5ba50c['useProgram'](_0x200196['program'])&&(_0x56b782=!0x0,_0x326532=!0x0,_0x18344d=!0x0),_0x31c38c['id']!==_0x4cf387&&(_0x4cf387=_0x31c38c['id'],_0x326532=!0x0);if(_0x56b782||_0x50d14e!==_0x1f21af){_0x5ba50c['buffers']['depth']['getReversed']()?(_0x46fdee['copy'](_0x1f21af['projectionMatrix']),(0x0,_0x4e3753['xiE'])(_0x46fdee),(0x0,_0x4e3753['Mmk'])(_0x46fdee),_0x2a24a8['setValue'](_0x5e579f,'projectionMatrix',_0x46fdee)):_0x2a24a8['setValue'](_0x5e579f,'projectionMatrix',_0x1f21af['projectionMatrix']),_0x2a24a8['setValue'](_0x5e579f,'viewMatrix',_0x1f21af['matrixWorldInverse']);const _0x5518df=_0x2a24a8['map']['cameraPosition'];void 0x0!==_0x5518df&&_0x5518df['setValue'](_0x5e579f,_0x4e0bd4['setFromMatrixPosition'](_0x1f21af['matrixWorld'])),_0x17d75c['logarithmicDepthBuffer']&&_0x2a24a8['setValue'](_0x5e579f,'logDepthBufFC',0x2/(Math['log'](_0x1f21af['far']+0x1)/Math['LN2'])),(_0x31c38c['isMeshPhongMaterial']||_0x31c38c['isMeshToonMaterial']||_0x31c38c['isMeshLambertMaterial']||_0x31c38c['isMeshBasicMaterial']||_0x31c38c['isMeshStandardMaterial']||_0x31c38c['isShaderMaterial'])&&_0x2a24a8['setValue'](_0x5e579f,'isOrthographic',!0x0===_0x1f21af['isOrthographicCamera']),_0x50d14e!==_0x1f21af&&(_0x50d14e=_0x1f21af,_0x326532=!0x0,_0x18344d=!0x0);}if(_0x93ceef['isSkinnedMesh']){_0x2a24a8['setOptional'](_0x5e579f,_0x93ceef,'bindMatrix'),_0x2a24a8['setOptional'](_0x5e579f,_0x93ceef,'bindMatrixInverse');const _0x329239=_0x93ceef['skeleton'];_0x329239&&(null===_0x329239['boneTexture']&&_0x329239['computeBoneTexture'](),_0x2a24a8['setValue'](_0x5e579f,'boneTexture',_0x329239['boneTexture'],_0x1c34a0));}_0x93ceef['isBatchedMesh']&&(_0x2a24a8['setOptional'](_0x5e579f,_0x93ceef,'batchingTexture'),_0x2a24a8['setValue'](_0x5e579f,'batchingTexture',_0x93ceef['_matricesTexture'],_0x1c34a0),_0x2a24a8['setOptional'](_0x5e579f,_0x93ceef,'batchingIdTexture'),_0x2a24a8['setValue'](_0x5e579f,'batchingIdTexture',_0x93ceef['_indirectTexture'],_0x1c34a0),_0x2a24a8['setOptional'](_0x5e579f,_0x93ceef,'batchingColorTexture'),null!==_0x93ceef['_colorsTexture']&&_0x2a24a8['setValue'](_0x5e579f,'batchingColorTexture',_0x93ceef['_colorsTexture'],_0x1c34a0));const _0x60efed=_0x4cce32['morphAttributes'];void 0x0===_0x60efed['position']&&void 0x0===_0x60efed['normal']&&void 0x0===_0x60efed['color']||_0x3f3874['update'](_0x93ceef,_0x4cce32,_0x200196),(_0x326532||_0x3aa8ff['receiveShadow']!==_0x93ceef['receiveShadow'])&&(_0x3aa8ff['receiveShadow']=_0x93ceef['receiveShadow'],_0x2a24a8['setValue'](_0x5e579f,'receiveShadow',_0x93ceef['receiveShadow'])),_0x31c38c['isMeshGouraudMaterial']&&null!==_0x31c38c['envMap']&&(_0x4d8000['envMap']['value']=_0x5af8c6,_0x4d8000['flipEnvMap']['value']=_0x5af8c6['isCubeTexture']&&!0x1===_0x5af8c6['isRenderTargetTexture']?-0x1:0x1),_0x31c38c['isMeshStandardMaterial']&&null===_0x31c38c['envMap']&&null!==_0x20dc7b['environment']&&(_0x4d8000['envMapIntensity']['value']=_0x20dc7b['environmentIntensity']),_0x326532&&(_0x2a24a8['setValue'](_0x5e579f,'toneMappingExposure',_0x254602['toneMappingExposure']),_0x3aa8ff['needsLights']&&(_0x32b550=_0x18344d,(_0x17b47c=_0x4d8000)['ambientLightColor']['needsUpdate']=_0x32b550,_0x17b47c['lightProbe']['needsUpdate']=_0x32b550,_0x17b47c['directionalLights']['needsUpdate']=_0x32b550,_0x17b47c['directionalLightShadows']['needsUpdate']=_0x32b550,_0x17b47c['pointLights']['needsUpdate']=_0x32b550,_0x17b47c['pointLightShadows']['needsUpdate']=_0x32b550,_0x17b47c['spotLights']['needsUpdate']=_0x32b550,_0x17b47c['spotLightShadows']['needsUpdate']=_0x32b550,_0x17b47c['rectAreaLights']['needsUpdate']=_0x32b550,_0x17b47c['hemisphereLights']['needsUpdate']=_0x32b550),_0x4329b6&&!0x0===_0x31c38c['fog']&&_0x176dc3['refreshFogUniforms'](_0x4d8000,_0x4329b6),_0x176dc3['refreshMaterialUniforms'](_0x4d8000,_0x31c38c,_0x30bf89,_0x239a92,_0x278d05['state']['transmissionRenderTarget'][_0x1f21af['id']]),_0x5b3367['upload'](_0x5e579f,_0x7f7db6(_0x3aa8ff),_0x4d8000,_0x1c34a0));var _0x17b47c,_0x32b550;_0x31c38c['isShaderMaterial']&&!0x0===_0x31c38c['uniformsNeedUpdate']&&(_0x5b3367['upload'](_0x5e579f,_0x7f7db6(_0x3aa8ff),_0x4d8000,_0x1c34a0),_0x31c38c['uniformsNeedUpdate']=!0x1),_0x31c38c['isSpriteMaterial']&&_0x2a24a8['setValue'](_0x5e579f,'center',_0x93ceef['center']);if(_0x2a24a8['setValue'](_0x5e579f,'modelViewMatrix',_0x93ceef['modelViewMatrix']),_0x2a24a8['setValue'](_0x5e579f,'normalMatrix',_0x93ceef['normalMatrix']),_0x2a24a8['setValue'](_0x5e579f,'modelMatrix',_0x93ceef['matrixWorld']),_0x31c38c['isShaderMaterial']||_0x31c38c['isRawShaderMaterial']){const _0x3e5432=_0x31c38c['uniformsGroups'];for(let _0x81853f=0x0,_0x3f07e0=_0x3e5432['length'];_0x81853f<_0x3f07e0;_0x81853f++){const _0x4b09cc=_0x3e5432[_0x81853f];_0x4b3741['update'](_0x4b09cc,_0x200196),_0x4b3741['bind'](_0x4b09cc,_0x200196);}}return _0x200196;}(_0x3d992d,_0xce5d60,_0x5456f7,_0x2d2d35,_0x43d38c);_0x5ba50c['setMaterial'](_0x2d2d35,_0x14f43c);let _0x35bbed=_0x5456f7['index'],_0x3c24d1=0x1;if(!0x0===_0x2d2d35['wireframe']){if(_0x35bbed=_0xee6398['getWireframeAttribute'](_0x5456f7),void 0x0===_0x35bbed)return;_0x3c24d1=0x2;}const _0x3435f3=_0x5456f7['drawRange'],_0xc28c21=_0x5456f7['attributes']['position'];let _0x13fc65=_0x3435f3['start']*_0x3c24d1,_0xee805=(_0x3435f3['start']+_0x3435f3['count'])*_0x3c24d1;null!==_0x59e716&&(_0x13fc65=Math['max'](_0x13fc65,_0x59e716['start']*_0x3c24d1),_0xee805=Math['min'](_0xee805,(_0x59e716['start']+_0x59e716['count'])*_0x3c24d1)),null!==_0x35bbed?(_0x13fc65=Math['max'](_0x13fc65,0x0),_0xee805=Math['min'](_0xee805,_0x35bbed['count'])):null!=_0xc28c21&&(_0x13fc65=Math['max'](_0x13fc65,0x0),_0xee805=Math['min'](_0xee805,_0xc28c21['count']));const _0xa47c22=_0xee805-_0x13fc65;if(_0xa47c22<0x0||_0xa47c22===0x1/0x0)return;let _0x227f69;_0x967d17['setup'](_0x43d38c,_0x2d2d35,_0x262c9,_0x5456f7,_0x35bbed);let _0x329ed9=_0x352b9e;if(null!==_0x35bbed&&(_0x227f69=_0x5029d1['get'](_0x35bbed),_0x329ed9=_0x3af51f,_0x329ed9['setIndex'](_0x227f69)),_0x43d38c['isMesh'])!0x0===_0x2d2d35['wireframe']?(_0x5ba50c['setLineWidth'](_0x2d2d35['wireframeLinewidth']*_0x11048d()),_0x329ed9['setMode'](_0x5e579f['LINES'])):_0x329ed9['setMode'](_0x5e579f['TRIANGLES']);else{if(_0x43d38c['isLine']){let _0x19f496=_0x2d2d35['linewidth'];void 0x0===_0x19f496&&(_0x19f496=0x1),_0x5ba50c['setLineWidth'](_0x19f496*_0x11048d()),_0x43d38c['isLineSegments']?_0x329ed9['setMode'](_0x5e579f['LINES']):_0x43d38c['isLineLoop']?_0x329ed9['setMode'](_0x5e579f['LINE_LOOP']):_0x329ed9['setMode'](_0x5e579f['LINE_STRIP']);}else _0x43d38c['isPoints']?_0x329ed9['setMode'](_0x5e579f['POINTS']):_0x43d38c['isSprite']&&_0x329ed9['setMode'](_0x5e579f['TRIANGLES']);}if(_0x43d38c['isBatchedMesh']){if(null!==_0x43d38c['_multiDrawInstances'])_0x329ed9['renderMultiDrawInstances'](_0x43d38c['_multiDrawStarts'],_0x43d38c['_multiDrawCounts'],_0x43d38c['_multiDrawCount'],_0x43d38c['_multiDrawInstances']);else{if(_0xd29eeb['get']('WEBGL_multi_draw'))_0x329ed9['renderMultiDraw'](_0x43d38c['_multiDrawStarts'],_0x43d38c['_multiDrawCounts'],_0x43d38c['_multiDrawCount']);else{const _0x48dbef=_0x43d38c['_multiDrawStarts'],_0x303eb6=_0x43d38c['_multiDrawCounts'],_0x4c7ae3=_0x43d38c['_multiDrawCount'],_0x5e028d=_0x35bbed?_0x5029d1['get'](_0x35bbed)['bytesPerElement']:0x1,_0x598f1d=_0x5bc241['get'](_0x2d2d35)['currentProgram']['getUniforms']();for(let _0x14abb4=0x0;_0x14abb4<_0x4c7ae3;_0x14abb4++)_0x598f1d['setValue'](_0x5e579f,'_gl_DrawID',_0x14abb4),_0x329ed9['render'](_0x48dbef[_0x14abb4]/_0x5e028d,_0x303eb6[_0x14abb4]);}}}else{if(_0x43d38c['isInstancedMesh'])_0x329ed9['renderInstances'](_0x13fc65,_0xa47c22,_0x43d38c['count']);else{if(_0x5456f7['isInstancedBufferGeometry']){const _0x21147e=void 0x0!==_0x5456f7['_maxInstanceCount']?_0x5456f7['_maxInstanceCount']:0x1/0x0,_0x549410=Math['min'](_0x5456f7['instanceCount'],_0x21147e);_0x329ed9['renderInstances'](_0x13fc65,_0xa47c22,_0x549410);}else _0x329ed9['render'](_0x13fc65,_0xa47c22);}}},this['compile']=function(_0x284ed3,_0x5b9473,_0x23f997=null){null===_0x23f997&&(_0x23f997=_0x284ed3),_0x278d05=_0x443bf5['get'](_0x23f997),_0x278d05['init'](_0x5b9473),_0x25e999['push'](_0x278d05),_0x23f997['traverseVisible'](function(_0x2966a7){_0x2966a7['isLight']&&_0x2966a7['layers']['test'](_0x5b9473['layers'])&&(_0x278d05['pushLight'](_0x2966a7),_0x2966a7['castShadow']&&_0x278d05['pushShadow'](_0x2966a7));}),_0x284ed3!==_0x23f997&&_0x284ed3['traverseVisible'](function(_0x3e50be){_0x3e50be['isLight']&&_0x3e50be['layers']['test'](_0x5b9473['layers'])&&(_0x278d05['pushLight'](_0x3e50be),_0x3e50be['castShadow']&&_0x278d05['pushShadow'](_0x3e50be));}),_0x278d05['setupLights']();const _0x528a79=new Set();return _0x284ed3['traverse'](function(_0x363c0b){if(!(_0x363c0b['isMesh']||_0x363c0b['isPoints']||_0x363c0b['isLine']||_0x363c0b['isSprite']))return;const _0x251aa2=_0x363c0b['material'];if(_0x251aa2){if(Array['isArray'](_0x251aa2))for(let _0x36bf07=0x0;_0x36bf07<_0x251aa2['length'];_0x36bf07++){const _0x199192=_0x251aa2[_0x36bf07];_0x331f79(_0x199192,_0x23f997,_0x363c0b),_0x528a79['add'](_0x199192);}else _0x331f79(_0x251aa2,_0x23f997,_0x363c0b),_0x528a79['add'](_0x251aa2);}}),_0x25e999['pop'](),_0x278d05=null,_0x528a79;},this['compileAsync']=function(_0x46aa34,_0x4900d2,_0xf112f6=null){const _0x54c61a=this['compile'](_0x46aa34,_0x4900d2,_0xf112f6);return new Promise(_0x1a9cb5=>{function _0x44dac6(){_0x54c61a['forEach'](function(_0x1a3cc2){_0x5bc241['get'](_0x1a3cc2)['currentProgram']['isReady']()&&_0x54c61a['delete'](_0x1a3cc2);}),0x0!==_0x54c61a['size']?setTimeout(_0x44dac6,0xa):_0x1a9cb5(_0x46aa34);}null!==_0xd29eeb['get']('KHR_parallel_shader_compile')?_0x44dac6():setTimeout(_0x44dac6,0xa);});};let _0x5c3da0=null;function _0x9ffa8(){_0xbc51b4['stop']();}function _0xcf1673(){_0xbc51b4['start']();}const _0xbc51b4=new _0x596ce4();function _0x374c2f(_0xd8c93c,_0x2b9861,_0x2fa521,_0x5eaaa1){if(!0x1===_0xd8c93c['visible'])return;if(_0xd8c93c['layers']['test'](_0x2b9861['layers'])){if(_0xd8c93c['isGroup'])_0x2fa521=_0xd8c93c['renderOrder'];else{if(_0xd8c93c['isLOD'])!0x0===_0xd8c93c['autoUpdate']&&_0xd8c93c['update'](_0x2b9861);else{if(_0xd8c93c['isLight'])_0x278d05['pushLight'](_0xd8c93c),_0xd8c93c['castShadow']&&_0x278d05['pushShadow'](_0xd8c93c);else{if(_0xd8c93c['isSprite']){if(!_0xd8c93c['frustumCulled']||_0x1e8944['intersectsSprite'](_0xd8c93c)){_0x5eaaa1&&_0x481b29['setFromMatrixPosition'](_0xd8c93c['matrixWorld'])['applyMatrix4'](_0x2bf593);const _0x213a1c=_0x1bfd64['update'](_0xd8c93c),_0x46187a=_0xd8c93c['material'];_0x46187a['visible']&&_0x49e2bc['push'](_0xd8c93c,_0x213a1c,_0x46187a,_0x2fa521,_0x481b29['z'],null);}}else{if((_0xd8c93c['isMesh']||_0xd8c93c['isLine']||_0xd8c93c['isPoints'])&&(!_0xd8c93c['frustumCulled']||_0x1e8944['intersectsObject'](_0xd8c93c))){const _0x2fc4b2=_0x1bfd64['update'](_0xd8c93c),_0x4b64a0=_0xd8c93c['material'];if(_0x5eaaa1&&(void 0x0!==_0xd8c93c['boundingSphere']?(null===_0xd8c93c['boundingSphere']&&_0xd8c93c['computeBoundingSphere'](),_0x481b29['copy'](_0xd8c93c['boundingSphere']['center'])):(null===_0x2fc4b2['boundingSphere']&&_0x2fc4b2['computeBoundingSphere'](),_0x481b29['copy'](_0x2fc4b2['boundingSphere']['center'])),_0x481b29['applyMatrix4'](_0xd8c93c['matrixWorld'])['applyMatrix4'](_0x2bf593)),Array['isArray'](_0x4b64a0)){const _0x1b2ff6=_0x2fc4b2['groups'];for(let _0x2ecf70=0x0,_0x247ea1=_0x1b2ff6['length'];_0x2ecf70<_0x247ea1;_0x2ecf70++){const _0x4fdb0d=_0x1b2ff6[_0x2ecf70],_0x4765ca=_0x4b64a0[_0x4fdb0d['materialIndex']];_0x4765ca&&_0x4765ca['visible']&&_0x49e2bc['push'](_0xd8c93c,_0x2fc4b2,_0x4765ca,_0x2fa521,_0x481b29['z'],_0x4fdb0d);}}else _0x4b64a0['visible']&&_0x49e2bc['push'](_0xd8c93c,_0x2fc4b2,_0x4b64a0,_0x2fa521,_0x481b29['z'],null);}}}}}}const _0x549804=_0xd8c93c['children'];for(let _0x59eb13=0x0,_0xf1324d=_0x549804['length'];_0x59eb13<_0xf1324d;_0x59eb13++)_0x374c2f(_0x549804[_0x59eb13],_0x2b9861,_0x2fa521,_0x5eaaa1);}function _0xe4e9f0(_0x5f5b94,_0x35bed7,_0xfd7ba5,_0x5cb443){const _0x560342=_0x5f5b94['opaque'],_0x34fb66=_0x5f5b94['transmissive'],_0x2932a2=_0x5f5b94['transparent'];_0x278d05['setupLightsView'](_0xfd7ba5),!0x0===_0x5e4af4&&_0x4518a5['setGlobalState'](_0x254602['clippingPlanes'],_0xfd7ba5),_0x5cb443&&_0x5ba50c['viewport'](_0x4e459b['copy'](_0x5cb443)),_0x560342['length']>0x0&&_0x49c014(_0x560342,_0x35bed7,_0xfd7ba5),_0x34fb66['length']>0x0&&_0x49c014(_0x34fb66,_0x35bed7,_0xfd7ba5),_0x2932a2['length']>0x0&&_0x49c014(_0x2932a2,_0x35bed7,_0xfd7ba5),_0x5ba50c['buffers']['depth']['setTest'](!0x0),_0x5ba50c['buffers']['depth']['setMask'](!0x0),_0x5ba50c['buffers']['color']['setMask'](!0x0),_0x5ba50c['setPolygonOffset'](!0x1);}function _0x336dca(_0x4b7d56,_0x497382,_0x3964cb,_0x51ebc9){if(null!==(!0x0===_0x3964cb['isScene']?_0x3964cb['overrideMaterial']:null))return;void 0x0===_0x278d05['state']['transmissionRenderTarget'][_0x51ebc9['id']]&&(_0x278d05['state']['transmissionRenderTarget'][_0x51ebc9['id']]=new _0x4e3753['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0xd29eeb['has']('EXT_color_buffer_half_float')||_0xd29eeb['has']('EXT_color_buffer_float')?_0x4e3753['ix0']:_0x4e3753['OUM'],'minFilter':_0x4e3753['$_I'],'samples':0x4,'stencilBuffer':_0x28583a,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0x4e3753['ppV']['workingColorSpace']}));const _0x2a9d02=_0x278d05['state']['transmissionRenderTarget'][_0x51ebc9['id']],_0x47c27e=_0x51ebc9['viewport']||_0x4e459b;_0x2a9d02['setSize'](_0x47c27e['z']*_0x254602['transmissionResolutionScale'],_0x47c27e['w']*_0x254602['transmissionResolutionScale']);const _0x1b9017=_0x254602['getRenderTarget']();_0x254602['setRenderTarget'](_0x2a9d02),_0x254602['getClearColor'](_0x49c1eb),_0x37c66a=_0x254602['getClearAlpha'](),_0x37c66a<0x1&&_0x254602['setClearColor'](0xffffff,0.5),_0x254602['clear'](),_0x358538&&_0x5b2705['render'](_0x3964cb);const _0x2327f3=_0x254602['toneMapping'];_0x254602['toneMapping']=_0x4e3753['y_p'];const _0x5d1280=_0x51ebc9['viewport'];if(void 0x0!==_0x51ebc9['viewport']&&(_0x51ebc9['viewport']=void 0x0),_0x278d05['setupLightsView'](_0x51ebc9),!0x0===_0x5e4af4&&_0x4518a5['setGlobalState'](_0x254602['clippingPlanes'],_0x51ebc9),_0x49c014(_0x4b7d56,_0x3964cb,_0x51ebc9),_0x1c34a0['updateMultisampleRenderTarget'](_0x2a9d02),_0x1c34a0['updateRenderTargetMipmap'](_0x2a9d02),!0x1===_0xd29eeb['has']('WEBGL_multisampled_render_to_texture')){let _0x408f50=!0x1;for(let _0x558cd2=0x0,_0x1ddc30=_0x497382['length'];_0x558cd2<_0x1ddc30;_0x558cd2++){const _0x59bfd5=_0x497382[_0x558cd2],_0x4fe6d0=_0x59bfd5['object'],_0x46947b=_0x59bfd5['geometry'],_0x4307de=_0x59bfd5['material'],_0x48b594=_0x59bfd5['group'];if(_0x4307de['side']===_0x4e3753['$EB']&&_0x4fe6d0['layers']['test'](_0x51ebc9['layers'])){const _0x14414e=_0x4307de['side'];_0x4307de['side']=_0x4e3753['hsX'],_0x4307de['needsUpdate']=!0x0,_0x51fab6(_0x4fe6d0,_0x3964cb,_0x51ebc9,_0x46947b,_0x4307de,_0x48b594),_0x4307de['side']=_0x14414e,_0x4307de['needsUpdate']=!0x0,_0x408f50=!0x0;}}!0x0===_0x408f50&&(_0x1c34a0['updateMultisampleRenderTarget'](_0x2a9d02),_0x1c34a0['updateRenderTargetMipmap'](_0x2a9d02));}_0x254602['setRenderTarget'](_0x1b9017),_0x254602['setClearColor'](_0x49c1eb,_0x37c66a),void 0x0!==_0x5d1280&&(_0x51ebc9['viewport']=_0x5d1280),_0x254602['toneMapping']=_0x2327f3;}function _0x49c014(_0x2b64f4,_0x43ad2e,_0x57a721){const _0x167f4a=!0x0===_0x43ad2e['isScene']?_0x43ad2e['overrideMaterial']:null;for(let _0x4d438a=0x0,_0x4bc747=_0x2b64f4['length'];_0x4d438a<_0x4bc747;_0x4d438a++){const _0x1e3d8b=_0x2b64f4[_0x4d438a],_0x33daf6=_0x1e3d8b['object'],_0x344563=_0x1e3d8b['geometry'],_0x556e26=null===_0x167f4a?_0x1e3d8b['material']:_0x167f4a,_0x4301cf=_0x1e3d8b['group'];_0x33daf6['layers']['test'](_0x57a721['layers'])&&_0x51fab6(_0x33daf6,_0x43ad2e,_0x57a721,_0x344563,_0x556e26,_0x4301cf);}}function _0x51fab6(_0x451309,_0xcaff7d,_0x52c8d4,_0x480b85,_0x2aa246,_0x183cc9){_0x451309['onBeforeRender'](_0x254602,_0xcaff7d,_0x52c8d4,_0x480b85,_0x2aa246,_0x183cc9),_0x451309['modelViewMatrix']['multiplyMatrices'](_0x52c8d4['matrixWorldInverse'],_0x451309['matrixWorld']),_0x451309['normalMatrix']['getNormalMatrix'](_0x451309['modelViewMatrix']),_0x2aa246['onBeforeRender'](_0x254602,_0xcaff7d,_0x52c8d4,_0x480b85,_0x451309,_0x183cc9),!0x0===_0x2aa246['transparent']&&_0x2aa246['side']===_0x4e3753['$EB']&&!0x1===_0x2aa246['forceSinglePass']?(_0x2aa246['side']=_0x4e3753['hsX'],_0x2aa246['needsUpdate']=!0x0,_0x254602['renderBufferDirect'](_0x52c8d4,_0xcaff7d,_0x480b85,_0x2aa246,_0x451309,_0x183cc9),_0x2aa246['side']=_0x4e3753['hB5'],_0x2aa246['needsUpdate']=!0x0,_0x254602['renderBufferDirect'](_0x52c8d4,_0xcaff7d,_0x480b85,_0x2aa246,_0x451309,_0x183cc9),_0x2aa246['side']=_0x4e3753['$EB']):_0x254602['renderBufferDirect'](_0x52c8d4,_0xcaff7d,_0x480b85,_0x2aa246,_0x451309,_0x183cc9),_0x451309['onAfterRender'](_0x254602,_0xcaff7d,_0x52c8d4,_0x480b85,_0x2aa246,_0x183cc9);}function _0x8a1ef3(_0x5ba373,_0x201c31,_0x5ab4f5){!0x0!==_0x201c31['isScene']&&(_0x201c31=_0x58233b);const _0x49fe60=_0x5bc241['get'](_0x5ba373),_0x2548c2=_0x278d05['state']['lights'],_0x56918f=_0x278d05['state']['shadowsArray'],_0x3c7732=_0x2548c2['state']['version'],_0x3225e1=_0x2121d6['getParameters'](_0x5ba373,_0x2548c2['state'],_0x56918f,_0x201c31,_0x5ab4f5),_0x20ce47=_0x2121d6['getProgramCacheKey'](_0x3225e1);let _0x5e8526=_0x49fe60['programs'];_0x49fe60['environment']=_0x5ba373['isMeshStandardMaterial']?_0x201c31['environment']:null,_0x49fe60['fog']=_0x201c31['fog'],_0x49fe60['envMap']=(_0x5ba373['isMeshStandardMaterial']?_0x874770:_0x165cad)['get'](_0x5ba373['envMap']||_0x49fe60['environment']),_0x49fe60['envMapRotation']=null!==_0x49fe60['environment']&&null===_0x5ba373['envMap']?_0x201c31['environmentRotation']:_0x5ba373['envMapRotation'],void 0x0===_0x5e8526&&(_0x5ba373['addEventListener']('dispose',_0x2e2549),_0x5e8526=new Map(),_0x49fe60['programs']=_0x5e8526);let _0x5640f2=_0x5e8526['get'](_0x20ce47);if(void 0x0!==_0x5640f2){if(_0x49fe60['currentProgram']===_0x5640f2&&_0x49fe60['lightsStateVersion']===_0x3c7732)return _0x2db4a2(_0x5ba373,_0x3225e1),_0x5640f2;}else _0x3225e1['uniforms']=_0x2121d6['getUniforms'](_0x5ba373),_0x5ba373['onBeforeCompile'](_0x3225e1,_0x254602),_0x5640f2=_0x2121d6['acquireProgram'](_0x3225e1,_0x20ce47),_0x5e8526['set'](_0x20ce47,_0x5640f2),_0x49fe60['uniforms']=_0x3225e1['uniforms'];const _0x2fd714=_0x49fe60['uniforms'];return(_0x5ba373['isShaderMaterial']||_0x5ba373['isRawShaderMaterial'])&&!0x0!==_0x5ba373['clipping']||(_0x2fd714['clippingPlanes']=_0x4518a5['uniform']),_0x2db4a2(_0x5ba373,_0x3225e1),_0x49fe60['needsLights']=function(_0x10a5fe){return _0x10a5fe['isMeshLambertMaterial']||_0x10a5fe['isMeshToonMaterial']||_0x10a5fe['isMeshPhongMaterial']||_0x10a5fe['isMeshStandardMaterial']||_0x10a5fe['isShadowMaterial']||_0x10a5fe['isShaderMaterial']&&!0x0===_0x10a5fe['lights'];}(_0x5ba373),_0x49fe60['lightsStateVersion']=_0x3c7732,_0x49fe60['needsLights']&&(_0x2fd714['ambientLightColor']['value']=_0x2548c2['state']['ambient'],_0x2fd714['lightProbe']['value']=_0x2548c2['state']['probe'],_0x2fd714['directionalLights']['value']=_0x2548c2['state']['directional'],_0x2fd714['directionalLightShadows']['value']=_0x2548c2['state']['directionalShadow'],_0x2fd714['spotLights']['value']=_0x2548c2['state']['spot'],_0x2fd714['spotLightShadows']['value']=_0x2548c2['state']['spotShadow'],_0x2fd714['rectAreaLights']['value']=_0x2548c2['state']['rectArea'],_0x2fd714['ltc_1']['value']=_0x2548c2['state']['rectAreaLTC1'],_0x2fd714['ltc_2']['value']=_0x2548c2['state']['rectAreaLTC2'],_0x2fd714['pointLights']['value']=_0x2548c2['state']['point'],_0x2fd714['pointLightShadows']['value']=_0x2548c2['state']['pointShadow'],_0x2fd714['hemisphereLights']['value']=_0x2548c2['state']['hemi'],_0x2fd714['directionalShadowMap']['value']=_0x2548c2['state']['directionalShadowMap'],_0x2fd714['directionalShadowMatrix']['value']=_0x2548c2['state']['directionalShadowMatrix'],_0x2fd714['spotShadowMap']['value']=_0x2548c2['state']['spotShadowMap'],_0x2fd714['spotLightMatrix']['value']=_0x2548c2['state']['spotLightMatrix'],_0x2fd714['spotLightMap']['value']=_0x2548c2['state']['spotLightMap'],_0x2fd714['pointShadowMap']['value']=_0x2548c2['state']['pointShadowMap'],_0x2fd714['pointShadowMatrix']['value']=_0x2548c2['state']['pointShadowMatrix']),_0x49fe60['currentProgram']=_0x5640f2,_0x49fe60['uniformsList']=null,_0x5640f2;}function _0x7f7db6(_0x978067){if(null===_0x978067['uniformsList']){const _0x4f7740=_0x978067['currentProgram']['getUniforms']();_0x978067['uniformsList']=_0x5b3367['seqWithValue'](_0x4f7740['seq'],_0x978067['uniforms']);}return _0x978067['uniformsList'];}function _0x2db4a2(_0x164767,_0x2f4d2c){const _0x1c015f=_0x5bc241['get'](_0x164767);_0x1c015f['outputColorSpace']=_0x2f4d2c['outputColorSpace'],_0x1c015f['batching']=_0x2f4d2c['batching'],_0x1c015f['batchingColor']=_0x2f4d2c['batchingColor'],_0x1c015f['instancing']=_0x2f4d2c['instancing'],_0x1c015f['instancingColor']=_0x2f4d2c['instancingColor'],_0x1c015f['instancingMorph']=_0x2f4d2c['instancingMorph'],_0x1c015f['skinning']=_0x2f4d2c['skinning'],_0x1c015f['morphTargets']=_0x2f4d2c['morphTargets'],_0x1c015f['morphNormals']=_0x2f4d2c['morphNormals'],_0x1c015f['morphColors']=_0x2f4d2c['morphColors'],_0x1c015f['morphTargetsCount']=_0x2f4d2c['morphTargetsCount'],_0x1c015f['numClippingPlanes']=_0x2f4d2c['numClippingPlanes'],_0x1c015f['numIntersection']=_0x2f4d2c['numClipIntersection'],_0x1c015f['vertexAlphas']=_0x2f4d2c['vertexAlphas'],_0x1c015f['vertexTangents']=_0x2f4d2c['vertexTangents'],_0x1c015f['toneMapping']=_0x2f4d2c['toneMapping'];}_0xbc51b4['setAnimationLoop'](function(_0x252afc){_0x5c3da0&&_0x5c3da0(_0x252afc);}),'undefined'!=typeof self&&_0xbc51b4['setContext'](self),this['setAnimationLoop']=function(_0x583efe){_0x5c3da0=_0x583efe,_0x15e8be['setAnimationLoop'](_0x583efe),null===_0x583efe?_0xbc51b4['stop']():_0xbc51b4['start']();},_0x15e8be['addEventListener']('sessionstart',_0x9ffa8),_0x15e8be['addEventListener']('sessionend',_0xcf1673),this['render']=function(_0x3c6dcd,_0x6ed53d){if(void 0x0!==_0x6ed53d&&!0x0!==_0x6ed53d['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x382dbc)return;if(!0x0===_0x3c6dcd['matrixWorldAutoUpdate']&&_0x3c6dcd['updateMatrixWorld'](),null===_0x6ed53d['parent']&&!0x0===_0x6ed53d['matrixWorldAutoUpdate']&&_0x6ed53d['updateMatrixWorld'](),!0x0===_0x15e8be['enabled']&&!0x0===_0x15e8be['isPresenting']&&(!0x0===_0x15e8be['cameraAutoUpdate']&&_0x15e8be['updateCamera'](_0x6ed53d),_0x6ed53d=_0x15e8be['getCamera']()),!0x0===_0x3c6dcd['isScene']&&_0x3c6dcd['onBeforeRender'](_0x254602,_0x3c6dcd,_0x6ed53d,_0x992fe8),_0x278d05=_0x443bf5['get'](_0x3c6dcd,_0x25e999['length']),_0x278d05['init'](_0x6ed53d),_0x25e999['push'](_0x278d05),_0x2bf593['multiplyMatrices'](_0x6ed53d['projectionMatrix'],_0x6ed53d['matrixWorldInverse']),_0x1e8944['setFromProjectionMatrix'](_0x2bf593),_0x3e06c1=this['localClippingEnabled'],_0x5e4af4=_0x4518a5['init'](this['clippingPlanes'],_0x3e06c1),_0x49e2bc=_0x2d369d['get'](_0x3c6dcd,_0x3f61b6['length']),_0x49e2bc['init'](),_0x3f61b6['push'](_0x49e2bc),!0x0===_0x15e8be['enabled']&&!0x0===_0x15e8be['isPresenting']){const _0x2a184a=_0x254602['xr']['getDepthSensingMesh']();null!==_0x2a184a&&_0x374c2f(_0x2a184a,_0x6ed53d,-0x1/0x0,_0x254602['sortObjects']);}_0x374c2f(_0x3c6dcd,_0x6ed53d,0x0,_0x254602['sortObjects']),_0x49e2bc['finish'](),!0x0===_0x254602['sortObjects']&&_0x49e2bc['sort'](_0x53f709,_0x39a081),_0x358538=!0x1===_0x15e8be['enabled']||!0x1===_0x15e8be['isPresenting']||!0x1===_0x15e8be['hasDepthSensing'](),_0x358538&&_0x5b2705['addToRenderList'](_0x49e2bc,_0x3c6dcd),this['info']['render']['frame']++,!0x0===_0x5e4af4&&_0x4518a5['beginShadows']();const _0x2abfdd=_0x278d05['state']['shadowsArray'];_0x19007b['render'](_0x2abfdd,_0x3c6dcd,_0x6ed53d),!0x0===_0x5e4af4&&_0x4518a5['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x50d3dc=_0x49e2bc['opaque'],_0x25dba8=_0x49e2bc['transmissive'];if(_0x278d05['setupLights'](),_0x6ed53d['isArrayCamera']){const _0xf0c1e3=_0x6ed53d['cameras'];if(_0x25dba8['length']>0x0)for(let _0x19ac39=0x0,_0x160373=_0xf0c1e3['length'];_0x19ac39<_0x160373;_0x19ac39++){_0x336dca(_0x50d3dc,_0x25dba8,_0x3c6dcd,_0xf0c1e3[_0x19ac39]);}_0x358538&&_0x5b2705['render'](_0x3c6dcd);for(let _0x228fde=0x0,_0x34d6b2=_0xf0c1e3['length'];_0x228fde<_0x34d6b2;_0x228fde++){const _0x17311c=_0xf0c1e3[_0x228fde];_0xe4e9f0(_0x49e2bc,_0x3c6dcd,_0x17311c,_0x17311c['viewport']);}}else _0x25dba8['length']>0x0&&_0x336dca(_0x50d3dc,_0x25dba8,_0x3c6dcd,_0x6ed53d),_0x358538&&_0x5b2705['render'](_0x3c6dcd),_0xe4e9f0(_0x49e2bc,_0x3c6dcd,_0x6ed53d);null!==_0x992fe8&&0x0===_0x7b3c08&&(_0x1c34a0['updateMultisampleRenderTarget'](_0x992fe8),_0x1c34a0['updateRenderTargetMipmap'](_0x992fe8)),!0x0===_0x3c6dcd['isScene']&&_0x3c6dcd['onAfterRender'](_0x254602,_0x3c6dcd,_0x6ed53d),_0x967d17['resetDefaultState'](),_0x4cf387=-0x1,_0x50d14e=null,_0x25e999['pop'](),_0x25e999['length']>0x0?(_0x278d05=_0x25e999[_0x25e999['length']-0x1],!0x0===_0x5e4af4&&_0x4518a5['setGlobalState'](_0x254602['clippingPlanes'],_0x278d05['state']['camera'])):_0x278d05=null,_0x3f61b6['pop'](),_0x49e2bc=_0x3f61b6['length']>0x0?_0x3f61b6[_0x3f61b6['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0x45fb37;},this['getActiveMipmapLevel']=function(){return _0x7b3c08;},this['getRenderTarget']=function(){return _0x992fe8;},this['setRenderTargetTextures']=function(_0xc4861f,_0x44f14a,_0x5f4aa9){_0x5bc241['get'](_0xc4861f['texture'])['__webglTexture']=_0x44f14a,_0x5bc241['get'](_0xc4861f['depthTexture'])['__webglTexture']=_0x5f4aa9;const _0x3410d1=_0x5bc241['get'](_0xc4861f);_0x3410d1['__hasExternalTextures']=!0x0,_0x3410d1['__autoAllocateDepthBuffer']=void 0x0===_0x5f4aa9,_0x3410d1['__autoAllocateDepthBuffer']||!0x0===_0xd29eeb['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x3410d1['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x13796e,_0x58e731){const _0x4356ec=_0x5bc241['get'](_0x13796e);_0x4356ec['__webglFramebuffer']=_0x58e731,_0x4356ec['__useDefaultFramebuffer']=void 0x0===_0x58e731;};const _0xc497e1=_0x5e579f['createFramebuffer']();this['setRenderTarget']=function(_0x3c3e37,_0x84291a=0x0,_0x399c07=0x0){_0x992fe8=_0x3c3e37,_0x45fb37=_0x84291a,_0x7b3c08=_0x399c07;let _0x52d579=!0x0,_0x5ddea2=null,_0x4b7b9b=!0x1,_0x281be5=!0x1;if(_0x3c3e37){const _0x4e6fbd=_0x5bc241['get'](_0x3c3e37);if(void 0x0!==_0x4e6fbd['__useDefaultFramebuffer'])_0x5ba50c['bindFramebuffer'](_0x5e579f['FRAMEBUFFER'],null),_0x52d579=!0x1;else{if(void 0x0===_0x4e6fbd['__webglFramebuffer'])_0x1c34a0['setupRenderTarget'](_0x3c3e37);else{if(_0x4e6fbd['__hasExternalTextures'])_0x1c34a0['rebindTextures'](_0x3c3e37,_0x5bc241['get'](_0x3c3e37['texture'])['__webglTexture'],_0x5bc241['get'](_0x3c3e37['depthTexture'])['__webglTexture']);else{if(_0x3c3e37['depthBuffer']){const _0x5e3d57=_0x3c3e37['depthTexture'];if(_0x4e6fbd['__boundDepthTexture']!==_0x5e3d57){if(null!==_0x5e3d57&&_0x5bc241['has'](_0x5e3d57)&&(_0x3c3e37['width']!==_0x5e3d57['image']['width']||_0x3c3e37['height']!==_0x5e3d57['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x1c34a0['setupDepthRenderbuffer'](_0x3c3e37);}}}}}const _0x4ae0d2=_0x3c3e37['texture'];(_0x4ae0d2['isData3DTexture']||_0x4ae0d2['isDataArrayTexture']||_0x4ae0d2['isCompressedArrayTexture'])&&(_0x281be5=!0x0);const _0x1cb7ab=_0x5bc241['get'](_0x3c3e37)['__webglFramebuffer'];_0x3c3e37['isWebGLCubeRenderTarget']?(_0x5ddea2=Array['isArray'](_0x1cb7ab[_0x84291a])?_0x1cb7ab[_0x84291a][_0x399c07]:_0x1cb7ab[_0x84291a],_0x4b7b9b=!0x0):_0x5ddea2=_0x3c3e37['samples']>0x0&&!0x1===_0x1c34a0['useMultisampledRTT'](_0x3c3e37)?_0x5bc241['get'](_0x3c3e37)['__webglMultisampledFramebuffer']:Array['isArray'](_0x1cb7ab)?_0x1cb7ab[_0x399c07]:_0x1cb7ab,_0x4e459b['copy'](_0x3c3e37['viewport']),_0x35e94f['copy'](_0x3c3e37['scissor']),_0x37a781=_0x3c3e37['scissorTest'];}else _0x4e459b['copy'](_0x23a30d)['multiplyScalar'](_0x30bf89)['floor'](),_0x35e94f['copy'](_0x18945b)['multiplyScalar'](_0x30bf89)['floor'](),_0x37a781=_0x183d61;0x0!==_0x399c07&&(_0x5ddea2=_0xc497e1);if(_0x5ba50c['bindFramebuffer'](_0x5e579f['FRAMEBUFFER'],_0x5ddea2)&&_0x52d579&&_0x5ba50c['drawBuffers'](_0x3c3e37,_0x5ddea2),_0x5ba50c['viewport'](_0x4e459b),_0x5ba50c['scissor'](_0x35e94f),_0x5ba50c['setScissorTest'](_0x37a781),_0x4b7b9b){const _0x2f32cf=_0x5bc241['get'](_0x3c3e37['texture']);_0x5e579f['framebufferTexture2D'](_0x5e579f['FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x5e579f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x84291a,_0x2f32cf['__webglTexture'],_0x399c07);}else{if(_0x281be5){const _0x56c70b=_0x5bc241['get'](_0x3c3e37['texture']),_0x37be17=_0x84291a;_0x5e579f['framebufferTextureLayer'](_0x5e579f['FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x56c70b['__webglTexture'],_0x399c07,_0x37be17);}else{if(null!==_0x3c3e37&&0x0!==_0x399c07){const _0xb3ebd1=_0x5bc241['get'](_0x3c3e37['texture']);_0x5e579f['framebufferTexture2D'](_0x5e579f['FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x5e579f['TEXTURE_2D'],_0xb3ebd1['__webglTexture'],_0x399c07);}}}_0x4cf387=-0x1;},this['readRenderTargetPixels']=function(_0x21d433,_0x242721,_0x118117,_0x1244f9,_0x4ad1ed,_0x4b5db6,_0x56a3a4){if(!_0x21d433||!_0x21d433['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x1c7ebd=_0x5bc241['get'](_0x21d433)['__webglFramebuffer'];if(_0x21d433['isWebGLCubeRenderTarget']&&void 0x0!==_0x56a3a4&&(_0x1c7ebd=_0x1c7ebd[_0x56a3a4]),_0x1c7ebd){_0x5ba50c['bindFramebuffer'](_0x5e579f['FRAMEBUFFER'],_0x1c7ebd);try{const _0x2ab3bc=_0x21d433['texture'],_0x553135=_0x2ab3bc['format'],_0x42b8ae=_0x2ab3bc['type'];if(!_0x17d75c['textureFormatReadable'](_0x553135))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x17d75c['textureTypeReadable'](_0x42b8ae))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0x242721>=0x0&&_0x242721<=_0x21d433['width']-_0x1244f9&&_0x118117>=0x0&&_0x118117<=_0x21d433['height']-_0x4ad1ed&&_0x5e579f['readPixels'](_0x242721,_0x118117,_0x1244f9,_0x4ad1ed,_0x2a4177['convert'](_0x553135),_0x2a4177['convert'](_0x42b8ae),_0x4b5db6);}finally{const _0x280dea=null!==_0x992fe8?_0x5bc241['get'](_0x992fe8)['__webglFramebuffer']:null;_0x5ba50c['bindFramebuffer'](_0x5e579f['FRAMEBUFFER'],_0x280dea);}}},this['readRenderTargetPixelsAsync']=async function(_0x17ffd2,_0x27672c,_0x1a052b,_0x17a2a2,_0x4e517c,_0xf43958,_0xc4c3fa){if(!_0x17ffd2||!_0x17ffd2['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x2032a5=_0x5bc241['get'](_0x17ffd2)['__webglFramebuffer'];if(_0x17ffd2['isWebGLCubeRenderTarget']&&void 0x0!==_0xc4c3fa&&(_0x2032a5=_0x2032a5[_0xc4c3fa]),_0x2032a5){const _0x4b59e7=_0x17ffd2['texture'],_0x4e8f6b=_0x4b59e7['format'],_0x45acf0=_0x4b59e7['type'];if(!_0x17d75c['textureFormatReadable'](_0x4e8f6b))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x17d75c['textureTypeReadable'](_0x45acf0))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0x27672c>=0x0&&_0x27672c<=_0x17ffd2['width']-_0x17a2a2&&_0x1a052b>=0x0&&_0x1a052b<=_0x17ffd2['height']-_0x4e517c){_0x5ba50c['bindFramebuffer'](_0x5e579f['FRAMEBUFFER'],_0x2032a5);const _0x57dc9b=_0x5e579f['createBuffer']();_0x5e579f['bindBuffer'](_0x5e579f['PIXEL_PACK_BUFFER'],_0x57dc9b),_0x5e579f['bufferData'](_0x5e579f['PIXEL_PACK_BUFFER'],_0xf43958['byteLength'],_0x5e579f['STREAM_READ']),_0x5e579f['readPixels'](_0x27672c,_0x1a052b,_0x17a2a2,_0x4e517c,_0x2a4177['convert'](_0x4e8f6b),_0x2a4177['convert'](_0x45acf0),0x0);const _0x591f24=null!==_0x992fe8?_0x5bc241['get'](_0x992fe8)['__webglFramebuffer']:null;_0x5ba50c['bindFramebuffer'](_0x5e579f['FRAMEBUFFER'],_0x591f24);const _0x488c8e=_0x5e579f['fenceSync'](_0x5e579f['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x5e579f['flush'](),await(0x0,_0x4e3753['jej'])(_0x5e579f,_0x488c8e,0x4),_0x5e579f['bindBuffer'](_0x5e579f['PIXEL_PACK_BUFFER'],_0x57dc9b),_0x5e579f['getBufferSubData'](_0x5e579f['PIXEL_PACK_BUFFER'],0x0,_0xf43958),_0x5e579f['deleteBuffer'](_0x57dc9b),_0x5e579f['deleteSync'](_0x488c8e),_0xf43958;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x35a464,_0x1d08b0=null,_0x24ddba=0x0){!0x0!==_0x35a464['isTexture']&&((0x0,_0x4e3753['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0x1d08b0=arguments[0x0]||null,_0x35a464=arguments[0x1]);const _0x135e99=Math['pow'](0x2,-_0x24ddba),_0x300fe5=Math['floor'](_0x35a464['image']['width']*_0x135e99),_0x2bc307=Math['floor'](_0x35a464['image']['height']*_0x135e99),_0x3df24b=null!==_0x1d08b0?_0x1d08b0['x']:0x0,_0x446018=null!==_0x1d08b0?_0x1d08b0['y']:0x0;_0x1c34a0['setTexture2D'](_0x35a464,0x0),_0x5e579f['copyTexSubImage2D'](_0x5e579f['TEXTURE_2D'],_0x24ddba,0x0,0x0,_0x3df24b,_0x446018,_0x300fe5,_0x2bc307),_0x5ba50c['unbindTexture']();};const _0x247f1d=_0x5e579f['createFramebuffer'](),_0xe35437=_0x5e579f['createFramebuffer']();this['copyTextureToTexture']=function(_0x3c1c5a,_0x51f340,_0x594d45=null,_0x1a9c7c=null,_0x362c4f=0x0,_0x1fb88f=null){let _0x1e8dba,_0x592dae,_0xb9057e,_0x569797,_0x1eb244,_0x1ac520,_0x51381f,_0x85482e,_0x4b2ef4;!0x0!==_0x3c1c5a['isTexture']&&((0x0,_0x4e3753['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x1a9c7c=arguments[0x0]||null,_0x3c1c5a=arguments[0x1],_0x51f340=arguments[0x2],_0x1fb88f=arguments[0x3]||0x0,_0x594d45=null),null===_0x1fb88f&&(0x0!==_0x362c4f?((0x0,_0x4e3753['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x1fb88f=_0x362c4f,_0x362c4f=0x0):_0x1fb88f=0x0);const _0x5ce187=_0x3c1c5a['isCompressedTexture']?_0x3c1c5a['mipmaps'][_0x1fb88f]:_0x3c1c5a['image'];if(null!==_0x594d45)_0x1e8dba=_0x594d45['max']['x']-_0x594d45['min']['x'],_0x592dae=_0x594d45['max']['y']-_0x594d45['min']['y'],_0xb9057e=_0x594d45['isBox3']?_0x594d45['max']['z']-_0x594d45['min']['z']:0x1,_0x569797=_0x594d45['min']['x'],_0x1eb244=_0x594d45['min']['y'],_0x1ac520=_0x594d45['isBox3']?_0x594d45['min']['z']:0x0;else{const _0x46f3a2=Math['pow'](0x2,-_0x362c4f);_0x1e8dba=Math['floor'](_0x5ce187['width']*_0x46f3a2),_0x592dae=Math['floor'](_0x5ce187['height']*_0x46f3a2),_0xb9057e=_0x3c1c5a['isDataArrayTexture']?_0x5ce187['depth']:_0x3c1c5a['isData3DTexture']?Math['floor'](_0x5ce187['depth']*_0x46f3a2):0x1,_0x569797=0x0,_0x1eb244=0x0,_0x1ac520=0x0;}null!==_0x1a9c7c?(_0x51381f=_0x1a9c7c['x'],_0x85482e=_0x1a9c7c['y'],_0x4b2ef4=_0x1a9c7c['z']):(_0x51381f=0x0,_0x85482e=0x0,_0x4b2ef4=0x0);const _0xd57996=_0x2a4177['convert'](_0x51f340['format']),_0x55828a=_0x2a4177['convert'](_0x51f340['type']);let _0x280bca;_0x51f340['isData3DTexture']?(_0x1c34a0['setTexture3D'](_0x51f340,0x0),_0x280bca=_0x5e579f['TEXTURE_3D']):_0x51f340['isDataArrayTexture']||_0x51f340['isCompressedArrayTexture']?(_0x1c34a0['setTexture2DArray'](_0x51f340,0x0),_0x280bca=_0x5e579f['TEXTURE_2D_ARRAY']):(_0x1c34a0['setTexture2D'](_0x51f340,0x0),_0x280bca=_0x5e579f['TEXTURE_2D']),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_FLIP_Y_WEBGL'],_0x51f340['flipY']),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x51f340['premultiplyAlpha']),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_ALIGNMENT'],_0x51f340['unpackAlignment']);const _0x415dfe=_0x5e579f['getParameter'](_0x5e579f['UNPACK_ROW_LENGTH']),_0x2006fb=_0x5e579f['getParameter'](_0x5e579f['UNPACK_IMAGE_HEIGHT']),_0xa9582b=_0x5e579f['getParameter'](_0x5e579f['UNPACK_SKIP_PIXELS']),_0x302303=_0x5e579f['getParameter'](_0x5e579f['UNPACK_SKIP_ROWS']),_0x15a7d4=_0x5e579f['getParameter'](_0x5e579f['UNPACK_SKIP_IMAGES']);_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_ROW_LENGTH'],_0x5ce187['width']),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_IMAGE_HEIGHT'],_0x5ce187['height']),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_SKIP_PIXELS'],_0x569797),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_SKIP_ROWS'],_0x1eb244),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_SKIP_IMAGES'],_0x1ac520);const _0x1e726f=_0x3c1c5a['isDataArrayTexture']||_0x3c1c5a['isData3DTexture'],_0x10113f=_0x51f340['isDataArrayTexture']||_0x51f340['isData3DTexture'];if(_0x3c1c5a['isDepthTexture']){const _0x21ce5d=_0x5bc241['get'](_0x3c1c5a),_0x54bd49=_0x5bc241['get'](_0x51f340),_0x3f0134=_0x5bc241['get'](_0x21ce5d['__renderTarget']),_0x967cdf=_0x5bc241['get'](_0x54bd49['__renderTarget']);_0x5ba50c['bindFramebuffer'](_0x5e579f['READ_FRAMEBUFFER'],_0x3f0134['__webglFramebuffer']),_0x5ba50c['bindFramebuffer'](_0x5e579f['DRAW_FRAMEBUFFER'],_0x967cdf['__webglFramebuffer']);for(let _0x3f3bbb=0x0;_0x3f3bbb<_0xb9057e;_0x3f3bbb++)_0x1e726f&&(_0x5e579f['framebufferTextureLayer'](_0x5e579f['READ_FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x5bc241['get'](_0x3c1c5a)['__webglTexture'],_0x362c4f,_0x1ac520+_0x3f3bbb),_0x5e579f['framebufferTextureLayer'](_0x5e579f['DRAW_FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x5bc241['get'](_0x51f340)['__webglTexture'],_0x1fb88f,_0x4b2ef4+_0x3f3bbb)),_0x5e579f['blitFramebuffer'](_0x569797,_0x1eb244,_0x1e8dba,_0x592dae,_0x51381f,_0x85482e,_0x1e8dba,_0x592dae,_0x5e579f['DEPTH_BUFFER_BIT'],_0x5e579f['NEAREST']);_0x5ba50c['bindFramebuffer'](_0x5e579f['READ_FRAMEBUFFER'],null),_0x5ba50c['bindFramebuffer'](_0x5e579f['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x362c4f||_0x3c1c5a['isRenderTargetTexture']||_0x5bc241['has'](_0x3c1c5a)){const _0x765ed6=_0x5bc241['get'](_0x3c1c5a),_0x14365c=_0x5bc241['get'](_0x51f340);_0x5ba50c['bindFramebuffer'](_0x5e579f['READ_FRAMEBUFFER'],_0x247f1d),_0x5ba50c['bindFramebuffer'](_0x5e579f['DRAW_FRAMEBUFFER'],_0xe35437);for(let _0x366f15=0x0;_0x366f15<_0xb9057e;_0x366f15++)_0x1e726f?_0x5e579f['framebufferTextureLayer'](_0x5e579f['READ_FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x765ed6['__webglTexture'],_0x362c4f,_0x1ac520+_0x366f15):_0x5e579f['framebufferTexture2D'](_0x5e579f['READ_FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x5e579f['TEXTURE_2D'],_0x765ed6['__webglTexture'],_0x362c4f),_0x10113f?_0x5e579f['framebufferTextureLayer'](_0x5e579f['DRAW_FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x14365c['__webglTexture'],_0x1fb88f,_0x4b2ef4+_0x366f15):_0x5e579f['framebufferTexture2D'](_0x5e579f['DRAW_FRAMEBUFFER'],_0x5e579f['COLOR_ATTACHMENT0'],_0x5e579f['TEXTURE_2D'],_0x14365c['__webglTexture'],_0x1fb88f),0x0!==_0x362c4f?_0x5e579f['blitFramebuffer'](_0x569797,_0x1eb244,_0x1e8dba,_0x592dae,_0x51381f,_0x85482e,_0x1e8dba,_0x592dae,_0x5e579f['COLOR_BUFFER_BIT'],_0x5e579f['NEAREST']):_0x10113f?_0x5e579f['copyTexSubImage3D'](_0x280bca,_0x1fb88f,_0x51381f,_0x85482e,_0x4b2ef4+_0x366f15,_0x569797,_0x1eb244,_0x1e8dba,_0x592dae):_0x5e579f['copyTexSubImage2D'](_0x280bca,_0x1fb88f,_0x51381f,_0x85482e,_0x569797,_0x1eb244,_0x1e8dba,_0x592dae);_0x5ba50c['bindFramebuffer'](_0x5e579f['READ_FRAMEBUFFER'],null),_0x5ba50c['bindFramebuffer'](_0x5e579f['DRAW_FRAMEBUFFER'],null);}else _0x10113f?_0x3c1c5a['isDataTexture']||_0x3c1c5a['isData3DTexture']?_0x5e579f['texSubImage3D'](_0x280bca,_0x1fb88f,_0x51381f,_0x85482e,_0x4b2ef4,_0x1e8dba,_0x592dae,_0xb9057e,_0xd57996,_0x55828a,_0x5ce187['data']):_0x51f340['isCompressedArrayTexture']?_0x5e579f['compressedTexSubImage3D'](_0x280bca,_0x1fb88f,_0x51381f,_0x85482e,_0x4b2ef4,_0x1e8dba,_0x592dae,_0xb9057e,_0xd57996,_0x5ce187['data']):_0x5e579f['texSubImage3D'](_0x280bca,_0x1fb88f,_0x51381f,_0x85482e,_0x4b2ef4,_0x1e8dba,_0x592dae,_0xb9057e,_0xd57996,_0x55828a,_0x5ce187):_0x3c1c5a['isDataTexture']?_0x5e579f['texSubImage2D'](_0x5e579f['TEXTURE_2D'],_0x1fb88f,_0x51381f,_0x85482e,_0x1e8dba,_0x592dae,_0xd57996,_0x55828a,_0x5ce187['data']):_0x3c1c5a['isCompressedTexture']?_0x5e579f['compressedTexSubImage2D'](_0x5e579f['TEXTURE_2D'],_0x1fb88f,_0x51381f,_0x85482e,_0x5ce187['width'],_0x5ce187['height'],_0xd57996,_0x5ce187['data']):_0x5e579f['texSubImage2D'](_0x5e579f['TEXTURE_2D'],_0x1fb88f,_0x51381f,_0x85482e,_0x1e8dba,_0x592dae,_0xd57996,_0x55828a,_0x5ce187);}_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_ROW_LENGTH'],_0x415dfe),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_IMAGE_HEIGHT'],_0x2006fb),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_SKIP_PIXELS'],_0xa9582b),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_SKIP_ROWS'],_0x302303),_0x5e579f['pixelStorei'](_0x5e579f['UNPACK_SKIP_IMAGES'],_0x15a7d4),0x0===_0x1fb88f&&_0x51f340['generateMipmaps']&&_0x5e579f['generateMipmap'](_0x280bca),_0x5ba50c['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x3ed205,_0x423f6a,_0xf2ead2=null,_0x1ad240=null,_0x42a550=0x0){return!0x0!==_0x3ed205['isTexture']&&((0x0,_0x4e3753['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0xf2ead2=arguments[0x0]||null,_0x1ad240=arguments[0x1]||null,_0x3ed205=arguments[0x2],_0x423f6a=arguments[0x3],_0x42a550=arguments[0x4]||0x0),(0x0,_0x4e3753['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x3ed205,_0x423f6a,_0xf2ead2,_0x1ad240,_0x42a550);},this['initRenderTarget']=function(_0x53a3e5){void 0x0===_0x5bc241['get'](_0x53a3e5)['__webglFramebuffer']&&_0x1c34a0['setupRenderTarget'](_0x53a3e5);},this['initTexture']=function(_0x2ac45e){_0x2ac45e['isCubeTexture']?_0x1c34a0['setTextureCube'](_0x2ac45e,0x0):_0x2ac45e['isData3DTexture']?_0x1c34a0['setTexture3D'](_0x2ac45e,0x0):_0x2ac45e['isDataArrayTexture']||_0x2ac45e['isCompressedArrayTexture']?_0x1c34a0['setTexture2DArray'](_0x2ac45e,0x0):_0x1c34a0['setTexture2D'](_0x2ac45e,0x0),_0x5ba50c['unbindTexture']();},this['resetState']=function(){_0x45fb37=0x0,_0x7b3c08=0x0,_0x992fe8=null,_0x5ba50c['reset'](),_0x967d17['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0x4e3753['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0xbbf9d9){this['_outputColorSpace']=_0xbbf9d9;const _0x51d14e=this['getContext']();_0x51d14e['drawingBufferColorspace']=_0x4e3753['ppV']['_getDrawingBufferColorSpace'](_0xbbf9d9),_0x51d14e['unpackColorSpace']=_0x4e3753['ppV']['_getUnpackColorSpace']();}}}}]);
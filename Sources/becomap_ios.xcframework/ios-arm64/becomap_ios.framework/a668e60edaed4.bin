'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x16fefc,_0x22f500,_0x1bb401)=>{_0x1bb401['d'](_0x22f500,{'JeP':()=>_0x5131ef,'vxI':()=>_0x1a7ea4});var _0x207dba=_0x1bb401(0x133a);function _0x56597a(){let _0x4fd7dd=null,_0x2c4266=!0x1,_0x330fcb=null,_0x2c31c9=null;function _0x58a0b3(_0x4c5d3a,_0x353313){_0x330fcb(_0x4c5d3a,_0x353313),_0x2c31c9=_0x4fd7dd['requestAnimationFrame'](_0x58a0b3);}return{'start':function(){!0x0!==_0x2c4266&&null!==_0x330fcb&&(_0x2c31c9=_0x4fd7dd['requestAnimationFrame'](_0x58a0b3),_0x2c4266=!0x0);},'stop':function(){_0x4fd7dd['cancelAnimationFrame'](_0x2c31c9),_0x2c4266=!0x1;},'setAnimationLoop':function(_0x49ffdb){_0x330fcb=_0x49ffdb;},'setContext':function(_0x29283b){_0x4fd7dd=_0x29283b;}};}function _0x1f9ab7(_0x15b23d){const _0x370e52=new WeakMap();return{'get':function(_0x3ace81){return _0x3ace81['isInterleavedBufferAttribute']&&(_0x3ace81=_0x3ace81['data']),_0x370e52['get'](_0x3ace81);},'remove':function(_0x2fd42c){_0x2fd42c['isInterleavedBufferAttribute']&&(_0x2fd42c=_0x2fd42c['data']);const _0x40be04=_0x370e52['get'](_0x2fd42c);_0x40be04&&(_0x15b23d['deleteBuffer'](_0x40be04['buffer']),_0x370e52['delete'](_0x2fd42c));},'update':function(_0x4f50ae,_0xcf4011){if(_0x4f50ae['isInterleavedBufferAttribute']&&(_0x4f50ae=_0x4f50ae['data']),_0x4f50ae['isGLBufferAttribute']){const _0x42ff71=_0x370e52['get'](_0x4f50ae);return void((!_0x42ff71||_0x42ff71['version']<_0x4f50ae['version'])&&_0x370e52['set'](_0x4f50ae,{'buffer':_0x4f50ae['buffer'],'type':_0x4f50ae['type'],'bytesPerElement':_0x4f50ae['elementSize'],'version':_0x4f50ae['version']}));}const _0x170a37=_0x370e52['get'](_0x4f50ae);if(void 0x0===_0x170a37)_0x370e52['set'](_0x4f50ae,function(_0xa19a4d,_0x1d1174){const _0x2f3bd6=_0xa19a4d['array'],_0x200cdf=_0xa19a4d['usage'],_0xff8e59=_0x2f3bd6['byteLength'],_0xa7b1bf=_0x15b23d['createBuffer']();let _0xfab255;if(_0x15b23d['bindBuffer'](_0x1d1174,_0xa7b1bf),_0x15b23d['bufferData'](_0x1d1174,_0x2f3bd6,_0x200cdf),_0xa19a4d['onUploadCallback'](),_0x2f3bd6 instanceof Float32Array)_0xfab255=_0x15b23d['FLOAT'];else{if(_0x2f3bd6 instanceof Uint16Array)_0xfab255=_0xa19a4d['isFloat16BufferAttribute']?_0x15b23d['HALF_FLOAT']:_0x15b23d['UNSIGNED_SHORT'];else{if(_0x2f3bd6 instanceof Int16Array)_0xfab255=_0x15b23d['SHORT'];else{if(_0x2f3bd6 instanceof Uint32Array)_0xfab255=_0x15b23d['UNSIGNED_INT'];else{if(_0x2f3bd6 instanceof Int32Array)_0xfab255=_0x15b23d['INT'];else{if(_0x2f3bd6 instanceof Int8Array)_0xfab255=_0x15b23d['BYTE'];else{if(_0x2f3bd6 instanceof Uint8Array)_0xfab255=_0x15b23d['UNSIGNED_BYTE'];else{if(!(_0x2f3bd6 instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0x2f3bd6);_0xfab255=_0x15b23d['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0xa7b1bf,'type':_0xfab255,'bytesPerElement':_0x2f3bd6['BYTES_PER_ELEMENT'],'version':_0xa19a4d['version'],'size':_0xff8e59};}(_0x4f50ae,_0xcf4011));else{if(_0x170a37['version']<_0x4f50ae['version']){if(_0x170a37['size']!==_0x4f50ae['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0x361691,_0x4c0196,_0x5e095c){const _0x756037=_0x4c0196['array'],_0x231ea1=_0x4c0196['updateRanges'];if(_0x15b23d['bindBuffer'](_0x5e095c,_0x361691),0x0===_0x231ea1['length'])_0x15b23d['bufferSubData'](_0x5e095c,0x0,_0x756037);else{_0x231ea1['sort']((_0x5c6976,_0x3e8c13)=>_0x5c6976['start']-_0x3e8c13['start']);let _0x1b4063=0x0;for(let _0x5dfac4=0x1;_0x5dfac4<_0x231ea1['length'];_0x5dfac4++){const _0xa3c26a=_0x231ea1[_0x1b4063],_0x52cf0f=_0x231ea1[_0x5dfac4];_0x52cf0f['start']<=_0xa3c26a['start']+_0xa3c26a['count']+0x1?_0xa3c26a['count']=Math['max'](_0xa3c26a['count'],_0x52cf0f['start']+_0x52cf0f['count']-_0xa3c26a['start']):(++_0x1b4063,_0x231ea1[_0x1b4063]=_0x52cf0f);}_0x231ea1['length']=_0x1b4063+0x1;for(let _0x2ba686=0x0,_0x5191e9=_0x231ea1['length'];_0x2ba686<_0x5191e9;_0x2ba686++){const _0x323ab7=_0x231ea1[_0x2ba686];_0x15b23d['bufferSubData'](_0x5e095c,_0x323ab7['start']*_0x756037['BYTES_PER_ELEMENT'],_0x756037,_0x323ab7['start'],_0x323ab7['count']);}_0x4c0196['clearUpdateRanges']();}_0x4c0196['onUploadCallback']();}(_0x170a37['buffer'],_0x4f50ae,_0xcf4011),_0x170a37['version']=_0x4f50ae['version'];}}}};}const _0x1a7ea4={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x29ec87={'common':{'diffuse':{'value':new _0x207dba['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0x207dba['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x207dba['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0x207dba['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0x207dba['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0x207dba['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0x207dba['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0x207dba['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0x207dba['dwI']()},'normalScale':{'value':new _0x207dba['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0x207dba['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0x207dba['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0x207dba['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0x207dba['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0x207dba['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0x207dba['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x207dba['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0x207dba['dwI']()}},'sprite':{'diffuse':{'value':new _0x207dba['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0x207dba['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0x207dba['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x207dba['dwI']()},'alphaTest':{'value':0x0}}},_0x417429={'basic':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['specularmap'],_0x29ec87['envmap'],_0x29ec87['aomap'],_0x29ec87['lightmap'],_0x29ec87['fog']]),'vertexShader':_0x1a7ea4['meshbasic_vert'],'fragmentShader':_0x1a7ea4['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['specularmap'],_0x29ec87['envmap'],_0x29ec87['aomap'],_0x29ec87['lightmap'],_0x29ec87['emissivemap'],_0x29ec87['bumpmap'],_0x29ec87['normalmap'],_0x29ec87['displacementmap'],_0x29ec87['fog'],_0x29ec87['lights'],{'emissive':{'value':new _0x207dba['Q1f'](0x0)}}]),'vertexShader':_0x1a7ea4['meshlambert_vert'],'fragmentShader':_0x1a7ea4['meshlambert_frag']},'phong':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['specularmap'],_0x29ec87['envmap'],_0x29ec87['aomap'],_0x29ec87['lightmap'],_0x29ec87['emissivemap'],_0x29ec87['bumpmap'],_0x29ec87['normalmap'],_0x29ec87['displacementmap'],_0x29ec87['fog'],_0x29ec87['lights'],{'emissive':{'value':new _0x207dba['Q1f'](0x0)},'specular':{'value':new _0x207dba['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x1a7ea4['meshphong_vert'],'fragmentShader':_0x1a7ea4['meshphong_frag']},'standard':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['envmap'],_0x29ec87['aomap'],_0x29ec87['lightmap'],_0x29ec87['emissivemap'],_0x29ec87['bumpmap'],_0x29ec87['normalmap'],_0x29ec87['displacementmap'],_0x29ec87['roughnessmap'],_0x29ec87['metalnessmap'],_0x29ec87['fog'],_0x29ec87['lights'],{'emissive':{'value':new _0x207dba['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x1a7ea4['meshphysical_vert'],'fragmentShader':_0x1a7ea4['meshphysical_frag']},'toon':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['aomap'],_0x29ec87['lightmap'],_0x29ec87['emissivemap'],_0x29ec87['bumpmap'],_0x29ec87['normalmap'],_0x29ec87['displacementmap'],_0x29ec87['gradientmap'],_0x29ec87['fog'],_0x29ec87['lights'],{'emissive':{'value':new _0x207dba['Q1f'](0x0)}}]),'vertexShader':_0x1a7ea4['meshtoon_vert'],'fragmentShader':_0x1a7ea4['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['bumpmap'],_0x29ec87['normalmap'],_0x29ec87['displacementmap'],_0x29ec87['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x1a7ea4['meshmatcap_vert'],'fragmentShader':_0x1a7ea4['meshmatcap_frag']},'points':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['points'],_0x29ec87['fog']]),'vertexShader':_0x1a7ea4['points_vert'],'fragmentShader':_0x1a7ea4['points_frag']},'dashed':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x1a7ea4['linedashed_vert'],'fragmentShader':_0x1a7ea4['linedashed_frag']},'depth':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['displacementmap']]),'vertexShader':_0x1a7ea4['depth_vert'],'fragmentShader':_0x1a7ea4['depth_frag']},'normal':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['bumpmap'],_0x29ec87['normalmap'],_0x29ec87['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x1a7ea4['meshnormal_vert'],'fragmentShader':_0x1a7ea4['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['sprite'],_0x29ec87['fog']]),'vertexShader':_0x1a7ea4['sprite_vert'],'fragmentShader':_0x1a7ea4['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0x207dba['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x1a7ea4['background_vert'],'fragmentShader':_0x1a7ea4['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0x207dba['dwI']()}},'vertexShader':_0x1a7ea4['backgroundCube_vert'],'fragmentShader':_0x1a7ea4['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x1a7ea4['cube_vert'],'fragmentShader':_0x1a7ea4['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x1a7ea4['equirect_vert'],'fragmentShader':_0x1a7ea4['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['common'],_0x29ec87['displacementmap'],{'referencePosition':{'value':new _0x207dba['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x1a7ea4['distanceRGBA_vert'],'fragmentShader':_0x1a7ea4['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0x207dba['Iit'])([_0x29ec87['lights'],_0x29ec87['fog'],{'color':{'value':new _0x207dba['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x1a7ea4['shadow_vert'],'fragmentShader':_0x1a7ea4['shadow_frag']}};_0x417429['physical']={'uniforms':(0x0,_0x207dba['Iit'])([_0x417429['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0x207dba['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0x207dba['dwI']()},'clearcoatNormalScale':{'value':new _0x207dba['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0x207dba['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0x207dba['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0x207dba['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0x207dba['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0x207dba['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0x207dba['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0x207dba['dwI']()},'transmissionSamplerSize':{'value':new _0x207dba['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0x207dba['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0x207dba['Q1f'](0x0)},'specularColor':{'value':new _0x207dba['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0x207dba['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0x207dba['dwI']()},'anisotropyVector':{'value':new _0x207dba['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0x207dba['dwI']()}}]),'vertexShader':_0x1a7ea4['meshphysical_vert'],'fragmentShader':_0x1a7ea4['meshphysical_frag']};const _0x255464={'r':0x0,'b':0x0,'g':0x0},_0x3ca208=new _0x207dba['O9p'](),_0x5683ea=new _0x207dba['kn4']();function _0x52ef8e(_0x3344c5,_0x33b71f,_0x2806dc,_0x53b848,_0x305309,_0x32377f,_0x47a8f1){const _0xc667ad=new _0x207dba['Q1f'](0x0);let _0x4c2886,_0x2c9a67,_0x54d6e4=!0x0===_0x32377f?0x0:0x1,_0x2d92f5=null,_0x416a8f=0x0,_0x138b5c=null;function _0x305fa8(_0x2a9532){let _0x4f12ce=!0x0===_0x2a9532['isScene']?_0x2a9532['background']:null;return _0x4f12ce&&_0x4f12ce['isTexture']&&(_0x4f12ce=(_0x2a9532['backgroundBlurriness']>0x0?_0x2806dc:_0x33b71f)['get'](_0x4f12ce)),_0x4f12ce;}function _0x20dd3c(_0xf739fc,_0x4e3eb5){_0xf739fc['getRGB'](_0x255464,(0x0,_0x207dba['_Ut'])(_0x3344c5)),_0x53b848['buffers']['color']['setClear'](_0x255464['r'],_0x255464['g'],_0x255464['b'],_0x4e3eb5,_0x47a8f1);}return{'getClearColor':function(){return _0xc667ad;},'setClearColor':function(_0x5ac29e,_0x3a49c8=0x1){_0xc667ad['set'](_0x5ac29e),_0x54d6e4=_0x3a49c8,_0x20dd3c(_0xc667ad,_0x54d6e4);},'getClearAlpha':function(){return _0x54d6e4;},'setClearAlpha':function(_0x96da0c){_0x54d6e4=_0x96da0c,_0x20dd3c(_0xc667ad,_0x54d6e4);},'render':function(_0x30a9cd){let _0x34e55d=!0x1;const _0x194ea0=_0x305fa8(_0x30a9cd);null===_0x194ea0?_0x20dd3c(_0xc667ad,_0x54d6e4):_0x194ea0&&_0x194ea0['isColor']&&(_0x20dd3c(_0x194ea0,0x1),_0x34e55d=!0x0);const _0x33154d=_0x3344c5['xr']['getEnvironmentBlendMode']();'additive'===_0x33154d?_0x53b848['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0x47a8f1):'alpha-blend'===_0x33154d&&_0x53b848['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0x47a8f1),(_0x3344c5['autoClear']||_0x34e55d)&&(_0x53b848['buffers']['depth']['setTest'](!0x0),_0x53b848['buffers']['depth']['setMask'](!0x0),_0x53b848['buffers']['color']['setMask'](!0x0),_0x3344c5['clear'](_0x3344c5['autoClearColor'],_0x3344c5['autoClearDepth'],_0x3344c5['autoClearStencil']));},'addToRenderList':function(_0x5450ab,_0x1901b6){const _0xc246e4=_0x305fa8(_0x1901b6);_0xc246e4&&(_0xc246e4['isCubeTexture']||_0xc246e4['mapping']===_0x207dba['Om'])?(void 0x0===_0x2c9a67&&(_0x2c9a67=new _0x207dba['eaF'](new _0x207dba['iNn'](0x1,0x1,0x1),new _0x207dba['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0x207dba['lxW'])(_0x417429['backgroundCube']['uniforms']),'vertexShader':_0x417429['backgroundCube']['vertexShader'],'fragmentShader':_0x417429['backgroundCube']['fragmentShader'],'side':_0x207dba['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x2c9a67['geometry']['deleteAttribute']('normal'),_0x2c9a67['geometry']['deleteAttribute']('uv'),_0x2c9a67['onBeforeRender']=function(_0x17150b,_0x18769f,_0x14e62a){this['matrixWorld']['copyPosition'](_0x14e62a['matrixWorld']);},Object['defineProperty'](_0x2c9a67['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x305309['update'](_0x2c9a67)),_0x3ca208['copy'](_0x1901b6['backgroundRotation']),_0x3ca208['x']*=-0x1,_0x3ca208['y']*=-0x1,_0x3ca208['z']*=-0x1,_0xc246e4['isCubeTexture']&&!0x1===_0xc246e4['isRenderTargetTexture']&&(_0x3ca208['y']*=-0x1,_0x3ca208['z']*=-0x1),_0x2c9a67['material']['uniforms']['envMap']['value']=_0xc246e4,_0x2c9a67['material']['uniforms']['flipEnvMap']['value']=_0xc246e4['isCubeTexture']&&!0x1===_0xc246e4['isRenderTargetTexture']?-0x1:0x1,_0x2c9a67['material']['uniforms']['backgroundBlurriness']['value']=_0x1901b6['backgroundBlurriness'],_0x2c9a67['material']['uniforms']['backgroundIntensity']['value']=_0x1901b6['backgroundIntensity'],_0x2c9a67['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x5683ea['makeRotationFromEuler'](_0x3ca208)),_0x2c9a67['material']['toneMapped']=_0x207dba['ppV']['getTransfer'](_0xc246e4['colorSpace'])!==_0x207dba['KLL'],_0x2d92f5===_0xc246e4&&_0x416a8f===_0xc246e4['version']&&_0x138b5c===_0x3344c5['toneMapping']||(_0x2c9a67['material']['needsUpdate']=!0x0,_0x2d92f5=_0xc246e4,_0x416a8f=_0xc246e4['version'],_0x138b5c=_0x3344c5['toneMapping']),_0x2c9a67['layers']['enableAll'](),_0x5450ab['unshift'](_0x2c9a67,_0x2c9a67['geometry'],_0x2c9a67['material'],0x0,0x0,null)):_0xc246e4&&_0xc246e4['isTexture']&&(void 0x0===_0x4c2886&&(_0x4c2886=new _0x207dba['eaF'](new _0x207dba['bdM'](0x2,0x2),new _0x207dba['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0x207dba['lxW'])(_0x417429['background']['uniforms']),'vertexShader':_0x417429['background']['vertexShader'],'fragmentShader':_0x417429['background']['fragmentShader'],'side':_0x207dba['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x4c2886['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x4c2886['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x305309['update'](_0x4c2886)),_0x4c2886['material']['uniforms']['t2D']['value']=_0xc246e4,_0x4c2886['material']['uniforms']['backgroundIntensity']['value']=_0x1901b6['backgroundIntensity'],_0x4c2886['material']['toneMapped']=_0x207dba['ppV']['getTransfer'](_0xc246e4['colorSpace'])!==_0x207dba['KLL'],!0x0===_0xc246e4['matrixAutoUpdate']&&_0xc246e4['updateMatrix'](),_0x4c2886['material']['uniforms']['uvTransform']['value']['copy'](_0xc246e4['matrix']),_0x2d92f5===_0xc246e4&&_0x416a8f===_0xc246e4['version']&&_0x138b5c===_0x3344c5['toneMapping']||(_0x4c2886['material']['needsUpdate']=!0x0,_0x2d92f5=_0xc246e4,_0x416a8f=_0xc246e4['version'],_0x138b5c=_0x3344c5['toneMapping']),_0x4c2886['layers']['enableAll'](),_0x5450ab['unshift'](_0x4c2886,_0x4c2886['geometry'],_0x4c2886['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0x2c9a67&&(_0x2c9a67['geometry']['dispose'](),_0x2c9a67['material']['dispose']()),void 0x0!==_0x4c2886&&(_0x4c2886['geometry']['dispose'](),_0x4c2886['material']['dispose']());}};}function _0x21a426(_0x41ab67,_0x29bff8){const _0x5742c8=_0x41ab67['getParameter'](_0x41ab67['MAX_VERTEX_ATTRIBS']),_0x241e25={},_0x3aa093=_0x31c53e(null);let _0xce2877=_0x3aa093,_0x1c4a14=!0x1;function _0x3ba1e5(_0x125dc2){return _0x41ab67['bindVertexArray'](_0x125dc2);}function _0x363e94(_0x484b7b){return _0x41ab67['deleteVertexArray'](_0x484b7b);}function _0x31c53e(_0x29d3d5){const _0x111d36=[],_0x34bfdb=[],_0x560ffd=[];for(let _0x597826=0x0;_0x597826<_0x5742c8;_0x597826++)_0x111d36[_0x597826]=0x0,_0x34bfdb[_0x597826]=0x0,_0x560ffd[_0x597826]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0x111d36,'enabledAttributes':_0x34bfdb,'attributeDivisors':_0x560ffd,'object':_0x29d3d5,'attributes':{},'index':null};}function _0x3ac385(){const _0x415c99=_0xce2877['newAttributes'];for(let _0x43101a=0x0,_0x5970cb=_0x415c99['length'];_0x43101a<_0x5970cb;_0x43101a++)_0x415c99[_0x43101a]=0x0;}function _0x23ff7d(_0x28922b){_0x16e327(_0x28922b,0x0);}function _0x16e327(_0x1539ca,_0x2734b7){const _0x4e87bf=_0xce2877['newAttributes'],_0x2e88f6=_0xce2877['enabledAttributes'],_0x126756=_0xce2877['attributeDivisors'];_0x4e87bf[_0x1539ca]=0x1,0x0===_0x2e88f6[_0x1539ca]&&(_0x41ab67['enableVertexAttribArray'](_0x1539ca),_0x2e88f6[_0x1539ca]=0x1),_0x126756[_0x1539ca]!==_0x2734b7&&(_0x41ab67['vertexAttribDivisor'](_0x1539ca,_0x2734b7),_0x126756[_0x1539ca]=_0x2734b7);}function _0x55a2ae(){const _0x4e3d05=_0xce2877['newAttributes'],_0x15102d=_0xce2877['enabledAttributes'];for(let _0xeea383=0x0,_0x5be0d8=_0x15102d['length'];_0xeea383<_0x5be0d8;_0xeea383++)_0x15102d[_0xeea383]!==_0x4e3d05[_0xeea383]&&(_0x41ab67['disableVertexAttribArray'](_0xeea383),_0x15102d[_0xeea383]=0x0);}function _0x27eb90(_0x3732dc,_0x2ab947,_0x10095e,_0xfdc843,_0x149248,_0x531cc5,_0x2507bb){!0x0===_0x2507bb?_0x41ab67['vertexAttribIPointer'](_0x3732dc,_0x2ab947,_0x10095e,_0x149248,_0x531cc5):_0x41ab67['vertexAttribPointer'](_0x3732dc,_0x2ab947,_0x10095e,_0xfdc843,_0x149248,_0x531cc5);}function _0x52df85(){_0x233236(),_0x1c4a14=!0x0,_0xce2877!==_0x3aa093&&(_0xce2877=_0x3aa093,_0x3ba1e5(_0xce2877['object']));}function _0x233236(){_0x3aa093['geometry']=null,_0x3aa093['program']=null,_0x3aa093['wireframe']=!0x1;}return{'setup':function(_0x3c6e47,_0xef0987,_0x2ec7ee,_0x165ba6,_0x1a88b1){let _0x33ffe9=!0x1;const _0x369626=function(_0x3ad8c0,_0x3719ca,_0x1d60af){const _0xf7d05=!0x0===_0x1d60af['wireframe'];let _0x2d33f8=_0x241e25[_0x3ad8c0['id']];void 0x0===_0x2d33f8&&(_0x2d33f8={},_0x241e25[_0x3ad8c0['id']]=_0x2d33f8);let _0x12cbff=_0x2d33f8[_0x3719ca['id']];void 0x0===_0x12cbff&&(_0x12cbff={},_0x2d33f8[_0x3719ca['id']]=_0x12cbff);let _0x5901ba=_0x12cbff[_0xf7d05];return void 0x0===_0x5901ba&&(_0x5901ba=_0x31c53e(_0x41ab67['createVertexArray']()),_0x12cbff[_0xf7d05]=_0x5901ba),_0x5901ba;}(_0x165ba6,_0x2ec7ee,_0xef0987);_0xce2877!==_0x369626&&(_0xce2877=_0x369626,_0x3ba1e5(_0xce2877['object'])),_0x33ffe9=function(_0x2e1cd9,_0x3c9a21,_0x16503e,_0x215f2f){const _0x4a683b=_0xce2877['attributes'],_0x339be1=_0x3c9a21['attributes'];let _0x364653=0x0;const _0x19c125=_0x16503e['getAttributes']();for(const _0x295472 in _0x19c125){if(_0x19c125[_0x295472]['location']>=0x0){const _0x4242de=_0x4a683b[_0x295472];let _0x62cf6a=_0x339be1[_0x295472];if(void 0x0===_0x62cf6a&&('instanceMatrix'===_0x295472&&_0x2e1cd9['instanceMatrix']&&(_0x62cf6a=_0x2e1cd9['instanceMatrix']),'instanceColor'===_0x295472&&_0x2e1cd9['instanceColor']&&(_0x62cf6a=_0x2e1cd9['instanceColor'])),void 0x0===_0x4242de)return!0x0;if(_0x4242de['attribute']!==_0x62cf6a)return!0x0;if(_0x62cf6a&&_0x4242de['data']!==_0x62cf6a['data'])return!0x0;_0x364653++;}}return _0xce2877['attributesNum']!==_0x364653||_0xce2877['index']!==_0x215f2f;}(_0x3c6e47,_0x165ba6,_0x2ec7ee,_0x1a88b1),_0x33ffe9&&function(_0x143b16,_0x4a4e99,_0x2e1f5f,_0x377040){const _0x14a67c={},_0x653a2c=_0x4a4e99['attributes'];let _0x551cda=0x0;const _0x219b18=_0x2e1f5f['getAttributes']();for(const _0x51c90b in _0x219b18){if(_0x219b18[_0x51c90b]['location']>=0x0){let _0x2028bf=_0x653a2c[_0x51c90b];void 0x0===_0x2028bf&&('instanceMatrix'===_0x51c90b&&_0x143b16['instanceMatrix']&&(_0x2028bf=_0x143b16['instanceMatrix']),'instanceColor'===_0x51c90b&&_0x143b16['instanceColor']&&(_0x2028bf=_0x143b16['instanceColor']));const _0xde07bb={};_0xde07bb['attribute']=_0x2028bf,_0x2028bf&&_0x2028bf['data']&&(_0xde07bb['data']=_0x2028bf['data']),_0x14a67c[_0x51c90b]=_0xde07bb,_0x551cda++;}}_0xce2877['attributes']=_0x14a67c,_0xce2877['attributesNum']=_0x551cda,_0xce2877['index']=_0x377040;}(_0x3c6e47,_0x165ba6,_0x2ec7ee,_0x1a88b1),null!==_0x1a88b1&&_0x29bff8['update'](_0x1a88b1,_0x41ab67['ELEMENT_ARRAY_BUFFER']),(_0x33ffe9||_0x1c4a14)&&(_0x1c4a14=!0x1,function(_0x4ab2d9,_0x33fb71,_0x11f723,_0xbb7237){_0x3ac385();const _0x5db93b=_0xbb7237['attributes'],_0x4944e1=_0x11f723['getAttributes'](),_0x261511=_0x33fb71['defaultAttributeValues'];for(const _0x23f518 in _0x4944e1){const _0x39ab15=_0x4944e1[_0x23f518];if(_0x39ab15['location']>=0x0){let _0x270a92=_0x5db93b[_0x23f518];if(void 0x0===_0x270a92&&('instanceMatrix'===_0x23f518&&_0x4ab2d9['instanceMatrix']&&(_0x270a92=_0x4ab2d9['instanceMatrix']),'instanceColor'===_0x23f518&&_0x4ab2d9['instanceColor']&&(_0x270a92=_0x4ab2d9['instanceColor'])),void 0x0!==_0x270a92){const _0x53f2bb=_0x270a92['normalized'],_0x2bcfd8=_0x270a92['itemSize'],_0x521cd3=_0x29bff8['get'](_0x270a92);if(void 0x0===_0x521cd3)continue;const _0x55aa33=_0x521cd3['buffer'],_0x1796bf=_0x521cd3['type'],_0x5c1895=_0x521cd3['bytesPerElement'],_0x2035d0=_0x1796bf===_0x41ab67['INT']||_0x1796bf===_0x41ab67['UNSIGNED_INT']||_0x270a92['gpuType']===_0x207dba['Yuy'];if(_0x270a92['isInterleavedBufferAttribute']){const _0x41b53c=_0x270a92['data'],_0xb31238=_0x41b53c['stride'],_0xb05aa6=_0x270a92['offset'];if(_0x41b53c['isInstancedInterleavedBuffer']){for(let _0x39fd8d=0x0;_0x39fd8d<_0x39ab15['locationSize'];_0x39fd8d++)_0x16e327(_0x39ab15['location']+_0x39fd8d,_0x41b53c['meshPerAttribute']);!0x0!==_0x4ab2d9['isInstancedMesh']&&void 0x0===_0xbb7237['_maxInstanceCount']&&(_0xbb7237['_maxInstanceCount']=_0x41b53c['meshPerAttribute']*_0x41b53c['count']);}else{for(let _0x4cf6b8=0x0;_0x4cf6b8<_0x39ab15['locationSize'];_0x4cf6b8++)_0x23ff7d(_0x39ab15['location']+_0x4cf6b8);}_0x41ab67['bindBuffer'](_0x41ab67['ARRAY_BUFFER'],_0x55aa33);for(let _0x1fde3b=0x0;_0x1fde3b<_0x39ab15['locationSize'];_0x1fde3b++)_0x27eb90(_0x39ab15['location']+_0x1fde3b,_0x2bcfd8/_0x39ab15['locationSize'],_0x1796bf,_0x53f2bb,_0xb31238*_0x5c1895,(_0xb05aa6+_0x2bcfd8/_0x39ab15['locationSize']*_0x1fde3b)*_0x5c1895,_0x2035d0);}else{if(_0x270a92['isInstancedBufferAttribute']){for(let _0xa20870=0x0;_0xa20870<_0x39ab15['locationSize'];_0xa20870++)_0x16e327(_0x39ab15['location']+_0xa20870,_0x270a92['meshPerAttribute']);!0x0!==_0x4ab2d9['isInstancedMesh']&&void 0x0===_0xbb7237['_maxInstanceCount']&&(_0xbb7237['_maxInstanceCount']=_0x270a92['meshPerAttribute']*_0x270a92['count']);}else{for(let _0xd81ceb=0x0;_0xd81ceb<_0x39ab15['locationSize'];_0xd81ceb++)_0x23ff7d(_0x39ab15['location']+_0xd81ceb);}_0x41ab67['bindBuffer'](_0x41ab67['ARRAY_BUFFER'],_0x55aa33);for(let _0x383b6a=0x0;_0x383b6a<_0x39ab15['locationSize'];_0x383b6a++)_0x27eb90(_0x39ab15['location']+_0x383b6a,_0x2bcfd8/_0x39ab15['locationSize'],_0x1796bf,_0x53f2bb,_0x2bcfd8*_0x5c1895,_0x2bcfd8/_0x39ab15['locationSize']*_0x383b6a*_0x5c1895,_0x2035d0);}}else{if(void 0x0!==_0x261511){const _0x46b320=_0x261511[_0x23f518];if(void 0x0!==_0x46b320)switch(_0x46b320['length']){case 0x2:_0x41ab67['vertexAttrib2fv'](_0x39ab15['location'],_0x46b320);break;case 0x3:_0x41ab67['vertexAttrib3fv'](_0x39ab15['location'],_0x46b320);break;case 0x4:_0x41ab67['vertexAttrib4fv'](_0x39ab15['location'],_0x46b320);break;default:_0x41ab67['vertexAttrib1fv'](_0x39ab15['location'],_0x46b320);}}}}}_0x55a2ae();}(_0x3c6e47,_0xef0987,_0x2ec7ee,_0x165ba6),null!==_0x1a88b1&&_0x41ab67['bindBuffer'](_0x41ab67['ELEMENT_ARRAY_BUFFER'],_0x29bff8['get'](_0x1a88b1)['buffer']));},'reset':_0x52df85,'resetDefaultState':_0x233236,'dispose':function(){_0x52df85();for(const _0x13ba3d in _0x241e25){const _0x5c68cb=_0x241e25[_0x13ba3d];for(const _0x44c8af in _0x5c68cb){const _0x3c7ed8=_0x5c68cb[_0x44c8af];for(const _0x4d529a in _0x3c7ed8)_0x363e94(_0x3c7ed8[_0x4d529a]['object']),delete _0x3c7ed8[_0x4d529a];delete _0x5c68cb[_0x44c8af];}delete _0x241e25[_0x13ba3d];}},'releaseStatesOfGeometry':function(_0x34ef3e){if(void 0x0===_0x241e25[_0x34ef3e['id']])return;const _0x693ed2=_0x241e25[_0x34ef3e['id']];for(const _0x3f1601 in _0x693ed2){const _0x33e059=_0x693ed2[_0x3f1601];for(const _0x4d9f05 in _0x33e059)_0x363e94(_0x33e059[_0x4d9f05]['object']),delete _0x33e059[_0x4d9f05];delete _0x693ed2[_0x3f1601];}delete _0x241e25[_0x34ef3e['id']];},'releaseStatesOfProgram':function(_0x3f9ceb){for(const _0x16cec7 in _0x241e25){const _0x295f4a=_0x241e25[_0x16cec7];if(void 0x0===_0x295f4a[_0x3f9ceb['id']])continue;const _0x1bd290=_0x295f4a[_0x3f9ceb['id']];for(const _0xbe5d95 in _0x1bd290)_0x363e94(_0x1bd290[_0xbe5d95]['object']),delete _0x1bd290[_0xbe5d95];delete _0x295f4a[_0x3f9ceb['id']];}},'initAttributes':_0x3ac385,'enableAttribute':_0x23ff7d,'disableUnusedAttributes':_0x55a2ae};}function _0x52d4ef(_0x54cdea,_0x1d5c24,_0x45ce78){let _0x33c4aa;function _0x52a000(_0x50e63f,_0x2945ee,_0x14ba81){0x0!==_0x14ba81&&(_0x54cdea['drawArraysInstanced'](_0x33c4aa,_0x50e63f,_0x2945ee,_0x14ba81),_0x45ce78['update'](_0x2945ee,_0x33c4aa,_0x14ba81));}this['setMode']=function(_0x4c4289){_0x33c4aa=_0x4c4289;},this['render']=function(_0x41f0c4,_0xa4a6ba){_0x54cdea['drawArrays'](_0x33c4aa,_0x41f0c4,_0xa4a6ba),_0x45ce78['update'](_0xa4a6ba,_0x33c4aa,0x1);},this['renderInstances']=_0x52a000,this['renderMultiDraw']=function(_0x5bbf78,_0x10db5f,_0x4f5c2e){if(0x0===_0x4f5c2e)return;_0x1d5c24['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x33c4aa,_0x5bbf78,0x0,_0x10db5f,0x0,_0x4f5c2e);let _0x43ad55=0x0;for(let _0x39f57f=0x0;_0x39f57f<_0x4f5c2e;_0x39f57f++)_0x43ad55+=_0x10db5f[_0x39f57f];_0x45ce78['update'](_0x43ad55,_0x33c4aa,0x1);},this['renderMultiDrawInstances']=function(_0x46ea89,_0x11c647,_0x12e8f2,_0x178c3f){if(0x0===_0x12e8f2)return;const _0x55d279=_0x1d5c24['get']('WEBGL_multi_draw');if(null===_0x55d279){for(let _0x211e14=0x0;_0x211e14<_0x46ea89['length'];_0x211e14++)_0x52a000(_0x46ea89[_0x211e14],_0x11c647[_0x211e14],_0x178c3f[_0x211e14]);}else{_0x55d279['multiDrawArraysInstancedWEBGL'](_0x33c4aa,_0x46ea89,0x0,_0x11c647,0x0,_0x178c3f,0x0,_0x12e8f2);let _0x397172=0x0;for(let _0x28b491=0x0;_0x28b491<_0x12e8f2;_0x28b491++)_0x397172+=_0x11c647[_0x28b491]*_0x178c3f[_0x28b491];_0x45ce78['update'](_0x397172,_0x33c4aa,0x1);}};}function _0x4a4dbb(_0x27fc04,_0x39c385,_0x14e900,_0x24e73d){let _0xe08d78;function _0x44c768(_0x578ee6){if('highp'===_0x578ee6){if(_0x27fc04['getShaderPrecisionFormat'](_0x27fc04['VERTEX_SHADER'],_0x27fc04['HIGH_FLOAT'])['precision']>0x0&&_0x27fc04['getShaderPrecisionFormat'](_0x27fc04['FRAGMENT_SHADER'],_0x27fc04['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x578ee6='mediump';}return'mediump'===_0x578ee6&&_0x27fc04['getShaderPrecisionFormat'](_0x27fc04['VERTEX_SHADER'],_0x27fc04['MEDIUM_FLOAT'])['precision']>0x0&&_0x27fc04['getShaderPrecisionFormat'](_0x27fc04['FRAGMENT_SHADER'],_0x27fc04['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x2642af=void 0x0!==_0x14e900['precision']?_0x14e900['precision']:'highp';const _0x56e510=_0x44c768(_0x2642af);_0x56e510!==_0x2642af&&(console['warn']('THREE.WebGLRenderer:',_0x2642af,'not\x20supported,\x20using',_0x56e510,'instead.'),_0x2642af=_0x56e510);const _0x1796cd=!0x0===_0x14e900['logarithmicDepthBuffer'],_0x51deb3=!0x0===_0x14e900['reverseDepthBuffer']&&_0x39c385['has']('EXT_clip_control'),_0x865b70=_0x27fc04['getParameter'](_0x27fc04['MAX_TEXTURE_IMAGE_UNITS']),_0xfc9cdb=_0x27fc04['getParameter'](_0x27fc04['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0xe08d78)return _0xe08d78;if(!0x0===_0x39c385['has']('EXT_texture_filter_anisotropic')){const _0x361f88=_0x39c385['get']('EXT_texture_filter_anisotropic');_0xe08d78=_0x27fc04['getParameter'](_0x361f88['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0xe08d78=0x0;return _0xe08d78;},'getMaxPrecision':_0x44c768,'textureFormatReadable':function(_0x335116){return _0x335116===_0x207dba['GWd']||_0x24e73d['convert'](_0x335116)===_0x27fc04['getParameter'](_0x27fc04['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x5097eb){const _0x5739d5=_0x5097eb===_0x207dba['ix0']&&(_0x39c385['has']('EXT_color_buffer_half_float')||_0x39c385['has']('EXT_color_buffer_float'));return!(_0x5097eb!==_0x207dba['OUM']&&_0x24e73d['convert'](_0x5097eb)!==_0x27fc04['getParameter'](_0x27fc04['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x5097eb!==_0x207dba['RQf']&&!_0x5739d5);},'precision':_0x2642af,'logarithmicDepthBuffer':_0x1796cd,'reverseDepthBuffer':_0x51deb3,'maxTextures':_0x865b70,'maxVertexTextures':_0xfc9cdb,'maxTextureSize':_0x27fc04['getParameter'](_0x27fc04['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x27fc04['getParameter'](_0x27fc04['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x27fc04['getParameter'](_0x27fc04['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x27fc04['getParameter'](_0x27fc04['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x27fc04['getParameter'](_0x27fc04['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x27fc04['getParameter'](_0x27fc04['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0xfc9cdb>0x0,'maxSamples':_0x27fc04['getParameter'](_0x27fc04['MAX_SAMPLES'])};}function _0x55019d(_0x238b49){const _0x1daefa=this;let _0xc1dc96=null,_0x22725f=0x0,_0x7ee0bc=!0x1,_0x4a0d89=!0x1;const _0x5c9881=new _0x207dba['Zcv'](),_0x4d9bcb=new _0x207dba['dwI'](),_0x3717c4={'value':null,'needsUpdate':!0x1};function _0x6d16c6(_0x9400aa,_0x1015bf,_0x4f0a48,_0x323041){const _0x1ad6a1=null!==_0x9400aa?_0x9400aa['length']:0x0;let _0x2fe400=null;if(0x0!==_0x1ad6a1){if(_0x2fe400=_0x3717c4['value'],!0x0!==_0x323041||null===_0x2fe400){const _0x2dcc44=_0x4f0a48+0x4*_0x1ad6a1,_0x4574b6=_0x1015bf['matrixWorldInverse'];_0x4d9bcb['getNormalMatrix'](_0x4574b6),(null===_0x2fe400||_0x2fe400['length']<_0x2dcc44)&&(_0x2fe400=new Float32Array(_0x2dcc44));for(let _0xa0d1b2=0x0,_0x2019e4=_0x4f0a48;_0xa0d1b2!==_0x1ad6a1;++_0xa0d1b2,_0x2019e4+=0x4)_0x5c9881['copy'](_0x9400aa[_0xa0d1b2])['applyMatrix4'](_0x4574b6,_0x4d9bcb),_0x5c9881['normal']['toArray'](_0x2fe400,_0x2019e4),_0x2fe400[_0x2019e4+0x3]=_0x5c9881['constant'];}_0x3717c4['value']=_0x2fe400,_0x3717c4['needsUpdate']=!0x0;}return _0x1daefa['numPlanes']=_0x1ad6a1,_0x1daefa['numIntersection']=0x0,_0x2fe400;}this['uniform']=_0x3717c4,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x15de62,_0x464a98){const _0x6ae5e8=0x0!==_0x15de62['length']||_0x464a98||0x0!==_0x22725f||_0x7ee0bc;return _0x7ee0bc=_0x464a98,_0x22725f=_0x15de62['length'],_0x6ae5e8;},this['beginShadows']=function(){_0x4a0d89=!0x0,_0x6d16c6(null);},this['endShadows']=function(){_0x4a0d89=!0x1;},this['setGlobalState']=function(_0x586bae,_0x3a24a6){_0xc1dc96=_0x6d16c6(_0x586bae,_0x3a24a6,0x0);},this['setState']=function(_0xd7d8b9,_0x4e2cd9,_0x324171){const _0x3abbf9=_0xd7d8b9['clippingPlanes'],_0x392549=_0xd7d8b9['clipIntersection'],_0x2256ba=_0xd7d8b9['clipShadows'],_0x398481=_0x238b49['get'](_0xd7d8b9);if(!_0x7ee0bc||null===_0x3abbf9||0x0===_0x3abbf9['length']||_0x4a0d89&&!_0x2256ba)_0x4a0d89?_0x6d16c6(null):(function(){_0x3717c4['value']!==_0xc1dc96&&(_0x3717c4['value']=_0xc1dc96,_0x3717c4['needsUpdate']=_0x22725f>0x0),(_0x1daefa['numPlanes']=_0x22725f,_0x1daefa['numIntersection']=0x0);}());else{const _0x3e0d5b=_0x4a0d89?0x0:_0x22725f,_0x3e38dc=0x4*_0x3e0d5b;let _0x148911=_0x398481['clippingState']||null;_0x3717c4['value']=_0x148911,_0x148911=_0x6d16c6(_0x3abbf9,_0x4e2cd9,_0x3e38dc,_0x324171);for(let _0x17021f=0x0;_0x17021f!==_0x3e38dc;++_0x17021f)_0x148911[_0x17021f]=_0xc1dc96[_0x17021f];_0x398481['clippingState']=_0x148911,this['numIntersection']=_0x392549?this['numPlanes']:0x0,this['numPlanes']+=_0x3e0d5b;}};}function _0x51ce95(_0x4b382a){let _0x7f269e=new WeakMap();function _0x4184d8(_0x3f9eff,_0x42b928){return _0x42b928===_0x207dba['wfO']?_0x3f9eff['mapping']=_0x207dba['hy7']:_0x42b928===_0x207dba['uV5']&&(_0x3f9eff['mapping']=_0x207dba['xFO']),_0x3f9eff;}function _0x101dbe(_0x213da8){const _0x43f9ea=_0x213da8['target'];_0x43f9ea['removeEventListener']('dispose',_0x101dbe);const _0x5d78c7=_0x7f269e['get'](_0x43f9ea);void 0x0!==_0x5d78c7&&(_0x7f269e['delete'](_0x43f9ea),_0x5d78c7['dispose']());}return{'get':function(_0x1ad0f4){if(_0x1ad0f4&&_0x1ad0f4['isTexture']){const _0x42aa76=_0x1ad0f4['mapping'];if(_0x42aa76===_0x207dba['wfO']||_0x42aa76===_0x207dba['uV5']){if(_0x7f269e['has'](_0x1ad0f4))return _0x4184d8(_0x7f269e['get'](_0x1ad0f4)['texture'],_0x1ad0f4['mapping']);{const _0x68df23=_0x1ad0f4['image'];if(_0x68df23&&_0x68df23['height']>0x0){const _0xc1caa7=new _0x207dba['o6l'](_0x68df23['height']);return _0xc1caa7['fromEquirectangularTexture'](_0x4b382a,_0x1ad0f4),_0x7f269e['set'](_0x1ad0f4,_0xc1caa7),_0x1ad0f4['addEventListener']('dispose',_0x101dbe),_0x4184d8(_0xc1caa7['texture'],_0x1ad0f4['mapping']);}return null;}}}return _0x1ad0f4;},'dispose':function(){_0x7f269e=new WeakMap();}};}const _0x1b141d=[0.125,0.215,0.35,0.446,0.526,0.582],_0x4a3052=0x14,_0x7b978=new _0x207dba['qUd'](),_0x5e8252=new _0x207dba['Q1f']();let _0x29730a=null,_0x4c4496=0x0,_0x511dfa=0x0,_0x4eb2f7=!0x1;const _0x435cb4=(0x1+Math['sqrt'](0x5))/0x2,_0x443760=0x1/_0x435cb4,_0x119359=[new _0x207dba['Pq0'](-_0x435cb4,_0x443760,0x0),new _0x207dba['Pq0'](_0x435cb4,_0x443760,0x0),new _0x207dba['Pq0'](-_0x443760,0x0,_0x435cb4),new _0x207dba['Pq0'](_0x443760,0x0,_0x435cb4),new _0x207dba['Pq0'](0x0,_0x435cb4,-_0x443760),new _0x207dba['Pq0'](0x0,_0x435cb4,_0x443760),new _0x207dba['Pq0'](-0x1,0x1,-0x1),new _0x207dba['Pq0'](0x1,0x1,-0x1),new _0x207dba['Pq0'](-0x1,0x1,0x1),new _0x207dba['Pq0'](0x1,0x1,0x1)];class _0x483b48{constructor(_0x597fd7){this['_renderer']=_0x597fd7,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0x2d46f1,_0x554794=0x0,_0x54bf4b=0.1,_0x22a680=0x64){_0x29730a=this['_renderer']['getRenderTarget'](),_0x4c4496=this['_renderer']['getActiveCubeFace'](),_0x511dfa=this['_renderer']['getActiveMipmapLevel'](),_0x4eb2f7=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0x52c450=this['_allocateTargets']();return _0x52c450['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0x2d46f1,_0x54bf4b,_0x22a680,_0x52c450),_0x554794>0x0&&this['_blur'](_0x52c450,0x0,0x0,_0x554794),this['_applyPMREM'](_0x52c450),this['_cleanup'](_0x52c450),_0x52c450;}['fromEquirectangular'](_0x31a18a,_0x1fe93a=null){return this['_fromTexture'](_0x31a18a,_0x1fe93a);}['fromCubemap'](_0x379c54,_0x28cdc4=null){return this['_fromTexture'](_0x379c54,_0x28cdc4);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x3c392e(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x416245(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x28f1e3){this['_lodMax']=Math['floor'](Math['log2'](_0x28f1e3)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x36112f=0x0;_0x36112f<this['_lodPlanes']['length'];_0x36112f++)this['_lodPlanes'][_0x36112f]['dispose']();}['_cleanup'](_0x5d9180){this['_renderer']['setRenderTarget'](_0x29730a,_0x4c4496,_0x511dfa),this['_renderer']['xr']['enabled']=_0x4eb2f7,_0x5d9180['scissorTest']=!0x1,_0x15f19c(_0x5d9180,0x0,0x0,_0x5d9180['width'],_0x5d9180['height']);}['_fromTexture'](_0x1fc78b,_0x27dc5a){_0x1fc78b['mapping']===_0x207dba['hy7']||_0x1fc78b['mapping']===_0x207dba['xFO']?this['_setSize'](0x0===_0x1fc78b['image']['length']?0x10:_0x1fc78b['image'][0x0]['width']||_0x1fc78b['image'][0x0]['image']['width']):this['_setSize'](_0x1fc78b['image']['width']/0x4),_0x29730a=this['_renderer']['getRenderTarget'](),_0x4c4496=this['_renderer']['getActiveCubeFace'](),_0x511dfa=this['_renderer']['getActiveMipmapLevel'](),_0x4eb2f7=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0x4270ed=_0x27dc5a||this['_allocateTargets']();return this['_textureToCubeUV'](_0x1fc78b,_0x4270ed),this['_applyPMREM'](_0x4270ed),this['_cleanup'](_0x4270ed),_0x4270ed;}['_allocateTargets'](){const _0x15f050=0x3*Math['max'](this['_cubeSize'],0x70),_0x2fd179=0x4*this['_cubeSize'],_0x5bc864={'magFilter':_0x207dba['k6q'],'minFilter':_0x207dba['k6q'],'generateMipmaps':!0x1,'type':_0x207dba['ix0'],'format':_0x207dba['GWd'],'colorSpace':_0x207dba['Zr2'],'depthBuffer':!0x1},_0x28fb62=_0x556625(_0x15f050,_0x2fd179,_0x5bc864);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x15f050||this['_pingPongRenderTarget']['height']!==_0x2fd179){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x556625(_0x15f050,_0x2fd179,_0x5bc864);const {_lodMax:_0x5c60b0}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x27cb91){const _0x11ab5a=[],_0x47b450=[],_0x552eaa=[];let _0x455223=_0x27cb91;const _0x2ddaea=_0x27cb91-0x4+0x1+_0x1b141d['length'];for(let _0x4f5105=0x0;_0x4f5105<_0x2ddaea;_0x4f5105++){const _0x5648f6=Math['pow'](0x2,_0x455223);_0x47b450['push'](_0x5648f6);let _0x2eaa15=0x1/_0x5648f6;_0x4f5105>_0x27cb91-0x4?_0x2eaa15=_0x1b141d[_0x4f5105-_0x27cb91+0x4-0x1]:0x0===_0x4f5105&&(_0x2eaa15=0x0),_0x552eaa['push'](_0x2eaa15);const _0x40b720=0x1/(_0x5648f6-0x2),_0x204b28=-_0x40b720,_0x1f7ee1=0x1+_0x40b720,_0x4ad55e=[_0x204b28,_0x204b28,_0x1f7ee1,_0x204b28,_0x1f7ee1,_0x1f7ee1,_0x204b28,_0x204b28,_0x1f7ee1,_0x1f7ee1,_0x204b28,_0x1f7ee1],_0x256ed2=0x6,_0x554911=0x6,_0x86409b=0x3,_0x4b5f04=0x2,_0x414ef4=0x1,_0x36275d=new Float32Array(_0x86409b*_0x554911*_0x256ed2),_0x71c33d=new Float32Array(_0x4b5f04*_0x554911*_0x256ed2),_0x53042b=new Float32Array(_0x414ef4*_0x554911*_0x256ed2);for(let _0x863b4f=0x0;_0x863b4f<_0x256ed2;_0x863b4f++){const _0x53269d=_0x863b4f%0x3*0x2/0x3-0x1,_0x4f15b5=_0x863b4f>0x2?0x0:-0x1,_0x4d911a=[_0x53269d,_0x4f15b5,0x0,_0x53269d+0x2/0x3,_0x4f15b5,0x0,_0x53269d+0x2/0x3,_0x4f15b5+0x1,0x0,_0x53269d,_0x4f15b5,0x0,_0x53269d+0x2/0x3,_0x4f15b5+0x1,0x0,_0x53269d,_0x4f15b5+0x1,0x0];_0x36275d['set'](_0x4d911a,_0x86409b*_0x554911*_0x863b4f),_0x71c33d['set'](_0x4ad55e,_0x4b5f04*_0x554911*_0x863b4f);const _0x5726d3=[_0x863b4f,_0x863b4f,_0x863b4f,_0x863b4f,_0x863b4f,_0x863b4f];_0x53042b['set'](_0x5726d3,_0x414ef4*_0x554911*_0x863b4f);}const _0x40a943=new _0x207dba['LoY']();_0x40a943['setAttribute']('position',new _0x207dba['THS'](_0x36275d,_0x86409b)),_0x40a943['setAttribute']('uv',new _0x207dba['THS'](_0x71c33d,_0x4b5f04)),_0x40a943['setAttribute']('faceIndex',new _0x207dba['THS'](_0x53042b,_0x414ef4)),_0x11ab5a['push'](_0x40a943),_0x455223>0x4&&_0x455223--;}return{'lodPlanes':_0x11ab5a,'sizeLods':_0x47b450,'sigmas':_0x552eaa};}(_0x5c60b0),this['_blurMaterial']=function(_0x50fc21,_0x31ef46,_0x3321d0){const _0x15b441=new Float32Array(_0x4a3052),_0x59ac63=new _0x207dba['Pq0'](0x0,0x1,0x0),_0x1e6712=new _0x207dba['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0x4a3052,'CUBEUV_TEXEL_WIDTH':0x1/_0x31ef46,'CUBEUV_TEXEL_HEIGHT':0x1/_0x3321d0,'CUBEUV_MAX_MIP':_0x50fc21+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0x15b441},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x59ac63}},'vertexShader':_0x163ec8(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x207dba['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0x1e6712;}(_0x5c60b0,_0x15f050,_0x2fd179));}return _0x28fb62;}['_compileMaterial'](_0x357e6d){const _0x330884=new _0x207dba['eaF'](this['_lodPlanes'][0x0],_0x357e6d);this['_renderer']['compile'](_0x330884,_0x7b978);}['_sceneToCubeUV'](_0x224657,_0x145dfd,_0x471d85,_0x31ff7f){const _0x24dac4=new _0x207dba['ubm'](0x5a,0x1,_0x145dfd,_0x471d85),_0x5247d6=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x55d9fe=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x59d2f4=this['_renderer'],_0x2b6210=_0x59d2f4['autoClear'],_0x3e1127=_0x59d2f4['toneMapping'];_0x59d2f4['getClearColor'](_0x5e8252),_0x59d2f4['toneMapping']=_0x207dba['y_p'],_0x59d2f4['autoClear']=!0x1;const _0xd5e1b9=new _0x207dba['V9B']({'name':'PMREM.Background','side':_0x207dba['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x36db8b=new _0x207dba['eaF'](new _0x207dba['iNn'](),_0xd5e1b9);let _0x427e4f=!0x1;const _0x12d879=_0x224657['background'];_0x12d879?_0x12d879['isColor']&&(_0xd5e1b9['color']['copy'](_0x12d879),_0x224657['background']=null,_0x427e4f=!0x0):(_0xd5e1b9['color']['copy'](_0x5e8252),_0x427e4f=!0x0);for(let _0x5060ce=0x0;_0x5060ce<0x6;_0x5060ce++){const _0x2f7e4f=_0x5060ce%0x3;0x0===_0x2f7e4f?(_0x24dac4['up']['set'](0x0,_0x5247d6[_0x5060ce],0x0),_0x24dac4['lookAt'](_0x55d9fe[_0x5060ce],0x0,0x0)):0x1===_0x2f7e4f?(_0x24dac4['up']['set'](0x0,0x0,_0x5247d6[_0x5060ce]),_0x24dac4['lookAt'](0x0,_0x55d9fe[_0x5060ce],0x0)):(_0x24dac4['up']['set'](0x0,_0x5247d6[_0x5060ce],0x0),_0x24dac4['lookAt'](0x0,0x0,_0x55d9fe[_0x5060ce]));const _0x178140=this['_cubeSize'];_0x15f19c(_0x31ff7f,_0x2f7e4f*_0x178140,_0x5060ce>0x2?_0x178140:0x0,_0x178140,_0x178140),_0x59d2f4['setRenderTarget'](_0x31ff7f),_0x427e4f&&_0x59d2f4['render'](_0x36db8b,_0x24dac4),_0x59d2f4['render'](_0x224657,_0x24dac4);}_0x36db8b['geometry']['dispose'](),_0x36db8b['material']['dispose'](),_0x59d2f4['toneMapping']=_0x3e1127,_0x59d2f4['autoClear']=_0x2b6210,_0x224657['background']=_0x12d879;}['_textureToCubeUV'](_0x37ba37,_0x2b7291){const _0x562f93=this['_renderer'],_0x2b77e5=_0x37ba37['mapping']===_0x207dba['hy7']||_0x37ba37['mapping']===_0x207dba['xFO'];_0x2b77e5?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x3c392e()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0x37ba37['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x416245());const _0x3e6454=_0x2b77e5?this['_cubemapMaterial']:this['_equirectMaterial'],_0x1d5c93=new _0x207dba['eaF'](this['_lodPlanes'][0x0],_0x3e6454);_0x3e6454['uniforms']['envMap']['value']=_0x37ba37;const _0x501399=this['_cubeSize'];_0x15f19c(_0x2b7291,0x0,0x0,0x3*_0x501399,0x2*_0x501399),_0x562f93['setRenderTarget'](_0x2b7291),_0x562f93['render'](_0x1d5c93,_0x7b978);}['_applyPMREM'](_0x39f425){const _0xe35ffa=this['_renderer'],_0x1bc8cc=_0xe35ffa['autoClear'];_0xe35ffa['autoClear']=!0x1;const _0x3c488b=this['_lodPlanes']['length'];for(let _0x3397ba=0x1;_0x3397ba<_0x3c488b;_0x3397ba++){const _0x7d38da=Math['sqrt'](this['_sigmas'][_0x3397ba]*this['_sigmas'][_0x3397ba]-this['_sigmas'][_0x3397ba-0x1]*this['_sigmas'][_0x3397ba-0x1]),_0x2e51dd=_0x119359[(_0x3c488b-_0x3397ba-0x1)%_0x119359['length']];this['_blur'](_0x39f425,_0x3397ba-0x1,_0x3397ba,_0x7d38da,_0x2e51dd);}_0xe35ffa['autoClear']=_0x1bc8cc;}['_blur'](_0x1c79f9,_0x5c2a53,_0x3040f9,_0x425c10,_0x453c57){const _0x3ee3f7=this['_pingPongRenderTarget'];this['_halfBlur'](_0x1c79f9,_0x3ee3f7,_0x5c2a53,_0x3040f9,_0x425c10,'latitudinal',_0x453c57),this['_halfBlur'](_0x3ee3f7,_0x1c79f9,_0x3040f9,_0x3040f9,_0x425c10,'longitudinal',_0x453c57);}['_halfBlur'](_0x307b34,_0x151f1d,_0x1acc3c,_0x2e0d00,_0x17cbea,_0x383702,_0x40f011){const _0x11e4f6=this['_renderer'],_0x3b9d45=this['_blurMaterial'];'latitudinal'!==_0x383702&&'longitudinal'!==_0x383702&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x1652e1=new _0x207dba['eaF'](this['_lodPlanes'][_0x2e0d00],_0x3b9d45),_0x39e683=_0x3b9d45['uniforms'],_0x1a44ae=this['_sizeLods'][_0x1acc3c]-0x1,_0x2961c5=isFinite(_0x17cbea)?Math['PI']/(0x2*_0x1a44ae):0x2*Math['PI']/0x27,_0x383463=_0x17cbea/_0x2961c5,_0x1e105e=isFinite(_0x17cbea)?0x1+Math['floor'](0x3*_0x383463):_0x4a3052;_0x1e105e>_0x4a3052&&console['warn']('sigmaRadians,\x20'+_0x17cbea+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0x1e105e+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x311900=[];let _0x4ad304=0x0;for(let _0xdc60db=0x0;_0xdc60db<_0x4a3052;++_0xdc60db){const _0x250557=_0xdc60db/_0x383463,_0xa2b908=Math['exp'](-_0x250557*_0x250557/0x2);_0x311900['push'](_0xa2b908),0x0===_0xdc60db?_0x4ad304+=_0xa2b908:_0xdc60db<_0x1e105e&&(_0x4ad304+=0x2*_0xa2b908);}for(let _0x4d6407=0x0;_0x4d6407<_0x311900['length'];_0x4d6407++)_0x311900[_0x4d6407]=_0x311900[_0x4d6407]/_0x4ad304;_0x39e683['envMap']['value']=_0x307b34['texture'],_0x39e683['samples']['value']=_0x1e105e,_0x39e683['weights']['value']=_0x311900,_0x39e683['latitudinal']['value']='latitudinal'===_0x383702,_0x40f011&&(_0x39e683['poleAxis']['value']=_0x40f011);const {_lodMax:_0x3bd564}=this;_0x39e683['dTheta']['value']=_0x2961c5,_0x39e683['mipInt']['value']=_0x3bd564-_0x1acc3c;const _0x9166fe=this['_sizeLods'][_0x2e0d00];_0x15f19c(_0x151f1d,0x3*_0x9166fe*(_0x2e0d00>_0x3bd564-0x4?_0x2e0d00-_0x3bd564+0x4:0x0),0x4*(this['_cubeSize']-_0x9166fe),0x3*_0x9166fe,0x2*_0x9166fe),_0x11e4f6['setRenderTarget'](_0x151f1d),_0x11e4f6['render'](_0x1652e1,_0x7b978);}}function _0x556625(_0x18d5df,_0x57721d,_0x189f30){const _0x377206=new _0x207dba['nWS'](_0x18d5df,_0x57721d,_0x189f30);return _0x377206['texture']['mapping']=_0x207dba['Om'],_0x377206['texture']['name']='PMREM.cubeUv',_0x377206['scissorTest']=!0x0,_0x377206;}function _0x15f19c(_0x21febd,_0x25fefa,_0x3d96e3,_0x5d2935,_0x5ead38){_0x21febd['viewport']['set'](_0x25fefa,_0x3d96e3,_0x5d2935,_0x5ead38),_0x21febd['scissor']['set'](_0x25fefa,_0x3d96e3,_0x5d2935,_0x5ead38);}function _0x416245(){return new _0x207dba['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x163ec8(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x207dba['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x3c392e(){return new _0x207dba['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x163ec8(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x207dba['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x163ec8(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x1ca0cd(_0x36c6d8){let _0xb0eec2=new WeakMap(),_0x579395=null;function _0x569769(_0x5e8a8e){const _0x40ae3c=_0x5e8a8e['target'];_0x40ae3c['removeEventListener']('dispose',_0x569769);const _0x426909=_0xb0eec2['get'](_0x40ae3c);void 0x0!==_0x426909&&(_0xb0eec2['delete'](_0x40ae3c),_0x426909['dispose']());}return{'get':function(_0x410dfd){if(_0x410dfd&&_0x410dfd['isTexture']){const _0x136b99=_0x410dfd['mapping'],_0x2bc5dc=_0x136b99===_0x207dba['wfO']||_0x136b99===_0x207dba['uV5'],_0x1cbff6=_0x136b99===_0x207dba['hy7']||_0x136b99===_0x207dba['xFO'];if(_0x2bc5dc||_0x1cbff6){let _0x52cd86=_0xb0eec2['get'](_0x410dfd);const _0x2bfd4f=void 0x0!==_0x52cd86?_0x52cd86['texture']['pmremVersion']:0x0;if(_0x410dfd['isRenderTargetTexture']&&_0x410dfd['pmremVersion']!==_0x2bfd4f)return null===_0x579395&&(_0x579395=new _0x483b48(_0x36c6d8)),_0x52cd86=_0x2bc5dc?_0x579395['fromEquirectangular'](_0x410dfd,_0x52cd86):_0x579395['fromCubemap'](_0x410dfd,_0x52cd86),_0x52cd86['texture']['pmremVersion']=_0x410dfd['pmremVersion'],_0xb0eec2['set'](_0x410dfd,_0x52cd86),_0x52cd86['texture'];if(void 0x0!==_0x52cd86)return _0x52cd86['texture'];{const _0x2f454a=_0x410dfd['image'];return _0x2bc5dc&&_0x2f454a&&_0x2f454a['height']>0x0||_0x1cbff6&&_0x2f454a&&function(_0x4d07c6){let _0x406e52=0x0;const _0x338d5b=0x6;for(let _0x322ec6=0x0;_0x322ec6<_0x338d5b;_0x322ec6++)void 0x0!==_0x4d07c6[_0x322ec6]&&_0x406e52++;return _0x406e52===_0x338d5b;}(_0x2f454a)?(null===_0x579395&&(_0x579395=new _0x483b48(_0x36c6d8)),_0x52cd86=_0x2bc5dc?_0x579395['fromEquirectangular'](_0x410dfd):_0x579395['fromCubemap'](_0x410dfd),_0x52cd86['texture']['pmremVersion']=_0x410dfd['pmremVersion'],_0xb0eec2['set'](_0x410dfd,_0x52cd86),_0x410dfd['addEventListener']('dispose',_0x569769),_0x52cd86['texture']):null;}}}return _0x410dfd;},'dispose':function(){_0xb0eec2=new WeakMap(),null!==_0x579395&&(_0x579395['dispose'](),_0x579395=null);}};}function _0xa26030(_0x59cf38){const _0xcdff62={};function _0x268e8b(_0x1aca95){if(void 0x0!==_0xcdff62[_0x1aca95])return _0xcdff62[_0x1aca95];let _0x5482ce;switch(_0x1aca95){case'WEBGL_depth_texture':_0x5482ce=_0x59cf38['getExtension']('WEBGL_depth_texture')||_0x59cf38['getExtension']('MOZ_WEBGL_depth_texture')||_0x59cf38['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0x5482ce=_0x59cf38['getExtension']('EXT_texture_filter_anisotropic')||_0x59cf38['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x59cf38['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0x5482ce=_0x59cf38['getExtension']('WEBGL_compressed_texture_s3tc')||_0x59cf38['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x59cf38['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0x5482ce=_0x59cf38['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x59cf38['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0x5482ce=_0x59cf38['getExtension'](_0x1aca95);}return _0xcdff62[_0x1aca95]=_0x5482ce,_0x5482ce;}return{'has':function(_0x5dd463){return null!==_0x268e8b(_0x5dd463);},'init':function(){_0x268e8b('EXT_color_buffer_float'),_0x268e8b('WEBGL_clip_cull_distance'),_0x268e8b('OES_texture_float_linear'),_0x268e8b('EXT_color_buffer_half_float'),_0x268e8b('WEBGL_multisampled_render_to_texture'),_0x268e8b('WEBGL_render_shared_exponent');},'get':function(_0xaf63f){const _0x2156a6=_0x268e8b(_0xaf63f);return null===_0x2156a6&&(0x0,_0x207dba['mcG'])('THREE.WebGLRenderer:\x20'+_0xaf63f+'\x20extension\x20not\x20supported.'),_0x2156a6;}};}function _0x26689c(_0x470f6f,_0x3a8a31,_0x12548a,_0x4bf2ac){const _0x19c8ce={},_0x5aec52=new WeakMap();function _0x4e7129(_0x83c096){const _0x2d49ae=_0x83c096['target'];null!==_0x2d49ae['index']&&_0x3a8a31['remove'](_0x2d49ae['index']);for(const _0x51a1d9 in _0x2d49ae['attributes'])_0x3a8a31['remove'](_0x2d49ae['attributes'][_0x51a1d9]);_0x2d49ae['removeEventListener']('dispose',_0x4e7129),delete _0x19c8ce[_0x2d49ae['id']];const _0x46abe7=_0x5aec52['get'](_0x2d49ae);_0x46abe7&&(_0x3a8a31['remove'](_0x46abe7),_0x5aec52['delete'](_0x2d49ae)),_0x4bf2ac['releaseStatesOfGeometry'](_0x2d49ae),!0x0===_0x2d49ae['isInstancedBufferGeometry']&&delete _0x2d49ae['_maxInstanceCount'],_0x12548a['memory']['geometries']--;}function _0x17b04b(_0x5720c7){const _0x265b07=[],_0x448584=_0x5720c7['index'],_0x3c7c7=_0x5720c7['attributes']['position'];let _0x4fe4af=0x0;if(null!==_0x448584){const _0x4efe4d=_0x448584['array'];_0x4fe4af=_0x448584['version'];for(let _0x562194=0x0,_0x509da5=_0x4efe4d['length'];_0x562194<_0x509da5;_0x562194+=0x3){const _0x1ba847=_0x4efe4d[_0x562194+0x0],_0x540974=_0x4efe4d[_0x562194+0x1],_0x438cf0=_0x4efe4d[_0x562194+0x2];_0x265b07['push'](_0x1ba847,_0x540974,_0x540974,_0x438cf0,_0x438cf0,_0x1ba847);}}else{if(void 0x0===_0x3c7c7)return;{const _0x780c32=_0x3c7c7['array'];_0x4fe4af=_0x3c7c7['version'];for(let _0x5479ba=0x0,_0x5a1ea9=_0x780c32['length']/0x3-0x1;_0x5479ba<_0x5a1ea9;_0x5479ba+=0x3){const _0x29c81a=_0x5479ba+0x0,_0x443fd2=_0x5479ba+0x1,_0x49b848=_0x5479ba+0x2;_0x265b07['push'](_0x29c81a,_0x443fd2,_0x443fd2,_0x49b848,_0x49b848,_0x29c81a);}}}const _0x10ca8a=new(((0x0,_0x207dba['AQS'])(_0x265b07))?_0x207dba['MW4']:_0x207dba['A$4'])(_0x265b07,0x1);_0x10ca8a['version']=_0x4fe4af;const _0x4aff46=_0x5aec52['get'](_0x5720c7);_0x4aff46&&_0x3a8a31['remove'](_0x4aff46),_0x5aec52['set'](_0x5720c7,_0x10ca8a);}return{'get':function(_0x4041cc,_0x36ae4c){return!0x0===_0x19c8ce[_0x36ae4c['id']]||(_0x36ae4c['addEventListener']('dispose',_0x4e7129),_0x19c8ce[_0x36ae4c['id']]=!0x0,_0x12548a['memory']['geometries']++),_0x36ae4c;},'update':function(_0x58eb31){const _0x2a3147=_0x58eb31['attributes'];for(const _0xe37707 in _0x2a3147)_0x3a8a31['update'](_0x2a3147[_0xe37707],_0x470f6f['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0x28d3e3){const _0x58199b=_0x5aec52['get'](_0x28d3e3);if(_0x58199b){const _0x23c1a9=_0x28d3e3['index'];null!==_0x23c1a9&&_0x58199b['version']<_0x23c1a9['version']&&_0x17b04b(_0x28d3e3);}else _0x17b04b(_0x28d3e3);return _0x5aec52['get'](_0x28d3e3);}};}function _0x10419e(_0x427e92,_0x5855a9,_0x522eae){let _0x9c16f,_0x2738d4,_0x558e98;function _0x32aa8d(_0x519ee0,_0x1926ce,_0x52aec0){0x0!==_0x52aec0&&(_0x427e92['drawElementsInstanced'](_0x9c16f,_0x1926ce,_0x2738d4,_0x519ee0*_0x558e98,_0x52aec0),_0x522eae['update'](_0x1926ce,_0x9c16f,_0x52aec0));}this['setMode']=function(_0x4c2388){_0x9c16f=_0x4c2388;},this['setIndex']=function(_0x2ff7b0){_0x2738d4=_0x2ff7b0['type'],_0x558e98=_0x2ff7b0['bytesPerElement'];},this['render']=function(_0x5f0fa6,_0xdd29e4){_0x427e92['drawElements'](_0x9c16f,_0xdd29e4,_0x2738d4,_0x5f0fa6*_0x558e98),_0x522eae['update'](_0xdd29e4,_0x9c16f,0x1);},this['renderInstances']=_0x32aa8d,this['renderMultiDraw']=function(_0x2a06ac,_0x19b5ff,_0xb0cb32){if(0x0===_0xb0cb32)return;_0x5855a9['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0x9c16f,_0x19b5ff,0x0,_0x2738d4,_0x2a06ac,0x0,_0xb0cb32);let _0x2d7c35=0x0;for(let _0x16bc1d=0x0;_0x16bc1d<_0xb0cb32;_0x16bc1d++)_0x2d7c35+=_0x19b5ff[_0x16bc1d];_0x522eae['update'](_0x2d7c35,_0x9c16f,0x1);},this['renderMultiDrawInstances']=function(_0x3ad57f,_0x298d3e,_0x26efda,_0x568d78){if(0x0===_0x26efda)return;const _0x48349b=_0x5855a9['get']('WEBGL_multi_draw');if(null===_0x48349b){for(let _0x9f08c9=0x0;_0x9f08c9<_0x3ad57f['length'];_0x9f08c9++)_0x32aa8d(_0x3ad57f[_0x9f08c9]/_0x558e98,_0x298d3e[_0x9f08c9],_0x568d78[_0x9f08c9]);}else{_0x48349b['multiDrawElementsInstancedWEBGL'](_0x9c16f,_0x298d3e,0x0,_0x2738d4,_0x3ad57f,0x0,_0x568d78,0x0,_0x26efda);let _0x42f3c8=0x0;for(let _0x45f952=0x0;_0x45f952<_0x26efda;_0x45f952++)_0x42f3c8+=_0x298d3e[_0x45f952]*_0x568d78[_0x45f952];_0x522eae['update'](_0x42f3c8,_0x9c16f,0x1);}};}function _0x5d4a22(_0x18ff65){const _0x519ac7={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x519ac7,'programs':null,'autoReset':!0x0,'reset':function(){_0x519ac7['calls']=0x0,_0x519ac7['triangles']=0x0,_0x519ac7['points']=0x0,_0x519ac7['lines']=0x0;},'update':function(_0x427f29,_0x2a766e,_0xf71a02){switch(_0x519ac7['calls']++,_0x2a766e){case _0x18ff65['TRIANGLES']:_0x519ac7['triangles']+=_0xf71a02*(_0x427f29/0x3);break;case _0x18ff65['LINES']:_0x519ac7['lines']+=_0xf71a02*(_0x427f29/0x2);break;case _0x18ff65['LINE_STRIP']:_0x519ac7['lines']+=_0xf71a02*(_0x427f29-0x1);break;case _0x18ff65['LINE_LOOP']:_0x519ac7['lines']+=_0xf71a02*_0x427f29;break;case _0x18ff65['POINTS']:_0x519ac7['points']+=_0xf71a02*_0x427f29;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x2a766e);}}};}function _0x5caa3e(_0x56b7bd,_0x5b21bd,_0x17907d){const _0xe065fc=new WeakMap(),_0x51727=new _0x207dba['IUQ']();return{'update':function(_0x16848f,_0x167ed8,_0xa5fdb8){const _0x192d42=_0x16848f['morphTargetInfluences'],_0xec7f2e=_0x167ed8['morphAttributes']['position']||_0x167ed8['morphAttributes']['normal']||_0x167ed8['morphAttributes']['color'],_0x494f27=void 0x0!==_0xec7f2e?_0xec7f2e['length']:0x0;let _0x40e7b5=_0xe065fc['get'](_0x167ed8);if(void 0x0===_0x40e7b5||_0x40e7b5['count']!==_0x494f27){void 0x0!==_0x40e7b5&&_0x40e7b5['texture']['dispose']();const _0x2600eb=void 0x0!==_0x167ed8['morphAttributes']['position'],_0x4bb10a=void 0x0!==_0x167ed8['morphAttributes']['normal'],_0x99f8a9=void 0x0!==_0x167ed8['morphAttributes']['color'],_0x34d128=_0x167ed8['morphAttributes']['position']||[],_0x2b22b6=_0x167ed8['morphAttributes']['normal']||[],_0x1308f8=_0x167ed8['morphAttributes']['color']||[];let _0x4478f9=0x0;!0x0===_0x2600eb&&(_0x4478f9=0x1),!0x0===_0x4bb10a&&(_0x4478f9=0x2),!0x0===_0x99f8a9&&(_0x4478f9=0x3);let _0x4a27ad=_0x167ed8['attributes']['position']['count']*_0x4478f9,_0x54d59f=0x1;_0x4a27ad>_0x5b21bd['maxTextureSize']&&(_0x54d59f=Math['ceil'](_0x4a27ad/_0x5b21bd['maxTextureSize']),_0x4a27ad=_0x5b21bd['maxTextureSize']);const _0x2bfdc8=new Float32Array(_0x4a27ad*_0x54d59f*0x4*_0x494f27),_0x155e9b=new _0x207dba['rFo'](_0x2bfdc8,_0x4a27ad,_0x54d59f,_0x494f27);_0x155e9b['type']=_0x207dba['RQf'],_0x155e9b['needsUpdate']=!0x0;const _0x51fe52=0x4*_0x4478f9;for(let _0x5c652d=0x0;_0x5c652d<_0x494f27;_0x5c652d++){const _0x32cd3c=_0x34d128[_0x5c652d],_0x4bcc70=_0x2b22b6[_0x5c652d],_0x4e44fd=_0x1308f8[_0x5c652d],_0x5133d4=_0x4a27ad*_0x54d59f*0x4*_0x5c652d;for(let _0x36cb35=0x0;_0x36cb35<_0x32cd3c['count'];_0x36cb35++){const _0x57e203=_0x36cb35*_0x51fe52;!0x0===_0x2600eb&&(_0x51727['fromBufferAttribute'](_0x32cd3c,_0x36cb35),_0x2bfdc8[_0x5133d4+_0x57e203+0x0]=_0x51727['x'],_0x2bfdc8[_0x5133d4+_0x57e203+0x1]=_0x51727['y'],_0x2bfdc8[_0x5133d4+_0x57e203+0x2]=_0x51727['z'],_0x2bfdc8[_0x5133d4+_0x57e203+0x3]=0x0),!0x0===_0x4bb10a&&(_0x51727['fromBufferAttribute'](_0x4bcc70,_0x36cb35),_0x2bfdc8[_0x5133d4+_0x57e203+0x4]=_0x51727['x'],_0x2bfdc8[_0x5133d4+_0x57e203+0x5]=_0x51727['y'],_0x2bfdc8[_0x5133d4+_0x57e203+0x6]=_0x51727['z'],_0x2bfdc8[_0x5133d4+_0x57e203+0x7]=0x0),!0x0===_0x99f8a9&&(_0x51727['fromBufferAttribute'](_0x4e44fd,_0x36cb35),_0x2bfdc8[_0x5133d4+_0x57e203+0x8]=_0x51727['x'],_0x2bfdc8[_0x5133d4+_0x57e203+0x9]=_0x51727['y'],_0x2bfdc8[_0x5133d4+_0x57e203+0xa]=_0x51727['z'],_0x2bfdc8[_0x5133d4+_0x57e203+0xb]=0x4===_0x4e44fd['itemSize']?_0x51727['w']:0x1);}}function _0x1e6168(){_0x155e9b['dispose'](),_0xe065fc['delete'](_0x167ed8),_0x167ed8['removeEventListener']('dispose',_0x1e6168);}_0x40e7b5={'count':_0x494f27,'texture':_0x155e9b,'size':new _0x207dba['I9Y'](_0x4a27ad,_0x54d59f)},_0xe065fc['set'](_0x167ed8,_0x40e7b5),_0x167ed8['addEventListener']('dispose',_0x1e6168);}if(!0x0===_0x16848f['isInstancedMesh']&&null!==_0x16848f['morphTexture'])_0xa5fdb8['getUniforms']()['setValue'](_0x56b7bd,'morphTexture',_0x16848f['morphTexture'],_0x17907d);else{let _0x589214=0x0;for(let _0x536eb8=0x0;_0x536eb8<_0x192d42['length'];_0x536eb8++)_0x589214+=_0x192d42[_0x536eb8];const _0x1cb435=_0x167ed8['morphTargetsRelative']?0x1:0x1-_0x589214;_0xa5fdb8['getUniforms']()['setValue'](_0x56b7bd,'morphTargetBaseInfluence',_0x1cb435),_0xa5fdb8['getUniforms']()['setValue'](_0x56b7bd,'morphTargetInfluences',_0x192d42);}_0xa5fdb8['getUniforms']()['setValue'](_0x56b7bd,'morphTargetsTexture',_0x40e7b5['texture'],_0x17907d),_0xa5fdb8['getUniforms']()['setValue'](_0x56b7bd,'morphTargetsTextureSize',_0x40e7b5['size']);}};}function _0x5967d9(_0x20eb48,_0x588690,_0xe0b193,_0x22f19a){let _0x12a4fe=new WeakMap();function _0x541ad4(_0x2462f4){const _0x307056=_0x2462f4['target'];_0x307056['removeEventListener']('dispose',_0x541ad4),_0xe0b193['remove'](_0x307056['instanceMatrix']),null!==_0x307056['instanceColor']&&_0xe0b193['remove'](_0x307056['instanceColor']);}return{'update':function(_0x23634d){const _0x55176b=_0x22f19a['render']['frame'],_0x3f5c76=_0x23634d['geometry'],_0x48e138=_0x588690['get'](_0x23634d,_0x3f5c76);if(_0x12a4fe['get'](_0x48e138)!==_0x55176b&&(_0x588690['update'](_0x48e138),_0x12a4fe['set'](_0x48e138,_0x55176b)),_0x23634d['isInstancedMesh']&&(!0x1===_0x23634d['hasEventListener']('dispose',_0x541ad4)&&_0x23634d['addEventListener']('dispose',_0x541ad4),_0x12a4fe['get'](_0x23634d)!==_0x55176b&&(_0xe0b193['update'](_0x23634d['instanceMatrix'],_0x20eb48['ARRAY_BUFFER']),null!==_0x23634d['instanceColor']&&_0xe0b193['update'](_0x23634d['instanceColor'],_0x20eb48['ARRAY_BUFFER']),_0x12a4fe['set'](_0x23634d,_0x55176b))),_0x23634d['isSkinnedMesh']){const _0x276b71=_0x23634d['skeleton'];_0x12a4fe['get'](_0x276b71)!==_0x55176b&&(_0x276b71['update'](),_0x12a4fe['set'](_0x276b71,_0x55176b));}return _0x48e138;},'dispose':function(){_0x12a4fe=new WeakMap();}};}const _0xd8d95a=new _0x207dba['gPd'](),_0x5993a2=new _0x207dba['VCu'](0x1,0x1),_0x56c9ed=new _0x207dba['rFo'](),_0x588269=new _0x207dba['dYF'](),_0x175ac3=new _0x207dba['b4q'](),_0x345dae=[],_0x5054a5=[],_0x4d38fe=new Float32Array(0x10),_0x7433f8=new Float32Array(0x9),_0x5e8d06=new Float32Array(0x4);function _0x19a3de(_0x376219,_0x5b2788,_0x4f4c10){const _0x191a19=_0x376219[0x0];if(_0x191a19<=0x0||_0x191a19>0x0)return _0x376219;const _0x3d0312=_0x5b2788*_0x4f4c10;let _0x592987=_0x345dae[_0x3d0312];if(void 0x0===_0x592987&&(_0x592987=new Float32Array(_0x3d0312),_0x345dae[_0x3d0312]=_0x592987),0x0!==_0x5b2788){_0x191a19['toArray'](_0x592987,0x0);for(let _0x56b09b=0x1,_0x290c52=0x0;_0x56b09b!==_0x5b2788;++_0x56b09b)_0x290c52+=_0x4f4c10,_0x376219[_0x56b09b]['toArray'](_0x592987,_0x290c52);}return _0x592987;}function _0x375f01(_0x4cfd76,_0x617b24){if(_0x4cfd76['length']!==_0x617b24['length'])return!0x1;for(let _0x23b212=0x0,_0x45c887=_0x4cfd76['length'];_0x23b212<_0x45c887;_0x23b212++)if(_0x4cfd76[_0x23b212]!==_0x617b24[_0x23b212])return!0x1;return!0x0;}function _0x42033b(_0x3a7f96,_0x5dd786){for(let _0x44e100=0x0,_0x44d155=_0x5dd786['length'];_0x44e100<_0x44d155;_0x44e100++)_0x3a7f96[_0x44e100]=_0x5dd786[_0x44e100];}function _0x373d36(_0x4827c4,_0x2183fa){let _0xa4c705=_0x5054a5[_0x2183fa];void 0x0===_0xa4c705&&(_0xa4c705=new Int32Array(_0x2183fa),_0x5054a5[_0x2183fa]=_0xa4c705);for(let _0x5047cc=0x0;_0x5047cc!==_0x2183fa;++_0x5047cc)_0xa4c705[_0x5047cc]=_0x4827c4['allocateTextureUnit']();return _0xa4c705;}function _0x5c8da3(_0x4e0b5a,_0x42d6e1){const _0x47bb20=this['cache'];_0x47bb20[0x0]!==_0x42d6e1&&(_0x4e0b5a['uniform1f'](this['addr'],_0x42d6e1),_0x47bb20[0x0]=_0x42d6e1);}function _0x2f677e(_0x4fe78c,_0x46c97c){const _0x364e24=this['cache'];if(void 0x0!==_0x46c97c['x'])_0x364e24[0x0]===_0x46c97c['x']&&_0x364e24[0x1]===_0x46c97c['y']||(_0x4fe78c['uniform2f'](this['addr'],_0x46c97c['x'],_0x46c97c['y']),_0x364e24[0x0]=_0x46c97c['x'],_0x364e24[0x1]=_0x46c97c['y']);else{if(_0x375f01(_0x364e24,_0x46c97c))return;_0x4fe78c['uniform2fv'](this['addr'],_0x46c97c),_0x42033b(_0x364e24,_0x46c97c);}}function _0x150878(_0x4700e1,_0x3e81ef){const _0x1b20de=this['cache'];if(void 0x0!==_0x3e81ef['x'])_0x1b20de[0x0]===_0x3e81ef['x']&&_0x1b20de[0x1]===_0x3e81ef['y']&&_0x1b20de[0x2]===_0x3e81ef['z']||(_0x4700e1['uniform3f'](this['addr'],_0x3e81ef['x'],_0x3e81ef['y'],_0x3e81ef['z']),_0x1b20de[0x0]=_0x3e81ef['x'],_0x1b20de[0x1]=_0x3e81ef['y'],_0x1b20de[0x2]=_0x3e81ef['z']);else{if(void 0x0!==_0x3e81ef['r'])_0x1b20de[0x0]===_0x3e81ef['r']&&_0x1b20de[0x1]===_0x3e81ef['g']&&_0x1b20de[0x2]===_0x3e81ef['b']||(_0x4700e1['uniform3f'](this['addr'],_0x3e81ef['r'],_0x3e81ef['g'],_0x3e81ef['b']),_0x1b20de[0x0]=_0x3e81ef['r'],_0x1b20de[0x1]=_0x3e81ef['g'],_0x1b20de[0x2]=_0x3e81ef['b']);else{if(_0x375f01(_0x1b20de,_0x3e81ef))return;_0x4700e1['uniform3fv'](this['addr'],_0x3e81ef),_0x42033b(_0x1b20de,_0x3e81ef);}}}function _0x2c2fda(_0x580474,_0x583b36){const _0x321856=this['cache'];if(void 0x0!==_0x583b36['x'])_0x321856[0x0]===_0x583b36['x']&&_0x321856[0x1]===_0x583b36['y']&&_0x321856[0x2]===_0x583b36['z']&&_0x321856[0x3]===_0x583b36['w']||(_0x580474['uniform4f'](this['addr'],_0x583b36['x'],_0x583b36['y'],_0x583b36['z'],_0x583b36['w']),_0x321856[0x0]=_0x583b36['x'],_0x321856[0x1]=_0x583b36['y'],_0x321856[0x2]=_0x583b36['z'],_0x321856[0x3]=_0x583b36['w']);else{if(_0x375f01(_0x321856,_0x583b36))return;_0x580474['uniform4fv'](this['addr'],_0x583b36),_0x42033b(_0x321856,_0x583b36);}}function _0x3767e4(_0x3fd550,_0x582808){const _0x298086=this['cache'],_0x437f03=_0x582808['elements'];if(void 0x0===_0x437f03){if(_0x375f01(_0x298086,_0x582808))return;_0x3fd550['uniformMatrix2fv'](this['addr'],!0x1,_0x582808),_0x42033b(_0x298086,_0x582808);}else{if(_0x375f01(_0x298086,_0x437f03))return;_0x5e8d06['set'](_0x437f03),_0x3fd550['uniformMatrix2fv'](this['addr'],!0x1,_0x5e8d06),_0x42033b(_0x298086,_0x437f03);}}function _0x29e190(_0x1954ca,_0x493b75){const _0x2d0090=this['cache'],_0x282a3b=_0x493b75['elements'];if(void 0x0===_0x282a3b){if(_0x375f01(_0x2d0090,_0x493b75))return;_0x1954ca['uniformMatrix3fv'](this['addr'],!0x1,_0x493b75),_0x42033b(_0x2d0090,_0x493b75);}else{if(_0x375f01(_0x2d0090,_0x282a3b))return;_0x7433f8['set'](_0x282a3b),_0x1954ca['uniformMatrix3fv'](this['addr'],!0x1,_0x7433f8),_0x42033b(_0x2d0090,_0x282a3b);}}function _0x33573d(_0x85cd03,_0x3caedb){const _0x49a290=this['cache'],_0x449239=_0x3caedb['elements'];if(void 0x0===_0x449239){if(_0x375f01(_0x49a290,_0x3caedb))return;_0x85cd03['uniformMatrix4fv'](this['addr'],!0x1,_0x3caedb),_0x42033b(_0x49a290,_0x3caedb);}else{if(_0x375f01(_0x49a290,_0x449239))return;_0x4d38fe['set'](_0x449239),_0x85cd03['uniformMatrix4fv'](this['addr'],!0x1,_0x4d38fe),_0x42033b(_0x49a290,_0x449239);}}function _0x11b297(_0x389998,_0x30a123){const _0x15f71d=this['cache'];_0x15f71d[0x0]!==_0x30a123&&(_0x389998['uniform1i'](this['addr'],_0x30a123),_0x15f71d[0x0]=_0x30a123);}function _0x26ec13(_0x26ad15,_0x294e26){const _0x23176e=this['cache'];if(void 0x0!==_0x294e26['x'])_0x23176e[0x0]===_0x294e26['x']&&_0x23176e[0x1]===_0x294e26['y']||(_0x26ad15['uniform2i'](this['addr'],_0x294e26['x'],_0x294e26['y']),_0x23176e[0x0]=_0x294e26['x'],_0x23176e[0x1]=_0x294e26['y']);else{if(_0x375f01(_0x23176e,_0x294e26))return;_0x26ad15['uniform2iv'](this['addr'],_0x294e26),_0x42033b(_0x23176e,_0x294e26);}}function _0x55a14f(_0x5eca3e,_0x30a339){const _0x49fce6=this['cache'];if(void 0x0!==_0x30a339['x'])_0x49fce6[0x0]===_0x30a339['x']&&_0x49fce6[0x1]===_0x30a339['y']&&_0x49fce6[0x2]===_0x30a339['z']||(_0x5eca3e['uniform3i'](this['addr'],_0x30a339['x'],_0x30a339['y'],_0x30a339['z']),_0x49fce6[0x0]=_0x30a339['x'],_0x49fce6[0x1]=_0x30a339['y'],_0x49fce6[0x2]=_0x30a339['z']);else{if(_0x375f01(_0x49fce6,_0x30a339))return;_0x5eca3e['uniform3iv'](this['addr'],_0x30a339),_0x42033b(_0x49fce6,_0x30a339);}}function _0x5cd4e3(_0x24c32d,_0x446cef){const _0x195219=this['cache'];if(void 0x0!==_0x446cef['x'])_0x195219[0x0]===_0x446cef['x']&&_0x195219[0x1]===_0x446cef['y']&&_0x195219[0x2]===_0x446cef['z']&&_0x195219[0x3]===_0x446cef['w']||(_0x24c32d['uniform4i'](this['addr'],_0x446cef['x'],_0x446cef['y'],_0x446cef['z'],_0x446cef['w']),_0x195219[0x0]=_0x446cef['x'],_0x195219[0x1]=_0x446cef['y'],_0x195219[0x2]=_0x446cef['z'],_0x195219[0x3]=_0x446cef['w']);else{if(_0x375f01(_0x195219,_0x446cef))return;_0x24c32d['uniform4iv'](this['addr'],_0x446cef),_0x42033b(_0x195219,_0x446cef);}}function _0x5c48a6(_0x4a1149,_0x5a7ffc){const _0x224398=this['cache'];_0x224398[0x0]!==_0x5a7ffc&&(_0x4a1149['uniform1ui'](this['addr'],_0x5a7ffc),_0x224398[0x0]=_0x5a7ffc);}function _0x351bc5(_0x4d43b5,_0x21f828){const _0x5d21d0=this['cache'];if(void 0x0!==_0x21f828['x'])_0x5d21d0[0x0]===_0x21f828['x']&&_0x5d21d0[0x1]===_0x21f828['y']||(_0x4d43b5['uniform2ui'](this['addr'],_0x21f828['x'],_0x21f828['y']),_0x5d21d0[0x0]=_0x21f828['x'],_0x5d21d0[0x1]=_0x21f828['y']);else{if(_0x375f01(_0x5d21d0,_0x21f828))return;_0x4d43b5['uniform2uiv'](this['addr'],_0x21f828),_0x42033b(_0x5d21d0,_0x21f828);}}function _0x143e78(_0x201655,_0x2401a1){const _0x1402a2=this['cache'];if(void 0x0!==_0x2401a1['x'])_0x1402a2[0x0]===_0x2401a1['x']&&_0x1402a2[0x1]===_0x2401a1['y']&&_0x1402a2[0x2]===_0x2401a1['z']||(_0x201655['uniform3ui'](this['addr'],_0x2401a1['x'],_0x2401a1['y'],_0x2401a1['z']),_0x1402a2[0x0]=_0x2401a1['x'],_0x1402a2[0x1]=_0x2401a1['y'],_0x1402a2[0x2]=_0x2401a1['z']);else{if(_0x375f01(_0x1402a2,_0x2401a1))return;_0x201655['uniform3uiv'](this['addr'],_0x2401a1),_0x42033b(_0x1402a2,_0x2401a1);}}function _0x5cf05a(_0x45d92a,_0x5baafe){const _0x5936b6=this['cache'];if(void 0x0!==_0x5baafe['x'])_0x5936b6[0x0]===_0x5baafe['x']&&_0x5936b6[0x1]===_0x5baafe['y']&&_0x5936b6[0x2]===_0x5baafe['z']&&_0x5936b6[0x3]===_0x5baafe['w']||(_0x45d92a['uniform4ui'](this['addr'],_0x5baafe['x'],_0x5baafe['y'],_0x5baafe['z'],_0x5baafe['w']),_0x5936b6[0x0]=_0x5baafe['x'],_0x5936b6[0x1]=_0x5baafe['y'],_0x5936b6[0x2]=_0x5baafe['z'],_0x5936b6[0x3]=_0x5baafe['w']);else{if(_0x375f01(_0x5936b6,_0x5baafe))return;_0x45d92a['uniform4uiv'](this['addr'],_0x5baafe),_0x42033b(_0x5936b6,_0x5baafe);}}function _0x55bebd(_0xb2cfa4,_0x501764,_0x14a2d8){const _0x4f8139=this['cache'],_0x42509b=_0x14a2d8['allocateTextureUnit']();let _0x5865d3;_0x4f8139[0x0]!==_0x42509b&&(_0xb2cfa4['uniform1i'](this['addr'],_0x42509b),_0x4f8139[0x0]=_0x42509b),this['type']===_0xb2cfa4['SAMPLER_2D_SHADOW']?(_0x5993a2['compareFunction']=_0x207dba['TiK'],_0x5865d3=_0x5993a2):_0x5865d3=_0xd8d95a,_0x14a2d8['setTexture2D'](_0x501764||_0x5865d3,_0x42509b);}function _0xec83f0(_0x20aafb,_0x3e31d5,_0x17aa59){const _0x230929=this['cache'],_0x3fb2a6=_0x17aa59['allocateTextureUnit']();_0x230929[0x0]!==_0x3fb2a6&&(_0x20aafb['uniform1i'](this['addr'],_0x3fb2a6),_0x230929[0x0]=_0x3fb2a6),_0x17aa59['setTexture3D'](_0x3e31d5||_0x588269,_0x3fb2a6);}function _0x4c4f6c(_0x166315,_0x53b90e,_0x32e3a7){const _0x3b1207=this['cache'],_0x51e309=_0x32e3a7['allocateTextureUnit']();_0x3b1207[0x0]!==_0x51e309&&(_0x166315['uniform1i'](this['addr'],_0x51e309),_0x3b1207[0x0]=_0x51e309),_0x32e3a7['setTextureCube'](_0x53b90e||_0x175ac3,_0x51e309);}function _0x5a9243(_0x17117a,_0x433a2c,_0x27dd8b){const _0x18c1fb=this['cache'],_0x14942a=_0x27dd8b['allocateTextureUnit']();_0x18c1fb[0x0]!==_0x14942a&&(_0x17117a['uniform1i'](this['addr'],_0x14942a),_0x18c1fb[0x0]=_0x14942a),_0x27dd8b['setTexture2DArray'](_0x433a2c||_0x56c9ed,_0x14942a);}function _0x167354(_0x375239,_0x36dbdc){_0x375239['uniform1fv'](this['addr'],_0x36dbdc);}function _0x1bcbfb(_0x28ae59,_0x30ea65){const _0x354e1f=_0x19a3de(_0x30ea65,this['size'],0x2);_0x28ae59['uniform2fv'](this['addr'],_0x354e1f);}function _0x1f7502(_0x4f84b4,_0x2bd077){const _0x4ea147=_0x19a3de(_0x2bd077,this['size'],0x3);_0x4f84b4['uniform3fv'](this['addr'],_0x4ea147);}function _0x2733aa(_0x19b92b,_0x12593a){const _0x873626=_0x19a3de(_0x12593a,this['size'],0x4);_0x19b92b['uniform4fv'](this['addr'],_0x873626);}function _0x4369d1(_0x2d229b,_0x23afbb){const _0x16d553=_0x19a3de(_0x23afbb,this['size'],0x4);_0x2d229b['uniformMatrix2fv'](this['addr'],!0x1,_0x16d553);}function _0x2155ef(_0x1b68c3,_0x1157cd){const _0x42019f=_0x19a3de(_0x1157cd,this['size'],0x9);_0x1b68c3['uniformMatrix3fv'](this['addr'],!0x1,_0x42019f);}function _0x270540(_0x49cb47,_0x54f726){const _0x21ce52=_0x19a3de(_0x54f726,this['size'],0x10);_0x49cb47['uniformMatrix4fv'](this['addr'],!0x1,_0x21ce52);}function _0x367a96(_0x541584,_0x181595){_0x541584['uniform1iv'](this['addr'],_0x181595);}function _0x3c0b90(_0x200060,_0x51665e){_0x200060['uniform2iv'](this['addr'],_0x51665e);}function _0x3ac5d8(_0x453cd5,_0x3fd66b){_0x453cd5['uniform3iv'](this['addr'],_0x3fd66b);}function _0x2a18d8(_0x5c9764,_0xa4e296){_0x5c9764['uniform4iv'](this['addr'],_0xa4e296);}function _0x147688(_0x248123,_0xe4526){_0x248123['uniform1uiv'](this['addr'],_0xe4526);}function _0x3dc6a6(_0x49bd95,_0x568c69){_0x49bd95['uniform2uiv'](this['addr'],_0x568c69);}function _0x1c5327(_0x2f84b6,_0x4d678f){_0x2f84b6['uniform3uiv'](this['addr'],_0x4d678f);}function _0x1a4161(_0xd12bb0,_0x58fd46){_0xd12bb0['uniform4uiv'](this['addr'],_0x58fd46);}function _0x51f617(_0x3e9bb7,_0x4e6f69,_0x4d27e7){const _0x5e79af=this['cache'],_0x30c50a=_0x4e6f69['length'],_0x312567=_0x373d36(_0x4d27e7,_0x30c50a);_0x375f01(_0x5e79af,_0x312567)||(_0x3e9bb7['uniform1iv'](this['addr'],_0x312567),_0x42033b(_0x5e79af,_0x312567));for(let _0xd7a6de=0x0;_0xd7a6de!==_0x30c50a;++_0xd7a6de)_0x4d27e7['setTexture2D'](_0x4e6f69[_0xd7a6de]||_0xd8d95a,_0x312567[_0xd7a6de]);}function _0x2e9d7e(_0x49d4f9,_0x406e68,_0x1d8b23){const _0x4077ad=this['cache'],_0x2da960=_0x406e68['length'],_0x21c737=_0x373d36(_0x1d8b23,_0x2da960);_0x375f01(_0x4077ad,_0x21c737)||(_0x49d4f9['uniform1iv'](this['addr'],_0x21c737),_0x42033b(_0x4077ad,_0x21c737));for(let _0x52de53=0x0;_0x52de53!==_0x2da960;++_0x52de53)_0x1d8b23['setTexture3D'](_0x406e68[_0x52de53]||_0x588269,_0x21c737[_0x52de53]);}function _0x1c4ee2(_0x21832c,_0x54b241,_0x2f831d){const _0x3f8d24=this['cache'],_0x251c55=_0x54b241['length'],_0x589218=_0x373d36(_0x2f831d,_0x251c55);_0x375f01(_0x3f8d24,_0x589218)||(_0x21832c['uniform1iv'](this['addr'],_0x589218),_0x42033b(_0x3f8d24,_0x589218));for(let _0x4b5cd7=0x0;_0x4b5cd7!==_0x251c55;++_0x4b5cd7)_0x2f831d['setTextureCube'](_0x54b241[_0x4b5cd7]||_0x175ac3,_0x589218[_0x4b5cd7]);}function _0x274285(_0x204129,_0x456938,_0x166b7a){const _0x2b7e8b=this['cache'],_0x57fbfd=_0x456938['length'],_0x4d4c71=_0x373d36(_0x166b7a,_0x57fbfd);_0x375f01(_0x2b7e8b,_0x4d4c71)||(_0x204129['uniform1iv'](this['addr'],_0x4d4c71),_0x42033b(_0x2b7e8b,_0x4d4c71));for(let _0x338c0f=0x0;_0x338c0f!==_0x57fbfd;++_0x338c0f)_0x166b7a['setTexture2DArray'](_0x456938[_0x338c0f]||_0x56c9ed,_0x4d4c71[_0x338c0f]);}class _0x1dc55e{constructor(_0x24fdeb,_0x2fc5cb,_0x498d1b){this['id']=_0x24fdeb,this['addr']=_0x498d1b,this['cache']=[],this['type']=_0x2fc5cb['type'],this['setValue']=function(_0x42f0ec){switch(_0x42f0ec){case 0x1406:return _0x5c8da3;case 0x8b50:return _0x2f677e;case 0x8b51:return _0x150878;case 0x8b52:return _0x2c2fda;case 0x8b5a:return _0x3767e4;case 0x8b5b:return _0x29e190;case 0x8b5c:return _0x33573d;case 0x1404:case 0x8b56:return _0x11b297;case 0x8b53:case 0x8b57:return _0x26ec13;case 0x8b54:case 0x8b58:return _0x55a14f;case 0x8b55:case 0x8b59:return _0x5cd4e3;case 0x1405:return _0x5c48a6;case 0x8dc6:return _0x351bc5;case 0x8dc7:return _0x143e78;case 0x8dc8:return _0x5cf05a;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x55bebd;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0xec83f0;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x4c4f6c;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x5a9243;}}(_0x2fc5cb['type']);}}class _0x853207{constructor(_0x15f5cc,_0x1e6c46,_0x2c778e){this['id']=_0x15f5cc,this['addr']=_0x2c778e,this['cache']=[],this['type']=_0x1e6c46['type'],this['size']=_0x1e6c46['size'],this['setValue']=function(_0x493933){switch(_0x493933){case 0x1406:return _0x167354;case 0x8b50:return _0x1bcbfb;case 0x8b51:return _0x1f7502;case 0x8b52:return _0x2733aa;case 0x8b5a:return _0x4369d1;case 0x8b5b:return _0x2155ef;case 0x8b5c:return _0x270540;case 0x1404:case 0x8b56:return _0x367a96;case 0x8b53:case 0x8b57:return _0x3c0b90;case 0x8b54:case 0x8b58:return _0x3ac5d8;case 0x8b55:case 0x8b59:return _0x2a18d8;case 0x1405:return _0x147688;case 0x8dc6:return _0x3dc6a6;case 0x8dc7:return _0x1c5327;case 0x8dc8:return _0x1a4161;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x51f617;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x2e9d7e;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x1c4ee2;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x274285;}}(_0x1e6c46['type']);}}class _0x5d34eb{constructor(_0x3fd6ae){this['id']=_0x3fd6ae,this['seq']=[],this['map']={};}['setValue'](_0x4fcc17,_0x5f3d0e,_0x362c95){const _0x40a5e5=this['seq'];for(let _0x3cd683=0x0,_0x1fc177=_0x40a5e5['length'];_0x3cd683!==_0x1fc177;++_0x3cd683){const _0x38bb9d=_0x40a5e5[_0x3cd683];_0x38bb9d['setValue'](_0x4fcc17,_0x5f3d0e[_0x38bb9d['id']],_0x362c95);}}}const _0x2aaaa0=/(\w+)(\])?(\[|\.)?/g;function _0x2b717a(_0x256975,_0x841896){_0x256975['seq']['push'](_0x841896),_0x256975['map'][_0x841896['id']]=_0x841896;}function _0x2f1b8d(_0x11c7ed,_0x2527d8,_0x5471ce){const _0x1bb971=_0x11c7ed['name'],_0x1597b3=_0x1bb971['length'];for(_0x2aaaa0['lastIndex']=0x0;;){const _0x24fc4c=_0x2aaaa0['exec'](_0x1bb971),_0x2acdfd=_0x2aaaa0['lastIndex'];let _0x22f974=_0x24fc4c[0x1];const _0x573988=']'===_0x24fc4c[0x2],_0x4091d0=_0x24fc4c[0x3];if(_0x573988&&(_0x22f974|=0x0),void 0x0===_0x4091d0||'['===_0x4091d0&&_0x2acdfd+0x2===_0x1597b3){_0x2b717a(_0x5471ce,void 0x0===_0x4091d0?new _0x1dc55e(_0x22f974,_0x11c7ed,_0x2527d8):new _0x853207(_0x22f974,_0x11c7ed,_0x2527d8));break;}{let _0x2f4aac=_0x5471ce['map'][_0x22f974];void 0x0===_0x2f4aac&&(_0x2f4aac=new _0x5d34eb(_0x22f974),_0x2b717a(_0x5471ce,_0x2f4aac)),_0x5471ce=_0x2f4aac;}}}class _0x13aa91{constructor(_0x352337,_0x494c32){this['seq']=[],this['map']={};const _0x5a2b31=_0x352337['getProgramParameter'](_0x494c32,_0x352337['ACTIVE_UNIFORMS']);for(let _0x4c7b89=0x0;_0x4c7b89<_0x5a2b31;++_0x4c7b89){const _0x583d11=_0x352337['getActiveUniform'](_0x494c32,_0x4c7b89);_0x2f1b8d(_0x583d11,_0x352337['getUniformLocation'](_0x494c32,_0x583d11['name']),this);}}['setValue'](_0x5f0cac,_0x17f876,_0x55e2f7,_0x25b8c6){const _0x30702d=this['map'][_0x17f876];void 0x0!==_0x30702d&&_0x30702d['setValue'](_0x5f0cac,_0x55e2f7,_0x25b8c6);}['setOptional'](_0x85615a,_0x4289fe,_0x36bfdb){const _0xe1063d=_0x4289fe[_0x36bfdb];void 0x0!==_0xe1063d&&this['setValue'](_0x85615a,_0x36bfdb,_0xe1063d);}static['upload'](_0x440113,_0x3060f3,_0x2b5e69,_0x565210){for(let _0x373ae5=0x0,_0x3599b5=_0x3060f3['length'];_0x373ae5!==_0x3599b5;++_0x373ae5){const _0x29d461=_0x3060f3[_0x373ae5],_0x4b94d7=_0x2b5e69[_0x29d461['id']];!0x1!==_0x4b94d7['needsUpdate']&&_0x29d461['setValue'](_0x440113,_0x4b94d7['value'],_0x565210);}}static['seqWithValue'](_0x254f33,_0x67536d){const _0x4e9c79=[];for(let _0x45faa1=0x0,_0x4962ed=_0x254f33['length'];_0x45faa1!==_0x4962ed;++_0x45faa1){const _0x313390=_0x254f33[_0x45faa1];_0x313390['id']in _0x67536d&&_0x4e9c79['push'](_0x313390);}return _0x4e9c79;}}function _0x384558(_0x2bed92,_0x4d92e6,_0x7ce7c3){const _0x2cf247=_0x2bed92['createShader'](_0x4d92e6);return _0x2bed92['shaderSource'](_0x2cf247,_0x7ce7c3),_0x2bed92['compileShader'](_0x2cf247),_0x2cf247;}const _0x2ad3da=0x91b1;let _0x340370=0x0;const _0x5c8d08=new _0x207dba['dwI']();function _0x5f4042(_0x381964,_0x10b52c,_0x57296a){const _0x5be9ba=_0x381964['getShaderParameter'](_0x10b52c,_0x381964['COMPILE_STATUS']),_0x2dc88e=_0x381964['getShaderInfoLog'](_0x10b52c)['trim']();if(_0x5be9ba&&''===_0x2dc88e)return'';const _0xa6a558=/ERROR: 0:(\d+)/['exec'](_0x2dc88e);if(_0xa6a558){const _0x529cfd=parseInt(_0xa6a558[0x1]);return _0x57296a['toUpperCase']()+'\x0a\x0a'+_0x2dc88e+'\x0a\x0a'+function(_0xb8f459,_0x3e8a0d){const _0x68fb46=_0xb8f459['split']('\x0a'),_0x2436f2=[],_0x36bdd0=Math['max'](_0x3e8a0d-0x6,0x0),_0x122ffd=Math['min'](_0x3e8a0d+0x6,_0x68fb46['length']);for(let _0x2e715b=_0x36bdd0;_0x2e715b<_0x122ffd;_0x2e715b++){const _0xc2156d=_0x2e715b+0x1;_0x2436f2['push']((_0xc2156d===_0x3e8a0d?'>':'\x20')+'\x20'+_0xc2156d+':\x20'+_0x68fb46[_0x2e715b]);}return _0x2436f2['join']('\x0a');}(_0x381964['getShaderSource'](_0x10b52c),_0x529cfd);}return _0x2dc88e;}function _0x4c2849(_0x18c404,_0x21fe18){const _0x1143d0=function(_0xb0db0){_0x207dba['ppV']['_getMatrix'](_0x5c8d08,_0x207dba['ppV']['workingColorSpace'],_0xb0db0);const _0x20957f='mat3(\x20'+_0x5c8d08['elements']['map'](_0x26b5b8=>_0x26b5b8['toFixed'](0x4))+'\x20)';switch(_0x207dba['ppV']['getTransfer'](_0xb0db0)){case _0x207dba['VxR']:return[_0x20957f,'LinearTransferOETF'];case _0x207dba['KLL']:return[_0x20957f,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0xb0db0),[_0x20957f,'LinearTransferOETF'];}}(_0x21fe18);return['vec4\x20'+_0x18c404+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x1143d0[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x1143d0[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x1ff267(_0x592d13,_0x3c8a74){let _0x5e8bfc;switch(_0x3c8a74){case _0x207dba['kyO']:_0x5e8bfc='Linear';break;case _0x207dba['Mjd']:_0x5e8bfc='Reinhard';break;case _0x207dba['nNL']:_0x5e8bfc='Cineon';break;case _0x207dba['FV']:_0x5e8bfc='ACESFilmic';break;case _0x207dba['LAk']:_0x5e8bfc='AgX';break;case _0x207dba['aJ8']:_0x5e8bfc='Neutral';break;case _0x207dba['g7M']:_0x5e8bfc='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0x3c8a74),_0x5e8bfc='Linear';}return'vec3\x20'+_0x592d13+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x5e8bfc+'ToneMapping(\x20color\x20);\x20}';}const _0x10fff1=new _0x207dba['Pq0']();function _0x583ada(){return _0x207dba['ppV']['getLuminanceCoefficients'](_0x10fff1),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x10fff1['x']['toFixed'](0x4)+',\x20'+_0x10fff1['y']['toFixed'](0x4)+',\x20'+_0x10fff1['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x254322(_0x11a445){return''!==_0x11a445;}function _0x31d876(_0xa27083,_0xb7603e){const _0x5a83b7=_0xb7603e['numSpotLightShadows']+_0xb7603e['numSpotLightMaps']-_0xb7603e['numSpotLightShadowsWithMaps'];return _0xa27083['replace'](/NUM_DIR_LIGHTS/g,_0xb7603e['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0xb7603e['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0xb7603e['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x5a83b7)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0xb7603e['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0xb7603e['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0xb7603e['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0xb7603e['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0xb7603e['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0xb7603e['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0xb7603e['numPointLightShadows']);}function _0x357d2e(_0x49df22,_0x3bfa83){return _0x49df22['replace'](/NUM_CLIPPING_PLANES/g,_0x3bfa83['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0x3bfa83['numClippingPlanes']-_0x3bfa83['numClipIntersection']);}const _0x448a58=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x497f47(_0x539db7){return _0x539db7['replace'](_0x448a58,_0xf8312);}const _0x345b87=new Map();function _0xf8312(_0xcab908,_0x1e64ac){let _0x476834=_0x1a7ea4[_0x1e64ac];if(void 0x0===_0x476834){const _0x20d337=_0x345b87['get'](_0x1e64ac);if(void 0x0===_0x20d337)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x1e64ac+'>');_0x476834=_0x1a7ea4[_0x20d337],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0x1e64ac,_0x20d337);}return _0x497f47(_0x476834);}const _0xe87c46=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0x4a453e(_0x194544){return _0x194544['replace'](_0xe87c46,_0xe77e7d);}function _0xe77e7d(_0x1f87b9,_0x3a6df1,_0x2b2fe0,_0xf7382b){let _0x18e7c6='';for(let _0x4a43fd=parseInt(_0x3a6df1);_0x4a43fd<parseInt(_0x2b2fe0);_0x4a43fd++)_0x18e7c6+=_0xf7382b['replace'](/\[\s*i\s*\]/g,'[\x20'+_0x4a43fd+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0x4a43fd);return _0x18e7c6;}function _0x486061(_0x16e292){let _0x250a65='precision\x20'+_0x16e292['precision']+'\x20float;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20int;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x16e292['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x16e292['precision']?_0x250a65+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x16e292['precision']?_0x250a65+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x16e292['precision']&&(_0x250a65+='\x0a#define\x20LOW_PRECISION'),_0x250a65;}function _0x23bf12(_0x315d88,_0x316581,_0x4b7abd,_0x5dcc3e){const _0x10b97b=_0x315d88['getContext'](),_0xf2d11=_0x4b7abd['defines'];let _0x3048ac=_0x4b7abd['vertexShader'],_0x161025=_0x4b7abd['fragmentShader'];const _0x528641=function(_0x300040){let _0x10aa4c='SHADOWMAP_TYPE_BASIC';return _0x300040['shadowMapType']===_0x207dba['QP0']?_0x10aa4c='SHADOWMAP_TYPE_PCF':_0x300040['shadowMapType']===_0x207dba['Wk7']?_0x10aa4c='SHADOWMAP_TYPE_PCF_SOFT':_0x300040['shadowMapType']===_0x207dba['RyA']&&(_0x10aa4c='SHADOWMAP_TYPE_VSM'),_0x10aa4c;}(_0x4b7abd),_0x250c96=function(_0x1bb83f){let _0x479ba0='ENVMAP_TYPE_CUBE';if(_0x1bb83f['envMap'])switch(_0x1bb83f['envMapMode']){case _0x207dba['hy7']:case _0x207dba['xFO']:_0x479ba0='ENVMAP_TYPE_CUBE';break;case _0x207dba['Om']:_0x479ba0='ENVMAP_TYPE_CUBE_UV';}return _0x479ba0;}(_0x4b7abd),_0x112f2a=function(_0x53f538){let _0x562676='ENVMAP_MODE_REFLECTION';return _0x53f538['envMap']&&_0x53f538['envMapMode']===_0x207dba['xFO']&&(_0x562676='ENVMAP_MODE_REFRACTION'),_0x562676;}(_0x4b7abd),_0x174914=function(_0x2b0f41){let _0x29a365='ENVMAP_BLENDING_NONE';if(_0x2b0f41['envMap'])switch(_0x2b0f41['combine']){case _0x207dba['caT']:_0x29a365='ENVMAP_BLENDING_MULTIPLY';break;case _0x207dba['KRh']:_0x29a365='ENVMAP_BLENDING_MIX';break;case _0x207dba['XrR']:_0x29a365='ENVMAP_BLENDING_ADD';}return _0x29a365;}(_0x4b7abd),_0x4085bd=function(_0x4895ef){const _0xa75490=_0x4895ef['envMapCubeUVHeight'];if(null===_0xa75490)return null;const _0x1578da=Math['log2'](_0xa75490)-0x2,_0xdaf60b=0x1/_0xa75490;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x1578da),0x70)),'texelHeight':_0xdaf60b,'maxMip':_0x1578da};}(_0x4b7abd),_0x4efb2d=function(_0x1f72cc){return[_0x1f72cc['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x1f72cc['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x254322)['join']('\x0a');}(_0x4b7abd),_0x192be0=function(_0x4b5304){const _0x2a9bfa=[];for(const _0x3155c7 in _0x4b5304){const _0x3ea9ab=_0x4b5304[_0x3155c7];!0x1!==_0x3ea9ab&&_0x2a9bfa['push']('#define\x20'+_0x3155c7+'\x20'+_0x3ea9ab);}return _0x2a9bfa['join']('\x0a');}(_0xf2d11),_0x259bab=_0x10b97b['createProgram']();let _0x547f59,_0x17ecee,_0x3f0766=_0x4b7abd['glslVersion']?'#version\x20'+_0x4b7abd['glslVersion']+'\x0a':'';_0x4b7abd['isRawShaderMaterial']?(_0x547f59=['#define\x20SHADER_TYPE\x20'+_0x4b7abd['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4b7abd['shaderName'],_0x192be0]['filter'](_0x254322)['join']('\x0a'),_0x547f59['length']>0x0&&(_0x547f59+='\x0a'),_0x17ecee=['#define\x20SHADER_TYPE\x20'+_0x4b7abd['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4b7abd['shaderName'],_0x192be0]['filter'](_0x254322)['join']('\x0a'),_0x17ecee['length']>0x0&&(_0x17ecee+='\x0a')):(_0x547f59=[_0x486061(_0x4b7abd),'#define\x20SHADER_TYPE\x20'+_0x4b7abd['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4b7abd['shaderName'],_0x192be0,_0x4b7abd['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x4b7abd['batching']?'#define\x20USE_BATCHING':'',_0x4b7abd['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x4b7abd['instancing']?'#define\x20USE_INSTANCING':'',_0x4b7abd['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x4b7abd['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x4b7abd['useFog']&&_0x4b7abd['fog']?'#define\x20USE_FOG':'',_0x4b7abd['useFog']&&_0x4b7abd['fogExp2']?'#define\x20FOG_EXP2':'',_0x4b7abd['map']?'#define\x20USE_MAP':'',_0x4b7abd['envMap']?'#define\x20USE_ENVMAP':'',_0x4b7abd['envMap']?'#define\x20'+_0x112f2a:'',_0x4b7abd['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x4b7abd['aoMap']?'#define\x20USE_AOMAP':'',_0x4b7abd['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x4b7abd['normalMap']?'#define\x20USE_NORMALMAP':'',_0x4b7abd['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x4b7abd['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x4b7abd['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x4b7abd['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x4b7abd['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x4b7abd['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x4b7abd['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x4b7abd['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x4b7abd['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x4b7abd['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x4b7abd['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x4b7abd['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x4b7abd['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x4b7abd['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x4b7abd['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x4b7abd['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x4b7abd['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x4b7abd['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x4b7abd['transmission']?'#define\x20USE_TRANSMISSION':'',_0x4b7abd['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x4b7abd['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x4b7abd['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x4b7abd['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x4b7abd['mapUv']?'#define\x20MAP_UV\x20'+_0x4b7abd['mapUv']:'',_0x4b7abd['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x4b7abd['alphaMapUv']:'',_0x4b7abd['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x4b7abd['lightMapUv']:'',_0x4b7abd['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x4b7abd['aoMapUv']:'',_0x4b7abd['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x4b7abd['emissiveMapUv']:'',_0x4b7abd['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x4b7abd['bumpMapUv']:'',_0x4b7abd['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x4b7abd['normalMapUv']:'',_0x4b7abd['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x4b7abd['displacementMapUv']:'',_0x4b7abd['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x4b7abd['metalnessMapUv']:'',_0x4b7abd['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x4b7abd['roughnessMapUv']:'',_0x4b7abd['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x4b7abd['anisotropyMapUv']:'',_0x4b7abd['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x4b7abd['clearcoatMapUv']:'',_0x4b7abd['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x4b7abd['clearcoatNormalMapUv']:'',_0x4b7abd['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x4b7abd['clearcoatRoughnessMapUv']:'',_0x4b7abd['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x4b7abd['iridescenceMapUv']:'',_0x4b7abd['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x4b7abd['iridescenceThicknessMapUv']:'',_0x4b7abd['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x4b7abd['sheenColorMapUv']:'',_0x4b7abd['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x4b7abd['sheenRoughnessMapUv']:'',_0x4b7abd['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x4b7abd['specularMapUv']:'',_0x4b7abd['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x4b7abd['specularColorMapUv']:'',_0x4b7abd['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x4b7abd['specularIntensityMapUv']:'',_0x4b7abd['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x4b7abd['transmissionMapUv']:'',_0x4b7abd['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x4b7abd['thicknessMapUv']:'',_0x4b7abd['vertexTangents']&&!0x1===_0x4b7abd['flatShading']?'#define\x20USE_TANGENT':'',_0x4b7abd['vertexColors']?'#define\x20USE_COLOR':'',_0x4b7abd['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x4b7abd['vertexUv1s']?'#define\x20USE_UV1':'',_0x4b7abd['vertexUv2s']?'#define\x20USE_UV2':'',_0x4b7abd['vertexUv3s']?'#define\x20USE_UV3':'',_0x4b7abd['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x4b7abd['flatShading']?'#define\x20FLAT_SHADED':'',_0x4b7abd['skinning']?'#define\x20USE_SKINNING':'',_0x4b7abd['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x4b7abd['morphNormals']&&!0x1===_0x4b7abd['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x4b7abd['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x4b7abd['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x4b7abd['morphTextureStride']:'',_0x4b7abd['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x4b7abd['morphTargetsCount']:'',_0x4b7abd['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x4b7abd['flipSided']?'#define\x20FLIP_SIDED':'',_0x4b7abd['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x4b7abd['shadowMapEnabled']?'#define\x20'+_0x528641:'',_0x4b7abd['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x4b7abd['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x4b7abd['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x4b7abd['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x254322)['join']('\x0a'),_0x17ecee=[_0x486061(_0x4b7abd),'#define\x20SHADER_TYPE\x20'+_0x4b7abd['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4b7abd['shaderName'],_0x192be0,_0x4b7abd['useFog']&&_0x4b7abd['fog']?'#define\x20USE_FOG':'',_0x4b7abd['useFog']&&_0x4b7abd['fogExp2']?'#define\x20FOG_EXP2':'',_0x4b7abd['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x4b7abd['map']?'#define\x20USE_MAP':'',_0x4b7abd['matcap']?'#define\x20USE_MATCAP':'',_0x4b7abd['envMap']?'#define\x20USE_ENVMAP':'',_0x4b7abd['envMap']?'#define\x20'+_0x250c96:'',_0x4b7abd['envMap']?'#define\x20'+_0x112f2a:'',_0x4b7abd['envMap']?'#define\x20'+_0x174914:'',_0x4085bd?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x4085bd['texelWidth']:'',_0x4085bd?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x4085bd['texelHeight']:'',_0x4085bd?'#define\x20CUBEUV_MAX_MIP\x20'+_0x4085bd['maxMip']+'.0':'',_0x4b7abd['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x4b7abd['aoMap']?'#define\x20USE_AOMAP':'',_0x4b7abd['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x4b7abd['normalMap']?'#define\x20USE_NORMALMAP':'',_0x4b7abd['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x4b7abd['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x4b7abd['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x4b7abd['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x4b7abd['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x4b7abd['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x4b7abd['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x4b7abd['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x4b7abd['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x4b7abd['dispersion']?'#define\x20USE_DISPERSION':'',_0x4b7abd['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x4b7abd['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x4b7abd['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x4b7abd['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x4b7abd['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x4b7abd['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x4b7abd['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x4b7abd['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x4b7abd['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x4b7abd['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x4b7abd['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x4b7abd['sheen']?'#define\x20USE_SHEEN':'',_0x4b7abd['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x4b7abd['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x4b7abd['transmission']?'#define\x20USE_TRANSMISSION':'',_0x4b7abd['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x4b7abd['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x4b7abd['vertexTangents']&&!0x1===_0x4b7abd['flatShading']?'#define\x20USE_TANGENT':'',_0x4b7abd['vertexColors']||_0x4b7abd['instancingColor']||_0x4b7abd['batchingColor']?'#define\x20USE_COLOR':'',_0x4b7abd['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x4b7abd['vertexUv1s']?'#define\x20USE_UV1':'',_0x4b7abd['vertexUv2s']?'#define\x20USE_UV2':'',_0x4b7abd['vertexUv3s']?'#define\x20USE_UV3':'',_0x4b7abd['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x4b7abd['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x4b7abd['flatShading']?'#define\x20FLAT_SHADED':'',_0x4b7abd['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x4b7abd['flipSided']?'#define\x20FLIP_SIDED':'',_0x4b7abd['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x4b7abd['shadowMapEnabled']?'#define\x20'+_0x528641:'',_0x4b7abd['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x4b7abd['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x4b7abd['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x4b7abd['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x4b7abd['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x4b7abd['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x4b7abd['toneMapping']!==_0x207dba['y_p']?'#define\x20TONE_MAPPING':'',_0x4b7abd['toneMapping']!==_0x207dba['y_p']?_0x1a7ea4['tonemapping_pars_fragment']:'',_0x4b7abd['toneMapping']!==_0x207dba['y_p']?_0x1ff267('toneMapping',_0x4b7abd['toneMapping']):'',_0x4b7abd['dithering']?'#define\x20DITHERING':'',_0x4b7abd['opaque']?'#define\x20OPAQUE':'',_0x1a7ea4['colorspace_pars_fragment'],_0x4c2849('linearToOutputTexel',_0x4b7abd['outputColorSpace']),_0x583ada(),_0x4b7abd['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x4b7abd['depthPacking']:'','\x0a']['filter'](_0x254322)['join']('\x0a')),_0x3048ac=_0x497f47(_0x3048ac),_0x3048ac=_0x31d876(_0x3048ac,_0x4b7abd),_0x3048ac=_0x357d2e(_0x3048ac,_0x4b7abd),_0x161025=_0x497f47(_0x161025),_0x161025=_0x31d876(_0x161025,_0x4b7abd),_0x161025=_0x357d2e(_0x161025,_0x4b7abd),_0x3048ac=_0x4a453e(_0x3048ac),_0x161025=_0x4a453e(_0x161025),!0x0!==_0x4b7abd['isRawShaderMaterial']&&(_0x3f0766='#version\x20300\x20es\x0a',_0x547f59=[_0x4efb2d,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x547f59,_0x17ecee=['#define\x20varying\x20in',_0x4b7abd['glslVersion']===_0x207dba['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x4b7abd['glslVersion']===_0x207dba['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x17ecee);const _0x3623ad=_0x3f0766+_0x547f59+_0x3048ac,_0x1dfa9d=_0x3f0766+_0x17ecee+_0x161025,_0x4c2236=_0x384558(_0x10b97b,_0x10b97b['VERTEX_SHADER'],_0x3623ad),_0x324a88=_0x384558(_0x10b97b,_0x10b97b['FRAGMENT_SHADER'],_0x1dfa9d);function _0x1358df(_0x234f6b){if(_0x315d88['debug']['checkShaderErrors']){const _0x18ed3f=_0x10b97b['getProgramInfoLog'](_0x259bab)['trim'](),_0x12ac17=_0x10b97b['getShaderInfoLog'](_0x4c2236)['trim'](),_0x14433e=_0x10b97b['getShaderInfoLog'](_0x324a88)['trim']();let _0x59e42c=!0x0,_0x47dd45=!0x0;if(!0x1===_0x10b97b['getProgramParameter'](_0x259bab,_0x10b97b['LINK_STATUS'])){if(_0x59e42c=!0x1,'function'==typeof _0x315d88['debug']['onShaderError'])_0x315d88['debug']['onShaderError'](_0x10b97b,_0x259bab,_0x4c2236,_0x324a88);else{const _0x4655cb=_0x5f4042(_0x10b97b,_0x4c2236,'vertex'),_0xd687b5=_0x5f4042(_0x10b97b,_0x324a88,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x10b97b['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x10b97b['getProgramParameter'](_0x259bab,_0x10b97b['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0x234f6b['name']+'\x0aMaterial\x20Type:\x20'+_0x234f6b['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0x18ed3f+'\x0a'+_0x4655cb+'\x0a'+_0xd687b5);}}else''!==_0x18ed3f?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0x18ed3f):''!==_0x12ac17&&''!==_0x14433e||(_0x47dd45=!0x1);_0x47dd45&&(_0x234f6b['diagnostics']={'runnable':_0x59e42c,'programLog':_0x18ed3f,'vertexShader':{'log':_0x12ac17,'prefix':_0x547f59},'fragmentShader':{'log':_0x14433e,'prefix':_0x17ecee}});}_0x10b97b['deleteShader'](_0x4c2236),_0x10b97b['deleteShader'](_0x324a88),_0x4e6902=new _0x13aa91(_0x10b97b,_0x259bab),_0x1ae367=function(_0x416fac,_0x32cbfa){const _0x1bc619={},_0x372aad=_0x416fac['getProgramParameter'](_0x32cbfa,_0x416fac['ACTIVE_ATTRIBUTES']);for(let _0x19ef0f=0x0;_0x19ef0f<_0x372aad;_0x19ef0f++){const _0x5c7333=_0x416fac['getActiveAttrib'](_0x32cbfa,_0x19ef0f),_0x25af27=_0x5c7333['name'];let _0x101f04=0x1;_0x5c7333['type']===_0x416fac['FLOAT_MAT2']&&(_0x101f04=0x2),_0x5c7333['type']===_0x416fac['FLOAT_MAT3']&&(_0x101f04=0x3),_0x5c7333['type']===_0x416fac['FLOAT_MAT4']&&(_0x101f04=0x4),_0x1bc619[_0x25af27]={'type':_0x5c7333['type'],'location':_0x416fac['getAttribLocation'](_0x32cbfa,_0x25af27),'locationSize':_0x101f04};}return _0x1bc619;}(_0x10b97b,_0x259bab);}let _0x4e6902,_0x1ae367;_0x10b97b['attachShader'](_0x259bab,_0x4c2236),_0x10b97b['attachShader'](_0x259bab,_0x324a88),void 0x0!==_0x4b7abd['index0AttributeName']?_0x10b97b['bindAttribLocation'](_0x259bab,0x0,_0x4b7abd['index0AttributeName']):!0x0===_0x4b7abd['morphTargets']&&_0x10b97b['bindAttribLocation'](_0x259bab,0x0,'position'),_0x10b97b['linkProgram'](_0x259bab),this['getUniforms']=function(){return void 0x0===_0x4e6902&&_0x1358df(this),_0x4e6902;},this['getAttributes']=function(){return void 0x0===_0x1ae367&&_0x1358df(this),_0x1ae367;};let _0x39dcfa=!0x1===_0x4b7abd['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x39dcfa&&(_0x39dcfa=_0x10b97b['getProgramParameter'](_0x259bab,_0x2ad3da)),_0x39dcfa;},this['destroy']=function(){_0x5dcc3e['releaseStatesOfProgram'](this),_0x10b97b['deleteProgram'](_0x259bab),this['program']=void 0x0;},this['type']=_0x4b7abd['shaderType'],this['name']=_0x4b7abd['shaderName'],this['id']=_0x340370++,this['cacheKey']=_0x316581,this['usedTimes']=0x1,this['program']=_0x259bab,this['vertexShader']=_0x4c2236,this['fragmentShader']=_0x324a88,this;}let _0x41bafe=0x0;class _0xd2dd25{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0x29dd0f){const _0x5ea36b=_0x29dd0f['vertexShader'],_0x4eed89=_0x29dd0f['fragmentShader'],_0xf8dcee=this['_getShaderStage'](_0x5ea36b),_0x507141=this['_getShaderStage'](_0x4eed89),_0x3db1fb=this['_getShaderCacheForMaterial'](_0x29dd0f);return!0x1===_0x3db1fb['has'](_0xf8dcee)&&(_0x3db1fb['add'](_0xf8dcee),_0xf8dcee['usedTimes']++),!0x1===_0x3db1fb['has'](_0x507141)&&(_0x3db1fb['add'](_0x507141),_0x507141['usedTimes']++),this;}['remove'](_0x1938ba){const _0x289c49=this['materialCache']['get'](_0x1938ba);for(const _0x390c71 of _0x289c49)_0x390c71['usedTimes']--,0x0===_0x390c71['usedTimes']&&this['shaderCache']['delete'](_0x390c71['code']);return this['materialCache']['delete'](_0x1938ba),this;}['getVertexShaderID'](_0xf169ff){return this['_getShaderStage'](_0xf169ff['vertexShader'])['id'];}['getFragmentShaderID'](_0x506638){return this['_getShaderStage'](_0x506638['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x58c330){const _0x3f07c2=this['materialCache'];let _0x46b5b1=_0x3f07c2['get'](_0x58c330);return void 0x0===_0x46b5b1&&(_0x46b5b1=new Set(),_0x3f07c2['set'](_0x58c330,_0x46b5b1)),_0x46b5b1;}['_getShaderStage'](_0x46e6e2){const _0x40b780=this['shaderCache'];let _0x260057=_0x40b780['get'](_0x46e6e2);return void 0x0===_0x260057&&(_0x260057=new _0x29e995(_0x46e6e2),_0x40b780['set'](_0x46e6e2,_0x260057)),_0x260057;}}class _0x29e995{constructor(_0x289b74){this['id']=_0x41bafe++,this['code']=_0x289b74,this['usedTimes']=0x0;}}function _0x483e5d(_0x511686,_0x15fe66,_0x557bdd,_0x28ae1e,_0xa92a16,_0x11c42b,_0xa2a5b8){const _0x2a2823=new _0x207dba['zgK'](),_0x4dd05a=new _0xd2dd25(),_0xcc9183=new Set(),_0x59376b=[],_0x144ec3=_0xa92a16['logarithmicDepthBuffer'],_0x2e3a0c=_0xa92a16['vertexTextures'];let _0x126f3b=_0xa92a16['precision'];const _0x568052={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0x5dfe53(_0x4a68af){return _0xcc9183['add'](_0x4a68af),0x0===_0x4a68af?'uv':'uv'+_0x4a68af;}return{'getParameters':function(_0x4ba38b,_0x5d08a2,_0xceb123,_0x150991,_0x45ff47){const _0x2d407a=_0x150991['fog'],_0x272dc1=_0x45ff47['geometry'],_0x280384=_0x4ba38b['isMeshStandardMaterial']?_0x150991['environment']:null,_0x15e546=(_0x4ba38b['isMeshStandardMaterial']?_0x557bdd:_0x15fe66)['get'](_0x4ba38b['envMap']||_0x280384),_0x3155f6=_0x15e546&&_0x15e546['mapping']===_0x207dba['Om']?_0x15e546['image']['height']:null,_0x17490d=_0x568052[_0x4ba38b['type']];null!==_0x4ba38b['precision']&&(_0x126f3b=_0xa92a16['getMaxPrecision'](_0x4ba38b['precision']),_0x126f3b!==_0x4ba38b['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x4ba38b['precision'],'not\x20supported,\x20using',_0x126f3b,'instead.'));const _0x5ce1c6=_0x272dc1['morphAttributes']['position']||_0x272dc1['morphAttributes']['normal']||_0x272dc1['morphAttributes']['color'],_0x2c4752=void 0x0!==_0x5ce1c6?_0x5ce1c6['length']:0x0;let _0xd73e19,_0x1c0a2b,_0x5b313a,_0x563b57,_0x26ad61=0x0;if(void 0x0!==_0x272dc1['morphAttributes']['position']&&(_0x26ad61=0x1),void 0x0!==_0x272dc1['morphAttributes']['normal']&&(_0x26ad61=0x2),void 0x0!==_0x272dc1['morphAttributes']['color']&&(_0x26ad61=0x3),_0x17490d){const _0x47d239=_0x417429[_0x17490d];_0xd73e19=_0x47d239['vertexShader'],_0x1c0a2b=_0x47d239['fragmentShader'];}else _0xd73e19=_0x4ba38b['vertexShader'],_0x1c0a2b=_0x4ba38b['fragmentShader'],_0x4dd05a['update'](_0x4ba38b),_0x5b313a=_0x4dd05a['getVertexShaderID'](_0x4ba38b),_0x563b57=_0x4dd05a['getFragmentShaderID'](_0x4ba38b);const _0x204961=_0x511686['getRenderTarget'](),_0x14c68a=_0x511686['state']['buffers']['depth']['getReversed'](),_0x5e48aa=!0x0===_0x45ff47['isInstancedMesh'],_0x4367da=!0x0===_0x45ff47['isBatchedMesh'],_0x1fdf99=!!_0x4ba38b['map'],_0x47014b=!!_0x4ba38b['matcap'],_0x4c2209=!!_0x15e546,_0x56083a=!!_0x4ba38b['aoMap'],_0x4d1df3=!!_0x4ba38b['lightMap'],_0x5be6a8=!!_0x4ba38b['bumpMap'],_0x3e43ba=!!_0x4ba38b['normalMap'],_0x2e7a24=!!_0x4ba38b['displacementMap'],_0x125b59=!!_0x4ba38b['emissiveMap'],_0x193442=!!_0x4ba38b['metalnessMap'],_0x4c231f=!!_0x4ba38b['roughnessMap'],_0x2aaf12=_0x4ba38b['anisotropy']>0x0,_0x2dab03=_0x4ba38b['clearcoat']>0x0,_0xb9a6e=_0x4ba38b['dispersion']>0x0,_0xc06401=_0x4ba38b['iridescence']>0x0,_0x3f1967=_0x4ba38b['sheen']>0x0,_0x3ccbc8=_0x4ba38b['transmission']>0x0,_0x5bd927=_0x2aaf12&&!!_0x4ba38b['anisotropyMap'],_0x36e1cd=_0x2dab03&&!!_0x4ba38b['clearcoatMap'],_0x21b023=_0x2dab03&&!!_0x4ba38b['clearcoatNormalMap'],_0x322fa8=_0x2dab03&&!!_0x4ba38b['clearcoatRoughnessMap'],_0x1f8439=_0xc06401&&!!_0x4ba38b['iridescenceMap'],_0xc0e0f=_0xc06401&&!!_0x4ba38b['iridescenceThicknessMap'],_0x4d0cde=_0x3f1967&&!!_0x4ba38b['sheenColorMap'],_0x50a8ca=_0x3f1967&&!!_0x4ba38b['sheenRoughnessMap'],_0x1b671e=!!_0x4ba38b['specularMap'],_0x449f32=!!_0x4ba38b['specularColorMap'],_0x409e51=!!_0x4ba38b['specularIntensityMap'],_0x35e609=_0x3ccbc8&&!!_0x4ba38b['transmissionMap'],_0x127978=_0x3ccbc8&&!!_0x4ba38b['thicknessMap'],_0x44cfb4=!!_0x4ba38b['gradientMap'],_0x2a6910=!!_0x4ba38b['alphaMap'],_0x1a3b72=_0x4ba38b['alphaTest']>0x0,_0x1db673=!!_0x4ba38b['alphaHash'],_0x49febb=!!_0x4ba38b['extensions'];let _0x39df30=_0x207dba['y_p'];_0x4ba38b['toneMapped']&&(null!==_0x204961&&!0x0!==_0x204961['isXRRenderTarget']||(_0x39df30=_0x511686['toneMapping']));const _0x36bf94={'shaderID':_0x17490d,'shaderType':_0x4ba38b['type'],'shaderName':_0x4ba38b['name'],'vertexShader':_0xd73e19,'fragmentShader':_0x1c0a2b,'defines':_0x4ba38b['defines'],'customVertexShaderID':_0x5b313a,'customFragmentShaderID':_0x563b57,'isRawShaderMaterial':!0x0===_0x4ba38b['isRawShaderMaterial'],'glslVersion':_0x4ba38b['glslVersion'],'precision':_0x126f3b,'batching':_0x4367da,'batchingColor':_0x4367da&&null!==_0x45ff47['_colorsTexture'],'instancing':_0x5e48aa,'instancingColor':_0x5e48aa&&null!==_0x45ff47['instanceColor'],'instancingMorph':_0x5e48aa&&null!==_0x45ff47['morphTexture'],'supportsVertexTextures':_0x2e3a0c,'outputColorSpace':null===_0x204961?_0x511686['outputColorSpace']:!0x0===_0x204961['isXRRenderTarget']?_0x204961['texture']['colorSpace']:_0x207dba['Zr2'],'alphaToCoverage':!!_0x4ba38b['alphaToCoverage'],'map':_0x1fdf99,'matcap':_0x47014b,'envMap':_0x4c2209,'envMapMode':_0x4c2209&&_0x15e546['mapping'],'envMapCubeUVHeight':_0x3155f6,'aoMap':_0x56083a,'lightMap':_0x4d1df3,'bumpMap':_0x5be6a8,'normalMap':_0x3e43ba,'displacementMap':_0x2e3a0c&&_0x2e7a24,'emissiveMap':_0x125b59,'normalMapObjectSpace':_0x3e43ba&&_0x4ba38b['normalMapType']===_0x207dba['vyJ'],'normalMapTangentSpace':_0x3e43ba&&_0x4ba38b['normalMapType']===_0x207dba['bI3'],'metalnessMap':_0x193442,'roughnessMap':_0x4c231f,'anisotropy':_0x2aaf12,'anisotropyMap':_0x5bd927,'clearcoat':_0x2dab03,'clearcoatMap':_0x36e1cd,'clearcoatNormalMap':_0x21b023,'clearcoatRoughnessMap':_0x322fa8,'dispersion':_0xb9a6e,'iridescence':_0xc06401,'iridescenceMap':_0x1f8439,'iridescenceThicknessMap':_0xc0e0f,'sheen':_0x3f1967,'sheenColorMap':_0x4d0cde,'sheenRoughnessMap':_0x50a8ca,'specularMap':_0x1b671e,'specularColorMap':_0x449f32,'specularIntensityMap':_0x409e51,'transmission':_0x3ccbc8,'transmissionMap':_0x35e609,'thicknessMap':_0x127978,'gradientMap':_0x44cfb4,'opaque':!0x1===_0x4ba38b['transparent']&&_0x4ba38b['blending']===_0x207dba['NTi']&&!0x1===_0x4ba38b['alphaToCoverage'],'alphaMap':_0x2a6910,'alphaTest':_0x1a3b72,'alphaHash':_0x1db673,'combine':_0x4ba38b['combine'],'mapUv':_0x1fdf99&&_0x5dfe53(_0x4ba38b['map']['channel']),'aoMapUv':_0x56083a&&_0x5dfe53(_0x4ba38b['aoMap']['channel']),'lightMapUv':_0x4d1df3&&_0x5dfe53(_0x4ba38b['lightMap']['channel']),'bumpMapUv':_0x5be6a8&&_0x5dfe53(_0x4ba38b['bumpMap']['channel']),'normalMapUv':_0x3e43ba&&_0x5dfe53(_0x4ba38b['normalMap']['channel']),'displacementMapUv':_0x2e7a24&&_0x5dfe53(_0x4ba38b['displacementMap']['channel']),'emissiveMapUv':_0x125b59&&_0x5dfe53(_0x4ba38b['emissiveMap']['channel']),'metalnessMapUv':_0x193442&&_0x5dfe53(_0x4ba38b['metalnessMap']['channel']),'roughnessMapUv':_0x4c231f&&_0x5dfe53(_0x4ba38b['roughnessMap']['channel']),'anisotropyMapUv':_0x5bd927&&_0x5dfe53(_0x4ba38b['anisotropyMap']['channel']),'clearcoatMapUv':_0x36e1cd&&_0x5dfe53(_0x4ba38b['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x21b023&&_0x5dfe53(_0x4ba38b['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x322fa8&&_0x5dfe53(_0x4ba38b['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0x1f8439&&_0x5dfe53(_0x4ba38b['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0xc0e0f&&_0x5dfe53(_0x4ba38b['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0x4d0cde&&_0x5dfe53(_0x4ba38b['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x50a8ca&&_0x5dfe53(_0x4ba38b['sheenRoughnessMap']['channel']),'specularMapUv':_0x1b671e&&_0x5dfe53(_0x4ba38b['specularMap']['channel']),'specularColorMapUv':_0x449f32&&_0x5dfe53(_0x4ba38b['specularColorMap']['channel']),'specularIntensityMapUv':_0x409e51&&_0x5dfe53(_0x4ba38b['specularIntensityMap']['channel']),'transmissionMapUv':_0x35e609&&_0x5dfe53(_0x4ba38b['transmissionMap']['channel']),'thicknessMapUv':_0x127978&&_0x5dfe53(_0x4ba38b['thicknessMap']['channel']),'alphaMapUv':_0x2a6910&&_0x5dfe53(_0x4ba38b['alphaMap']['channel']),'vertexTangents':!!_0x272dc1['attributes']['tangent']&&(_0x3e43ba||_0x2aaf12),'vertexColors':_0x4ba38b['vertexColors'],'vertexAlphas':!0x0===_0x4ba38b['vertexColors']&&!!_0x272dc1['attributes']['color']&&0x4===_0x272dc1['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x45ff47['isPoints']&&!!_0x272dc1['attributes']['uv']&&(_0x1fdf99||_0x2a6910),'fog':!!_0x2d407a,'useFog':!0x0===_0x4ba38b['fog'],'fogExp2':!!_0x2d407a&&_0x2d407a['isFogExp2'],'flatShading':!0x0===_0x4ba38b['flatShading'],'sizeAttenuation':!0x0===_0x4ba38b['sizeAttenuation'],'logarithmicDepthBuffer':_0x144ec3,'reverseDepthBuffer':_0x14c68a,'skinning':!0x0===_0x45ff47['isSkinnedMesh'],'morphTargets':void 0x0!==_0x272dc1['morphAttributes']['position'],'morphNormals':void 0x0!==_0x272dc1['morphAttributes']['normal'],'morphColors':void 0x0!==_0x272dc1['morphAttributes']['color'],'morphTargetsCount':_0x2c4752,'morphTextureStride':_0x26ad61,'numDirLights':_0x5d08a2['directional']['length'],'numPointLights':_0x5d08a2['point']['length'],'numSpotLights':_0x5d08a2['spot']['length'],'numSpotLightMaps':_0x5d08a2['spotLightMap']['length'],'numRectAreaLights':_0x5d08a2['rectArea']['length'],'numHemiLights':_0x5d08a2['hemi']['length'],'numDirLightShadows':_0x5d08a2['directionalShadowMap']['length'],'numPointLightShadows':_0x5d08a2['pointShadowMap']['length'],'numSpotLightShadows':_0x5d08a2['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0x5d08a2['numSpotLightShadowsWithMaps'],'numLightProbes':_0x5d08a2['numLightProbes'],'numClippingPlanes':_0xa2a5b8['numPlanes'],'numClipIntersection':_0xa2a5b8['numIntersection'],'dithering':_0x4ba38b['dithering'],'shadowMapEnabled':_0x511686['shadowMap']['enabled']&&_0xceb123['length']>0x0,'shadowMapType':_0x511686['shadowMap']['type'],'toneMapping':_0x39df30,'decodeVideoTexture':_0x1fdf99&&!0x0===_0x4ba38b['map']['isVideoTexture']&&_0x207dba['ppV']['getTransfer'](_0x4ba38b['map']['colorSpace'])===_0x207dba['KLL'],'decodeVideoTextureEmissive':_0x125b59&&!0x0===_0x4ba38b['emissiveMap']['isVideoTexture']&&_0x207dba['ppV']['getTransfer'](_0x4ba38b['emissiveMap']['colorSpace'])===_0x207dba['KLL'],'premultipliedAlpha':_0x4ba38b['premultipliedAlpha'],'doubleSided':_0x4ba38b['side']===_0x207dba['$EB'],'flipSided':_0x4ba38b['side']===_0x207dba['hsX'],'useDepthPacking':_0x4ba38b['depthPacking']>=0x0,'depthPacking':_0x4ba38b['depthPacking']||0x0,'index0AttributeName':_0x4ba38b['index0AttributeName'],'extensionClipCullDistance':_0x49febb&&!0x0===_0x4ba38b['extensions']['clipCullDistance']&&_0x28ae1e['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x49febb&&!0x0===_0x4ba38b['extensions']['multiDraw']||_0x4367da)&&_0x28ae1e['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x28ae1e['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x4ba38b['customProgramCacheKey']()};return _0x36bf94['vertexUv1s']=_0xcc9183['has'](0x1),_0x36bf94['vertexUv2s']=_0xcc9183['has'](0x2),_0x36bf94['vertexUv3s']=_0xcc9183['has'](0x3),_0xcc9183['clear'](),_0x36bf94;},'getProgramCacheKey':function(_0x210faa){const _0x52a491=[];if(_0x210faa['shaderID']?_0x52a491['push'](_0x210faa['shaderID']):(_0x52a491['push'](_0x210faa['customVertexShaderID']),_0x52a491['push'](_0x210faa['customFragmentShaderID'])),void 0x0!==_0x210faa['defines']){for(const _0x34f79b in _0x210faa['defines'])_0x52a491['push'](_0x34f79b),_0x52a491['push'](_0x210faa['defines'][_0x34f79b]);}return!0x1===_0x210faa['isRawShaderMaterial']&&(!function(_0x431e6f,_0x3c5792){_0x431e6f['push'](_0x3c5792['precision']),_0x431e6f['push'](_0x3c5792['outputColorSpace']),_0x431e6f['push'](_0x3c5792['envMapMode']),_0x431e6f['push'](_0x3c5792['envMapCubeUVHeight']),_0x431e6f['push'](_0x3c5792['mapUv']),_0x431e6f['push'](_0x3c5792['alphaMapUv']),_0x431e6f['push'](_0x3c5792['lightMapUv']),_0x431e6f['push'](_0x3c5792['aoMapUv']),_0x431e6f['push'](_0x3c5792['bumpMapUv']),_0x431e6f['push'](_0x3c5792['normalMapUv']),_0x431e6f['push'](_0x3c5792['displacementMapUv']),_0x431e6f['push'](_0x3c5792['emissiveMapUv']),_0x431e6f['push'](_0x3c5792['metalnessMapUv']),_0x431e6f['push'](_0x3c5792['roughnessMapUv']),_0x431e6f['push'](_0x3c5792['anisotropyMapUv']),_0x431e6f['push'](_0x3c5792['clearcoatMapUv']),_0x431e6f['push'](_0x3c5792['clearcoatNormalMapUv']),_0x431e6f['push'](_0x3c5792['clearcoatRoughnessMapUv']),_0x431e6f['push'](_0x3c5792['iridescenceMapUv']),_0x431e6f['push'](_0x3c5792['iridescenceThicknessMapUv']),_0x431e6f['push'](_0x3c5792['sheenColorMapUv']),_0x431e6f['push'](_0x3c5792['sheenRoughnessMapUv']),_0x431e6f['push'](_0x3c5792['specularMapUv']),_0x431e6f['push'](_0x3c5792['specularColorMapUv']),_0x431e6f['push'](_0x3c5792['specularIntensityMapUv']),_0x431e6f['push'](_0x3c5792['transmissionMapUv']),_0x431e6f['push'](_0x3c5792['thicknessMapUv']),_0x431e6f['push'](_0x3c5792['combine']),_0x431e6f['push'](_0x3c5792['fogExp2']),_0x431e6f['push'](_0x3c5792['sizeAttenuation']),_0x431e6f['push'](_0x3c5792['morphTargetsCount']),_0x431e6f['push'](_0x3c5792['morphAttributeCount']),_0x431e6f['push'](_0x3c5792['numDirLights']),_0x431e6f['push'](_0x3c5792['numPointLights']),_0x431e6f['push'](_0x3c5792['numSpotLights']),_0x431e6f['push'](_0x3c5792['numSpotLightMaps']),_0x431e6f['push'](_0x3c5792['numHemiLights']),_0x431e6f['push'](_0x3c5792['numRectAreaLights']),_0x431e6f['push'](_0x3c5792['numDirLightShadows']),_0x431e6f['push'](_0x3c5792['numPointLightShadows']),_0x431e6f['push'](_0x3c5792['numSpotLightShadows']),_0x431e6f['push'](_0x3c5792['numSpotLightShadowsWithMaps']),_0x431e6f['push'](_0x3c5792['numLightProbes']),_0x431e6f['push'](_0x3c5792['shadowMapType']),_0x431e6f['push'](_0x3c5792['toneMapping']),_0x431e6f['push'](_0x3c5792['numClippingPlanes']),_0x431e6f['push'](_0x3c5792['numClipIntersection']),_0x431e6f['push'](_0x3c5792['depthPacking']);}(_0x52a491,_0x210faa),function(_0x40d67b,_0x13b2df){_0x2a2823['disableAll'](),_0x13b2df['supportsVertexTextures']&&_0x2a2823['enable'](0x0),_0x13b2df['instancing']&&_0x2a2823['enable'](0x1),_0x13b2df['instancingColor']&&_0x2a2823['enable'](0x2),_0x13b2df['instancingMorph']&&_0x2a2823['enable'](0x3),_0x13b2df['matcap']&&_0x2a2823['enable'](0x4),_0x13b2df['envMap']&&_0x2a2823['enable'](0x5),_0x13b2df['normalMapObjectSpace']&&_0x2a2823['enable'](0x6),_0x13b2df['normalMapTangentSpace']&&_0x2a2823['enable'](0x7),_0x13b2df['clearcoat']&&_0x2a2823['enable'](0x8),_0x13b2df['iridescence']&&_0x2a2823['enable'](0x9),_0x13b2df['alphaTest']&&_0x2a2823['enable'](0xa),_0x13b2df['vertexColors']&&_0x2a2823['enable'](0xb),_0x13b2df['vertexAlphas']&&_0x2a2823['enable'](0xc),_0x13b2df['vertexUv1s']&&_0x2a2823['enable'](0xd),_0x13b2df['vertexUv2s']&&_0x2a2823['enable'](0xe),_0x13b2df['vertexUv3s']&&_0x2a2823['enable'](0xf),_0x13b2df['vertexTangents']&&_0x2a2823['enable'](0x10),_0x13b2df['anisotropy']&&_0x2a2823['enable'](0x11),_0x13b2df['alphaHash']&&_0x2a2823['enable'](0x12),_0x13b2df['batching']&&_0x2a2823['enable'](0x13),_0x13b2df['dispersion']&&_0x2a2823['enable'](0x14),_0x13b2df['batchingColor']&&_0x2a2823['enable'](0x15),(_0x40d67b['push'](_0x2a2823['mask']),_0x2a2823['disableAll'](),_0x13b2df['fog']&&_0x2a2823['enable'](0x0)),_0x13b2df['useFog']&&_0x2a2823['enable'](0x1),_0x13b2df['flatShading']&&_0x2a2823['enable'](0x2),_0x13b2df['logarithmicDepthBuffer']&&_0x2a2823['enable'](0x3),_0x13b2df['reverseDepthBuffer']&&_0x2a2823['enable'](0x4),_0x13b2df['skinning']&&_0x2a2823['enable'](0x5),_0x13b2df['morphTargets']&&_0x2a2823['enable'](0x6),_0x13b2df['morphNormals']&&_0x2a2823['enable'](0x7),_0x13b2df['morphColors']&&_0x2a2823['enable'](0x8),_0x13b2df['premultipliedAlpha']&&_0x2a2823['enable'](0x9),_0x13b2df['shadowMapEnabled']&&_0x2a2823['enable'](0xa),_0x13b2df['doubleSided']&&_0x2a2823['enable'](0xb),_0x13b2df['flipSided']&&_0x2a2823['enable'](0xc),_0x13b2df['useDepthPacking']&&_0x2a2823['enable'](0xd),_0x13b2df['dithering']&&_0x2a2823['enable'](0xe),_0x13b2df['transmission']&&_0x2a2823['enable'](0xf),_0x13b2df['sheen']&&_0x2a2823['enable'](0x10),_0x13b2df['opaque']&&_0x2a2823['enable'](0x11),_0x13b2df['pointsUvs']&&_0x2a2823['enable'](0x12),_0x13b2df['decodeVideoTexture']&&_0x2a2823['enable'](0x13),_0x13b2df['decodeVideoTextureEmissive']&&_0x2a2823['enable'](0x14),_0x13b2df['alphaToCoverage']&&_0x2a2823['enable'](0x15),_0x40d67b['push'](_0x2a2823['mask']);}(_0x52a491,_0x210faa),_0x52a491['push'](_0x511686['outputColorSpace'])),_0x52a491['push'](_0x210faa['customProgramCacheKey']),_0x52a491['join']();},'getUniforms':function(_0x4222a5){const _0x4f823=_0x568052[_0x4222a5['type']];let _0x3b5277;if(_0x4f823){const _0xe712c8=_0x417429[_0x4f823];_0x3b5277=_0x207dba['LlO']['clone'](_0xe712c8['uniforms']);}else _0x3b5277=_0x4222a5['uniforms'];return _0x3b5277;},'acquireProgram':function(_0x4885a7,_0x1b3d17){let _0x14e6b7;for(let _0x3e3a76=0x0,_0x4bb98d=_0x59376b['length'];_0x3e3a76<_0x4bb98d;_0x3e3a76++){const _0x294d69=_0x59376b[_0x3e3a76];if(_0x294d69['cacheKey']===_0x1b3d17){_0x14e6b7=_0x294d69,++_0x14e6b7['usedTimes'];break;}}return void 0x0===_0x14e6b7&&(_0x14e6b7=new _0x23bf12(_0x511686,_0x1b3d17,_0x4885a7,_0x11c42b),_0x59376b['push'](_0x14e6b7)),_0x14e6b7;},'releaseProgram':function(_0x256138){if(0x0==--_0x256138['usedTimes']){const _0x1c6a6a=_0x59376b['indexOf'](_0x256138);_0x59376b[_0x1c6a6a]=_0x59376b[_0x59376b['length']-0x1],_0x59376b['pop'](),_0x256138['destroy']();}},'releaseShaderCache':function(_0x2c4251){_0x4dd05a['remove'](_0x2c4251);},'programs':_0x59376b,'dispose':function(){_0x4dd05a['dispose']();}};}function _0x34f60f(){let _0x150006=new WeakMap();return{'has':function(_0xd56326){return _0x150006['has'](_0xd56326);},'get':function(_0x321bb2){let _0x4d2343=_0x150006['get'](_0x321bb2);return void 0x0===_0x4d2343&&(_0x4d2343={},_0x150006['set'](_0x321bb2,_0x4d2343)),_0x4d2343;},'remove':function(_0x200715){_0x150006['delete'](_0x200715);},'update':function(_0x47104a,_0x4f4930,_0x49c398){_0x150006['get'](_0x47104a)[_0x4f4930]=_0x49c398;},'dispose':function(){_0x150006=new WeakMap();}};}function _0x2fa3e3(_0x27428e,_0x4dfdd3){return _0x27428e['groupOrder']!==_0x4dfdd3['groupOrder']?_0x27428e['groupOrder']-_0x4dfdd3['groupOrder']:_0x27428e['renderOrder']!==_0x4dfdd3['renderOrder']?_0x27428e['renderOrder']-_0x4dfdd3['renderOrder']:_0x27428e['material']['id']!==_0x4dfdd3['material']['id']?_0x27428e['material']['id']-_0x4dfdd3['material']['id']:_0x27428e['z']!==_0x4dfdd3['z']?_0x27428e['z']-_0x4dfdd3['z']:_0x27428e['id']-_0x4dfdd3['id'];}function _0x3afbaf(_0x1d68c1,_0x49c578){return _0x1d68c1['groupOrder']!==_0x49c578['groupOrder']?_0x1d68c1['groupOrder']-_0x49c578['groupOrder']:_0x1d68c1['renderOrder']!==_0x49c578['renderOrder']?_0x1d68c1['renderOrder']-_0x49c578['renderOrder']:_0x1d68c1['z']!==_0x49c578['z']?_0x49c578['z']-_0x1d68c1['z']:_0x1d68c1['id']-_0x49c578['id'];}function _0x4ce1aa(){const _0xb27304=[];let _0x12ac1c=0x0;const _0x22b2fe=[],_0x4260c5=[],_0x1ce66e=[];function _0x43c39e(_0x4ac206,_0x96ec66,_0x11fec1,_0x21b3e9,_0x545600,_0x5f3866){let _0x49dcf4=_0xb27304[_0x12ac1c];return void 0x0===_0x49dcf4?(_0x49dcf4={'id':_0x4ac206['id'],'object':_0x4ac206,'geometry':_0x96ec66,'material':_0x11fec1,'groupOrder':_0x21b3e9,'renderOrder':_0x4ac206['renderOrder'],'z':_0x545600,'group':_0x5f3866},_0xb27304[_0x12ac1c]=_0x49dcf4):(_0x49dcf4['id']=_0x4ac206['id'],_0x49dcf4['object']=_0x4ac206,_0x49dcf4['geometry']=_0x96ec66,_0x49dcf4['material']=_0x11fec1,_0x49dcf4['groupOrder']=_0x21b3e9,_0x49dcf4['renderOrder']=_0x4ac206['renderOrder'],_0x49dcf4['z']=_0x545600,_0x49dcf4['group']=_0x5f3866),_0x12ac1c++,_0x49dcf4;}return{'opaque':_0x22b2fe,'transmissive':_0x4260c5,'transparent':_0x1ce66e,'init':function(){_0x12ac1c=0x0,_0x22b2fe['length']=0x0,_0x4260c5['length']=0x0,_0x1ce66e['length']=0x0;},'push':function(_0x188bdb,_0x1ed0a1,_0x2ec2df,_0x283bed,_0x1c9bd8,_0x4b8f82){const _0x3434c1=_0x43c39e(_0x188bdb,_0x1ed0a1,_0x2ec2df,_0x283bed,_0x1c9bd8,_0x4b8f82);_0x2ec2df['transmission']>0x0?_0x4260c5['push'](_0x3434c1):!0x0===_0x2ec2df['transparent']?_0x1ce66e['push'](_0x3434c1):_0x22b2fe['push'](_0x3434c1);},'unshift':function(_0x1b217b,_0xd3f3cf,_0x30480c,_0x5e9b1a,_0x5a9dab,_0xdfa8cf){const _0x1a934b=_0x43c39e(_0x1b217b,_0xd3f3cf,_0x30480c,_0x5e9b1a,_0x5a9dab,_0xdfa8cf);_0x30480c['transmission']>0x0?_0x4260c5['unshift'](_0x1a934b):!0x0===_0x30480c['transparent']?_0x1ce66e['unshift'](_0x1a934b):_0x22b2fe['unshift'](_0x1a934b);},'finish':function(){for(let _0x4a97eb=_0x12ac1c,_0x3a929c=_0xb27304['length'];_0x4a97eb<_0x3a929c;_0x4a97eb++){const _0x4f1b78=_0xb27304[_0x4a97eb];if(null===_0x4f1b78['id'])break;_0x4f1b78['id']=null,_0x4f1b78['object']=null,_0x4f1b78['geometry']=null,_0x4f1b78['material']=null,_0x4f1b78['group']=null;}},'sort':function(_0x18b3e6,_0x373339){_0x22b2fe['length']>0x1&&_0x22b2fe['sort'](_0x18b3e6||_0x2fa3e3),_0x4260c5['length']>0x1&&_0x4260c5['sort'](_0x373339||_0x3afbaf),_0x1ce66e['length']>0x1&&_0x1ce66e['sort'](_0x373339||_0x3afbaf);}};}function _0x1b2439(){let _0x3379b8=new WeakMap();return{'get':function(_0x230d7d,_0x5a9fab){const _0x306389=_0x3379b8['get'](_0x230d7d);let _0x2d759a;return void 0x0===_0x306389?(_0x2d759a=new _0x4ce1aa(),_0x3379b8['set'](_0x230d7d,[_0x2d759a])):_0x5a9fab>=_0x306389['length']?(_0x2d759a=new _0x4ce1aa(),_0x306389['push'](_0x2d759a)):_0x2d759a=_0x306389[_0x5a9fab],_0x2d759a;},'dispose':function(){_0x3379b8=new WeakMap();}};}function _0x109ac5(){const _0x4b4698={};return{'get':function(_0x3ab5ce){if(void 0x0!==_0x4b4698[_0x3ab5ce['id']])return _0x4b4698[_0x3ab5ce['id']];let _0x13e3be;switch(_0x3ab5ce['type']){case'DirectionalLight':_0x13e3be={'direction':new _0x207dba['Pq0'](),'color':new _0x207dba['Q1f']()};break;case'SpotLight':_0x13e3be={'position':new _0x207dba['Pq0'](),'direction':new _0x207dba['Pq0'](),'color':new _0x207dba['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x13e3be={'position':new _0x207dba['Pq0'](),'color':new _0x207dba['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x13e3be={'direction':new _0x207dba['Pq0'](),'skyColor':new _0x207dba['Q1f'](),'groundColor':new _0x207dba['Q1f']()};break;case'RectAreaLight':_0x13e3be={'color':new _0x207dba['Q1f'](),'position':new _0x207dba['Pq0'](),'halfWidth':new _0x207dba['Pq0'](),'halfHeight':new _0x207dba['Pq0']()};}return _0x4b4698[_0x3ab5ce['id']]=_0x13e3be,_0x13e3be;}};}let _0x5297e7=0x0;function _0x8f0004(_0x4b19ca,_0x55345b){return(_0x55345b['castShadow']?0x2:0x0)-(_0x4b19ca['castShadow']?0x2:0x0)+(_0x55345b['map']?0x1:0x0)-(_0x4b19ca['map']?0x1:0x0);}function _0x1aca7b(_0x1e8c53){const _0x65cd6c=new _0x109ac5(),_0x165805=(function(){const _0x16dccb={};return{'get':function(_0x275422){if(void 0x0!==_0x16dccb[_0x275422['id']])return _0x16dccb[_0x275422['id']];let _0x3eedb1;switch(_0x275422['type']){case'DirectionalLight':case'SpotLight':_0x3eedb1={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x207dba['I9Y']()};break;case'PointLight':_0x3eedb1={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x207dba['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0x16dccb[_0x275422['id']]=_0x3eedb1,_0x3eedb1;}};}()),_0x4b8062={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0x462f9c=0x0;_0x462f9c<0x9;_0x462f9c++)_0x4b8062['probe']['push'](new _0x207dba['Pq0']());const _0x336159=new _0x207dba['Pq0'](),_0x26145c=new _0x207dba['kn4'](),_0x3e067d=new _0x207dba['kn4']();return{'setup':function(_0x3765b9){let _0x4c8776=0x0,_0x3c46ed=0x0,_0xb816a3=0x0;for(let _0xdb2c6d=0x0;_0xdb2c6d<0x9;_0xdb2c6d++)_0x4b8062['probe'][_0xdb2c6d]['set'](0x0,0x0,0x0);let _0x5cb7a9=0x0,_0x1b39c6=0x0,_0x302807=0x0,_0xe4b867=0x0,_0x525443=0x0,_0x342ca6=0x0,_0x264c7c=0x0,_0x2ab1c1=0x0,_0x160c74=0x0,_0x3fc607=0x0,_0x1df7bd=0x0;_0x3765b9['sort'](_0x8f0004);for(let _0x37e4c6=0x0,_0x18c9fc=_0x3765b9['length'];_0x37e4c6<_0x18c9fc;_0x37e4c6++){const _0x58b6fc=_0x3765b9[_0x37e4c6],_0x3733d7=_0x58b6fc['color'],_0x482c7e=_0x58b6fc['intensity'],_0x31dc09=_0x58b6fc['distance'],_0x492311=_0x58b6fc['shadow']&&_0x58b6fc['shadow']['map']?_0x58b6fc['shadow']['map']['texture']:null;if(_0x58b6fc['isAmbientLight'])_0x4c8776+=_0x3733d7['r']*_0x482c7e,_0x3c46ed+=_0x3733d7['g']*_0x482c7e,_0xb816a3+=_0x3733d7['b']*_0x482c7e;else{if(_0x58b6fc['isLightProbe']){for(let _0x3ff674=0x0;_0x3ff674<0x9;_0x3ff674++)_0x4b8062['probe'][_0x3ff674]['addScaledVector'](_0x58b6fc['sh']['coefficients'][_0x3ff674],_0x482c7e);_0x1df7bd++;}else{if(_0x58b6fc['isDirectionalLight']){const _0x528db0=_0x65cd6c['get'](_0x58b6fc);if(_0x528db0['color']['copy'](_0x58b6fc['color'])['multiplyScalar'](_0x58b6fc['intensity']),_0x58b6fc['castShadow']){const _0x3adb01=_0x58b6fc['shadow'],_0x1f8cfa=_0x165805['get'](_0x58b6fc);_0x1f8cfa['shadowIntensity']=_0x3adb01['intensity'],_0x1f8cfa['shadowBias']=_0x3adb01['bias'],_0x1f8cfa['shadowNormalBias']=_0x3adb01['normalBias'],_0x1f8cfa['shadowRadius']=_0x3adb01['radius'],_0x1f8cfa['shadowMapSize']=_0x3adb01['mapSize'],_0x4b8062['directionalShadow'][_0x5cb7a9]=_0x1f8cfa,_0x4b8062['directionalShadowMap'][_0x5cb7a9]=_0x492311,_0x4b8062['directionalShadowMatrix'][_0x5cb7a9]=_0x58b6fc['shadow']['matrix'],_0x342ca6++;}_0x4b8062['directional'][_0x5cb7a9]=_0x528db0,_0x5cb7a9++;}else{if(_0x58b6fc['isSpotLight']){const _0x1ffd2b=_0x65cd6c['get'](_0x58b6fc);_0x1ffd2b['position']['setFromMatrixPosition'](_0x58b6fc['matrixWorld']),_0x1ffd2b['color']['copy'](_0x3733d7)['multiplyScalar'](_0x482c7e),_0x1ffd2b['distance']=_0x31dc09,_0x1ffd2b['coneCos']=Math['cos'](_0x58b6fc['angle']),_0x1ffd2b['penumbraCos']=Math['cos'](_0x58b6fc['angle']*(0x1-_0x58b6fc['penumbra'])),_0x1ffd2b['decay']=_0x58b6fc['decay'],_0x4b8062['spot'][_0x302807]=_0x1ffd2b;const _0x18cd8c=_0x58b6fc['shadow'];if(_0x58b6fc['map']&&(_0x4b8062['spotLightMap'][_0x160c74]=_0x58b6fc['map'],_0x160c74++,_0x18cd8c['updateMatrices'](_0x58b6fc),_0x58b6fc['castShadow']&&_0x3fc607++),_0x4b8062['spotLightMatrix'][_0x302807]=_0x18cd8c['matrix'],_0x58b6fc['castShadow']){const _0x49fdb0=_0x165805['get'](_0x58b6fc);_0x49fdb0['shadowIntensity']=_0x18cd8c['intensity'],_0x49fdb0['shadowBias']=_0x18cd8c['bias'],_0x49fdb0['shadowNormalBias']=_0x18cd8c['normalBias'],_0x49fdb0['shadowRadius']=_0x18cd8c['radius'],_0x49fdb0['shadowMapSize']=_0x18cd8c['mapSize'],_0x4b8062['spotShadow'][_0x302807]=_0x49fdb0,_0x4b8062['spotShadowMap'][_0x302807]=_0x492311,_0x2ab1c1++;}_0x302807++;}else{if(_0x58b6fc['isRectAreaLight']){const _0x1b7571=_0x65cd6c['get'](_0x58b6fc);_0x1b7571['color']['copy'](_0x3733d7)['multiplyScalar'](_0x482c7e),_0x1b7571['halfWidth']['set'](0.5*_0x58b6fc['width'],0x0,0x0),_0x1b7571['halfHeight']['set'](0x0,0.5*_0x58b6fc['height'],0x0),_0x4b8062['rectArea'][_0xe4b867]=_0x1b7571,_0xe4b867++;}else{if(_0x58b6fc['isPointLight']){const _0x2ffd82=_0x65cd6c['get'](_0x58b6fc);if(_0x2ffd82['color']['copy'](_0x58b6fc['color'])['multiplyScalar'](_0x58b6fc['intensity']),_0x2ffd82['distance']=_0x58b6fc['distance'],_0x2ffd82['decay']=_0x58b6fc['decay'],_0x58b6fc['castShadow']){const _0x2ceafb=_0x58b6fc['shadow'],_0x583cb1=_0x165805['get'](_0x58b6fc);_0x583cb1['shadowIntensity']=_0x2ceafb['intensity'],_0x583cb1['shadowBias']=_0x2ceafb['bias'],_0x583cb1['shadowNormalBias']=_0x2ceafb['normalBias'],_0x583cb1['shadowRadius']=_0x2ceafb['radius'],_0x583cb1['shadowMapSize']=_0x2ceafb['mapSize'],_0x583cb1['shadowCameraNear']=_0x2ceafb['camera']['near'],_0x583cb1['shadowCameraFar']=_0x2ceafb['camera']['far'],_0x4b8062['pointShadow'][_0x1b39c6]=_0x583cb1,_0x4b8062['pointShadowMap'][_0x1b39c6]=_0x492311,_0x4b8062['pointShadowMatrix'][_0x1b39c6]=_0x58b6fc['shadow']['matrix'],_0x264c7c++;}_0x4b8062['point'][_0x1b39c6]=_0x2ffd82,_0x1b39c6++;}else{if(_0x58b6fc['isHemisphereLight']){const _0x4d4520=_0x65cd6c['get'](_0x58b6fc);_0x4d4520['skyColor']['copy'](_0x58b6fc['color'])['multiplyScalar'](_0x482c7e),_0x4d4520['groundColor']['copy'](_0x58b6fc['groundColor'])['multiplyScalar'](_0x482c7e),_0x4b8062['hemi'][_0x525443]=_0x4d4520,_0x525443++;}}}}}}}}_0xe4b867>0x0&&(!0x0===_0x1e8c53['has']('OES_texture_float_linear')?(_0x4b8062['rectAreaLTC1']=_0x29ec87['LTC_FLOAT_1'],_0x4b8062['rectAreaLTC2']=_0x29ec87['LTC_FLOAT_2']):(_0x4b8062['rectAreaLTC1']=_0x29ec87['LTC_HALF_1'],_0x4b8062['rectAreaLTC2']=_0x29ec87['LTC_HALF_2'])),_0x4b8062['ambient'][0x0]=_0x4c8776,_0x4b8062['ambient'][0x1]=_0x3c46ed,_0x4b8062['ambient'][0x2]=_0xb816a3;const _0x29ff42=_0x4b8062['hash'];_0x29ff42['directionalLength']===_0x5cb7a9&&_0x29ff42['pointLength']===_0x1b39c6&&_0x29ff42['spotLength']===_0x302807&&_0x29ff42['rectAreaLength']===_0xe4b867&&_0x29ff42['hemiLength']===_0x525443&&_0x29ff42['numDirectionalShadows']===_0x342ca6&&_0x29ff42['numPointShadows']===_0x264c7c&&_0x29ff42['numSpotShadows']===_0x2ab1c1&&_0x29ff42['numSpotMaps']===_0x160c74&&_0x29ff42['numLightProbes']===_0x1df7bd||(_0x4b8062['directional']['length']=_0x5cb7a9,_0x4b8062['spot']['length']=_0x302807,_0x4b8062['rectArea']['length']=_0xe4b867,_0x4b8062['point']['length']=_0x1b39c6,_0x4b8062['hemi']['length']=_0x525443,_0x4b8062['directionalShadow']['length']=_0x342ca6,_0x4b8062['directionalShadowMap']['length']=_0x342ca6,_0x4b8062['pointShadow']['length']=_0x264c7c,_0x4b8062['pointShadowMap']['length']=_0x264c7c,_0x4b8062['spotShadow']['length']=_0x2ab1c1,_0x4b8062['spotShadowMap']['length']=_0x2ab1c1,_0x4b8062['directionalShadowMatrix']['length']=_0x342ca6,_0x4b8062['pointShadowMatrix']['length']=_0x264c7c,_0x4b8062['spotLightMatrix']['length']=_0x2ab1c1+_0x160c74-_0x3fc607,_0x4b8062['spotLightMap']['length']=_0x160c74,_0x4b8062['numSpotLightShadowsWithMaps']=_0x3fc607,_0x4b8062['numLightProbes']=_0x1df7bd,_0x29ff42['directionalLength']=_0x5cb7a9,_0x29ff42['pointLength']=_0x1b39c6,_0x29ff42['spotLength']=_0x302807,_0x29ff42['rectAreaLength']=_0xe4b867,_0x29ff42['hemiLength']=_0x525443,_0x29ff42['numDirectionalShadows']=_0x342ca6,_0x29ff42['numPointShadows']=_0x264c7c,_0x29ff42['numSpotShadows']=_0x2ab1c1,_0x29ff42['numSpotMaps']=_0x160c74,_0x29ff42['numLightProbes']=_0x1df7bd,_0x4b8062['version']=_0x5297e7++);},'setupView':function(_0x266d2d,_0x2c7e0f){let _0x3dec59=0x0,_0x1461c3=0x0,_0x89c552=0x0,_0x4865bc=0x0,_0x38c093=0x0;const _0x1eac8d=_0x2c7e0f['matrixWorldInverse'];for(let _0x51170a=0x0,_0x321816=_0x266d2d['length'];_0x51170a<_0x321816;_0x51170a++){const _0x26c00c=_0x266d2d[_0x51170a];if(_0x26c00c['isDirectionalLight']){const _0x176ebe=_0x4b8062['directional'][_0x3dec59];_0x176ebe['direction']['setFromMatrixPosition'](_0x26c00c['matrixWorld']),_0x336159['setFromMatrixPosition'](_0x26c00c['target']['matrixWorld']),_0x176ebe['direction']['sub'](_0x336159),_0x176ebe['direction']['transformDirection'](_0x1eac8d),_0x3dec59++;}else{if(_0x26c00c['isSpotLight']){const _0x4305ea=_0x4b8062['spot'][_0x89c552];_0x4305ea['position']['setFromMatrixPosition'](_0x26c00c['matrixWorld']),_0x4305ea['position']['applyMatrix4'](_0x1eac8d),_0x4305ea['direction']['setFromMatrixPosition'](_0x26c00c['matrixWorld']),_0x336159['setFromMatrixPosition'](_0x26c00c['target']['matrixWorld']),_0x4305ea['direction']['sub'](_0x336159),_0x4305ea['direction']['transformDirection'](_0x1eac8d),_0x89c552++;}else{if(_0x26c00c['isRectAreaLight']){const _0x10197b=_0x4b8062['rectArea'][_0x4865bc];_0x10197b['position']['setFromMatrixPosition'](_0x26c00c['matrixWorld']),_0x10197b['position']['applyMatrix4'](_0x1eac8d),_0x3e067d['identity'](),_0x26145c['copy'](_0x26c00c['matrixWorld']),_0x26145c['premultiply'](_0x1eac8d),_0x3e067d['extractRotation'](_0x26145c),_0x10197b['halfWidth']['set'](0.5*_0x26c00c['width'],0x0,0x0),_0x10197b['halfHeight']['set'](0x0,0.5*_0x26c00c['height'],0x0),_0x10197b['halfWidth']['applyMatrix4'](_0x3e067d),_0x10197b['halfHeight']['applyMatrix4'](_0x3e067d),_0x4865bc++;}else{if(_0x26c00c['isPointLight']){const _0x32a5e8=_0x4b8062['point'][_0x1461c3];_0x32a5e8['position']['setFromMatrixPosition'](_0x26c00c['matrixWorld']),_0x32a5e8['position']['applyMatrix4'](_0x1eac8d),_0x1461c3++;}else{if(_0x26c00c['isHemisphereLight']){const _0x189a04=_0x4b8062['hemi'][_0x38c093];_0x189a04['direction']['setFromMatrixPosition'](_0x26c00c['matrixWorld']),_0x189a04['direction']['transformDirection'](_0x1eac8d),_0x38c093++;}}}}}}},'state':_0x4b8062};}function _0xf4e1a9(_0x43049e){const _0x99d84b=new _0x1aca7b(_0x43049e),_0x276626=[],_0x1e54bf=[],_0x3fb7c6={'lightsArray':_0x276626,'shadowsArray':_0x1e54bf,'camera':null,'lights':_0x99d84b,'transmissionRenderTarget':{}};return{'init':function(_0x1829fe){_0x3fb7c6['camera']=_0x1829fe,_0x276626['length']=0x0,_0x1e54bf['length']=0x0;},'state':_0x3fb7c6,'setupLights':function(){_0x99d84b['setup'](_0x276626);},'setupLightsView':function(_0x67a161){_0x99d84b['setupView'](_0x276626,_0x67a161);},'pushLight':function(_0x17e592){_0x276626['push'](_0x17e592);},'pushShadow':function(_0x11868f){_0x1e54bf['push'](_0x11868f);}};}function _0x3cdda2(_0x4d2813){let _0x25fb92=new WeakMap();return{'get':function(_0x428a5a,_0x57237c=0x0){const _0x5eaace=_0x25fb92['get'](_0x428a5a);let _0x2d346c;return void 0x0===_0x5eaace?(_0x2d346c=new _0xf4e1a9(_0x4d2813),_0x25fb92['set'](_0x428a5a,[_0x2d346c])):_0x57237c>=_0x5eaace['length']?(_0x2d346c=new _0xf4e1a9(_0x4d2813),_0x5eaace['push'](_0x2d346c)):_0x2d346c=_0x5eaace[_0x57237c],_0x2d346c;},'dispose':function(){_0x25fb92=new WeakMap();}};}function _0x3ea951(_0x188c9a,_0x14853e,_0x1da92d){let _0x39120c=new _0x207dba['PPD']();const _0x163341=new _0x207dba['I9Y'](),_0x283403=new _0x207dba['I9Y'](),_0x531a51=new _0x207dba['IUQ'](),_0x2ea6f4=new _0x207dba['CSG']({'depthPacking':_0x207dba['N5j']}),_0x5475cb=new _0x207dba['aVO'](),_0x4267dc={},_0x18b1f1=_0x1da92d['maxTextureSize'],_0x1360e7={[_0x207dba['hB5']]:_0x207dba['hsX'],[_0x207dba['hsX']]:_0x207dba['hB5'],[_0x207dba['$EB']]:_0x207dba['$EB']},_0x54a6f3=new _0x207dba['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0x207dba['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0x564e37=_0x54a6f3['clone']();_0x564e37['defines']['HORIZONTAL_PASS']=0x1;const _0x4177fd=new _0x207dba['LoY']();_0x4177fd['setAttribute']('position',new _0x207dba['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x3fc1e9=new _0x207dba['eaF'](_0x4177fd,_0x54a6f3),_0x3383f8=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0x207dba['QP0'];let _0x19e26e=this['type'];function _0x4c9ca3(_0x47001c,_0x193d47){const _0x3bd65f=_0x14853e['update'](_0x3fc1e9);_0x54a6f3['defines']['VSM_SAMPLES']!==_0x47001c['blurSamples']&&(_0x54a6f3['defines']['VSM_SAMPLES']=_0x47001c['blurSamples'],_0x564e37['defines']['VSM_SAMPLES']=_0x47001c['blurSamples'],_0x54a6f3['needsUpdate']=!0x0,_0x564e37['needsUpdate']=!0x0),null===_0x47001c['mapPass']&&(_0x47001c['mapPass']=new _0x207dba['nWS'](_0x163341['x'],_0x163341['y'])),_0x54a6f3['uniforms']['shadow_pass']['value']=_0x47001c['map']['texture'],_0x54a6f3['uniforms']['resolution']['value']=_0x47001c['mapSize'],_0x54a6f3['uniforms']['radius']['value']=_0x47001c['radius'],_0x188c9a['setRenderTarget'](_0x47001c['mapPass']),_0x188c9a['clear'](),_0x188c9a['renderBufferDirect'](_0x193d47,null,_0x3bd65f,_0x54a6f3,_0x3fc1e9,null),_0x564e37['uniforms']['shadow_pass']['value']=_0x47001c['mapPass']['texture'],_0x564e37['uniforms']['resolution']['value']=_0x47001c['mapSize'],_0x564e37['uniforms']['radius']['value']=_0x47001c['radius'],_0x188c9a['setRenderTarget'](_0x47001c['map']),_0x188c9a['clear'](),_0x188c9a['renderBufferDirect'](_0x193d47,null,_0x3bd65f,_0x564e37,_0x3fc1e9,null);}function _0x1be681(_0x26a6a4,_0x59b9bc,_0x5af914,_0x15ebca){let _0x1295dd=null;const _0x30067d=!0x0===_0x5af914['isPointLight']?_0x26a6a4['customDistanceMaterial']:_0x26a6a4['customDepthMaterial'];if(void 0x0!==_0x30067d)_0x1295dd=_0x30067d;else{if(_0x1295dd=!0x0===_0x5af914['isPointLight']?_0x5475cb:_0x2ea6f4,_0x188c9a['localClippingEnabled']&&!0x0===_0x59b9bc['clipShadows']&&Array['isArray'](_0x59b9bc['clippingPlanes'])&&0x0!==_0x59b9bc['clippingPlanes']['length']||_0x59b9bc['displacementMap']&&0x0!==_0x59b9bc['displacementScale']||_0x59b9bc['alphaMap']&&_0x59b9bc['alphaTest']>0x0||_0x59b9bc['map']&&_0x59b9bc['alphaTest']>0x0){const _0x25500a=_0x1295dd['uuid'],_0x2e4967=_0x59b9bc['uuid'];let _0x427063=_0x4267dc[_0x25500a];void 0x0===_0x427063&&(_0x427063={},_0x4267dc[_0x25500a]=_0x427063);let _0x2d432b=_0x427063[_0x2e4967];void 0x0===_0x2d432b&&(_0x2d432b=_0x1295dd['clone'](),_0x427063[_0x2e4967]=_0x2d432b,_0x59b9bc['addEventListener']('dispose',_0x3458b5)),_0x1295dd=_0x2d432b;}}return(_0x1295dd['visible']=_0x59b9bc['visible'],_0x1295dd['wireframe']=_0x59b9bc['wireframe'],_0x15ebca===_0x207dba['RyA']?_0x1295dd['side']=null!==_0x59b9bc['shadowSide']?_0x59b9bc['shadowSide']:_0x59b9bc['side']:_0x1295dd['side']=null!==_0x59b9bc['shadowSide']?_0x59b9bc['shadowSide']:_0x1360e7[_0x59b9bc['side']],_0x1295dd['alphaMap']=_0x59b9bc['alphaMap'],_0x1295dd['alphaTest']=_0x59b9bc['alphaTest'],_0x1295dd['map']=_0x59b9bc['map'],_0x1295dd['clipShadows']=_0x59b9bc['clipShadows'],_0x1295dd['clippingPlanes']=_0x59b9bc['clippingPlanes'],_0x1295dd['clipIntersection']=_0x59b9bc['clipIntersection'],_0x1295dd['displacementMap']=_0x59b9bc['displacementMap'],_0x1295dd['displacementScale']=_0x59b9bc['displacementScale'],_0x1295dd['displacementBias']=_0x59b9bc['displacementBias'],_0x1295dd['wireframeLinewidth']=_0x59b9bc['wireframeLinewidth'],_0x1295dd['linewidth']=_0x59b9bc['linewidth'],!0x0===_0x5af914['isPointLight']&&!0x0===_0x1295dd['isMeshDistanceMaterial'])&&(_0x188c9a['properties']['get'](_0x1295dd)['light']=_0x5af914),_0x1295dd;}function _0x11994f(_0x14bb8e,_0x256663,_0xe334b2,_0x520cd8,_0x9d017e){if(!0x1===_0x14bb8e['visible'])return;if(_0x14bb8e['layers']['test'](_0x256663['layers'])&&(_0x14bb8e['isMesh']||_0x14bb8e['isLine']||_0x14bb8e['isPoints'])&&(_0x14bb8e['castShadow']||_0x14bb8e['receiveShadow']&&_0x9d017e===_0x207dba['RyA'])&&(!_0x14bb8e['frustumCulled']||_0x39120c['intersectsObject'](_0x14bb8e))){_0x14bb8e['modelViewMatrix']['multiplyMatrices'](_0xe334b2['matrixWorldInverse'],_0x14bb8e['matrixWorld']);const _0x5b5739=_0x14853e['update'](_0x14bb8e),_0x4a149f=_0x14bb8e['material'];if(Array['isArray'](_0x4a149f)){const _0x1ceb0a=_0x5b5739['groups'];for(let _0xe3b846=0x0,_0x25a839=_0x1ceb0a['length'];_0xe3b846<_0x25a839;_0xe3b846++){const _0x53de5d=_0x1ceb0a[_0xe3b846],_0x504759=_0x4a149f[_0x53de5d['materialIndex']];if(_0x504759&&_0x504759['visible']){const _0x3de8b5=_0x1be681(_0x14bb8e,_0x504759,_0x520cd8,_0x9d017e);_0x14bb8e['onBeforeShadow'](_0x188c9a,_0x14bb8e,_0x256663,_0xe334b2,_0x5b5739,_0x3de8b5,_0x53de5d),_0x188c9a['renderBufferDirect'](_0xe334b2,null,_0x5b5739,_0x3de8b5,_0x14bb8e,_0x53de5d),_0x14bb8e['onAfterShadow'](_0x188c9a,_0x14bb8e,_0x256663,_0xe334b2,_0x5b5739,_0x3de8b5,_0x53de5d);}}}else{if(_0x4a149f['visible']){const _0x422216=_0x1be681(_0x14bb8e,_0x4a149f,_0x520cd8,_0x9d017e);_0x14bb8e['onBeforeShadow'](_0x188c9a,_0x14bb8e,_0x256663,_0xe334b2,_0x5b5739,_0x422216,null),_0x188c9a['renderBufferDirect'](_0xe334b2,null,_0x5b5739,_0x422216,_0x14bb8e,null),_0x14bb8e['onAfterShadow'](_0x188c9a,_0x14bb8e,_0x256663,_0xe334b2,_0x5b5739,_0x422216,null);}}}const _0x3e89ce=_0x14bb8e['children'];for(let _0x18f43a=0x0,_0x1dd0d2=_0x3e89ce['length'];_0x18f43a<_0x1dd0d2;_0x18f43a++)_0x11994f(_0x3e89ce[_0x18f43a],_0x256663,_0xe334b2,_0x520cd8,_0x9d017e);}function _0x3458b5(_0x1128c4){_0x1128c4['target']['removeEventListener']('dispose',_0x3458b5);for(const _0x23d20c in _0x4267dc){const _0x1b113b=_0x4267dc[_0x23d20c],_0x283e0c=_0x1128c4['target']['uuid'];_0x283e0c in _0x1b113b&&(_0x1b113b[_0x283e0c]['dispose'](),delete _0x1b113b[_0x283e0c]);}}this['render']=function(_0x3b30bc,_0x867b6d,_0x190b80){if(!0x1===_0x3383f8['enabled'])return;if(!0x1===_0x3383f8['autoUpdate']&&!0x1===_0x3383f8['needsUpdate'])return;if(0x0===_0x3b30bc['length'])return;const _0x57903d=_0x188c9a['getRenderTarget'](),_0x2dcda1=_0x188c9a['getActiveCubeFace'](),_0x55c760=_0x188c9a['getActiveMipmapLevel'](),_0x2bb7d7=_0x188c9a['state'];_0x2bb7d7['setBlending'](_0x207dba['XIg']),_0x2bb7d7['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0x2bb7d7['buffers']['depth']['setTest'](!0x0),_0x2bb7d7['setScissorTest'](!0x1);const _0x195920=_0x19e26e!==_0x207dba['RyA']&&this['type']===_0x207dba['RyA'],_0x43de28=_0x19e26e===_0x207dba['RyA']&&this['type']!==_0x207dba['RyA'];for(let _0x3453c5=0x0,_0x554435=_0x3b30bc['length'];_0x3453c5<_0x554435;_0x3453c5++){const _0xd4d6b7=_0x3b30bc[_0x3453c5],_0x5bb6cd=_0xd4d6b7['shadow'];if(void 0x0===_0x5bb6cd){console['warn']('THREE.WebGLShadowMap:',_0xd4d6b7,'has\x20no\x20shadow.');continue;}if(!0x1===_0x5bb6cd['autoUpdate']&&!0x1===_0x5bb6cd['needsUpdate'])continue;_0x163341['copy'](_0x5bb6cd['mapSize']);const _0x8e8ca=_0x5bb6cd['getFrameExtents']();if(_0x163341['multiply'](_0x8e8ca),_0x283403['copy'](_0x5bb6cd['mapSize']),(_0x163341['x']>_0x18b1f1||_0x163341['y']>_0x18b1f1)&&(_0x163341['x']>_0x18b1f1&&(_0x283403['x']=Math['floor'](_0x18b1f1/_0x8e8ca['x']),_0x163341['x']=_0x283403['x']*_0x8e8ca['x'],_0x5bb6cd['mapSize']['x']=_0x283403['x']),_0x163341['y']>_0x18b1f1&&(_0x283403['y']=Math['floor'](_0x18b1f1/_0x8e8ca['y']),_0x163341['y']=_0x283403['y']*_0x8e8ca['y'],_0x5bb6cd['mapSize']['y']=_0x283403['y'])),null===_0x5bb6cd['map']||!0x0===_0x195920||!0x0===_0x43de28){const _0x378b28=this['type']!==_0x207dba['RyA']?{'minFilter':_0x207dba['hxR'],'magFilter':_0x207dba['hxR']}:{};null!==_0x5bb6cd['map']&&_0x5bb6cd['map']['dispose'](),_0x5bb6cd['map']=new _0x207dba['nWS'](_0x163341['x'],_0x163341['y'],_0x378b28),_0x5bb6cd['map']['texture']['name']=_0xd4d6b7['name']+'.shadowMap',_0x5bb6cd['camera']['updateProjectionMatrix']();}_0x188c9a['setRenderTarget'](_0x5bb6cd['map']),_0x188c9a['clear']();const _0x52405f=_0x5bb6cd['getViewportCount']();for(let _0x99c2fc=0x0;_0x99c2fc<_0x52405f;_0x99c2fc++){const _0x4eba9a=_0x5bb6cd['getViewport'](_0x99c2fc);_0x531a51['set'](_0x283403['x']*_0x4eba9a['x'],_0x283403['y']*_0x4eba9a['y'],_0x283403['x']*_0x4eba9a['z'],_0x283403['y']*_0x4eba9a['w']),_0x2bb7d7['viewport'](_0x531a51),_0x5bb6cd['updateMatrices'](_0xd4d6b7,_0x99c2fc),_0x39120c=_0x5bb6cd['getFrustum'](),_0x11994f(_0x867b6d,_0x190b80,_0x5bb6cd['camera'],_0xd4d6b7,this['type']);}!0x0!==_0x5bb6cd['isPointLightShadow']&&this['type']===_0x207dba['RyA']&&_0x4c9ca3(_0x5bb6cd,_0x190b80),_0x5bb6cd['needsUpdate']=!0x1;}_0x19e26e=this['type'],_0x3383f8['needsUpdate']=!0x1,_0x188c9a['setRenderTarget'](_0x57903d,_0x2dcda1,_0x55c760);};}const _0x42e04c={[_0x207dba['eHc']]:_0x207dba['lGu'],[_0x207dba['brA']]:_0x207dba['K52'],[_0x207dba['U3G']]:_0x207dba['bw0'],[_0x207dba['xSv']]:_0x207dba['Gwm'],[_0x207dba['lGu']]:_0x207dba['eHc'],[_0x207dba['K52']]:_0x207dba['brA'],[_0x207dba['bw0']]:_0x207dba['U3G'],[_0x207dba['Gwm']]:_0x207dba['xSv']};function _0x5a673b(_0x8aff83,_0xf49a17){const _0xab4ce4=new function(){let _0x443cbb=!0x1;const _0x5ca493=new _0x207dba['IUQ']();let _0x36ca1f=null;const _0x3ef919=new _0x207dba['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0x4aa919){_0x36ca1f===_0x4aa919||_0x443cbb||(_0x8aff83['colorMask'](_0x4aa919,_0x4aa919,_0x4aa919,_0x4aa919),_0x36ca1f=_0x4aa919);},'setLocked':function(_0x415544){_0x443cbb=_0x415544;},'setClear':function(_0x42fd29,_0x139cec,_0x27423c,_0x482af3,_0x5885f3){!0x0===_0x5885f3&&(_0x42fd29*=_0x482af3,_0x139cec*=_0x482af3,_0x27423c*=_0x482af3),_0x5ca493['set'](_0x42fd29,_0x139cec,_0x27423c,_0x482af3),!0x1===_0x3ef919['equals'](_0x5ca493)&&(_0x8aff83['clearColor'](_0x42fd29,_0x139cec,_0x27423c,_0x482af3),_0x3ef919['copy'](_0x5ca493));},'reset':function(){_0x443cbb=!0x1,_0x36ca1f=null,_0x3ef919['set'](-0x1,0x0,0x0,0x0);}};}(),_0x120f4d=new function(){let _0x5806da=!0x1,_0x5a464b=!0x1,_0x4f71f2=null,_0x1b1642=null,_0x36b1d7=null;return{'setReversed':function(_0x316478){if(_0x5a464b!==_0x316478){const _0x2e40df=_0xf49a17['get']('EXT_clip_control');_0x5a464b?_0x2e40df['clipControlEXT'](_0x2e40df['LOWER_LEFT_EXT'],_0x2e40df['ZERO_TO_ONE_EXT']):_0x2e40df['clipControlEXT'](_0x2e40df['LOWER_LEFT_EXT'],_0x2e40df['NEGATIVE_ONE_TO_ONE_EXT']);const _0x229e78=_0x36b1d7;_0x36b1d7=null,this['setClear'](_0x229e78);}_0x5a464b=_0x316478;},'getReversed':function(){return _0x5a464b;},'setTest':function(_0x46b6c3){_0x46b6c3?_0x74160d(_0x8aff83['DEPTH_TEST']):_0xe74df6(_0x8aff83['DEPTH_TEST']);},'setMask':function(_0x48a0b1){_0x4f71f2===_0x48a0b1||_0x5806da||(_0x8aff83['depthMask'](_0x48a0b1),_0x4f71f2=_0x48a0b1);},'setFunc':function(_0x48787e){if(_0x5a464b&&(_0x48787e=_0x42e04c[_0x48787e]),_0x1b1642!==_0x48787e){switch(_0x48787e){case _0x207dba['eHc']:_0x8aff83['depthFunc'](_0x8aff83['NEVER']);break;case _0x207dba['lGu']:_0x8aff83['depthFunc'](_0x8aff83['ALWAYS']);break;case _0x207dba['brA']:_0x8aff83['depthFunc'](_0x8aff83['LESS']);break;case _0x207dba['xSv']:_0x8aff83['depthFunc'](_0x8aff83['LEQUAL']);break;case _0x207dba['U3G']:_0x8aff83['depthFunc'](_0x8aff83['EQUAL']);break;case _0x207dba['Gwm']:_0x8aff83['depthFunc'](_0x8aff83['GEQUAL']);break;case _0x207dba['K52']:_0x8aff83['depthFunc'](_0x8aff83['GREATER']);break;case _0x207dba['bw0']:_0x8aff83['depthFunc'](_0x8aff83['NOTEQUAL']);break;default:_0x8aff83['depthFunc'](_0x8aff83['LEQUAL']);}_0x1b1642=_0x48787e;}},'setLocked':function(_0x404383){_0x5806da=_0x404383;},'setClear':function(_0x4804c2){_0x36b1d7!==_0x4804c2&&(_0x5a464b&&(_0x4804c2=0x1-_0x4804c2),_0x8aff83['clearDepth'](_0x4804c2),_0x36b1d7=_0x4804c2);},'reset':function(){_0x5806da=!0x1,_0x4f71f2=null,_0x1b1642=null,_0x36b1d7=null,_0x5a464b=!0x1;}};}(),_0x11fd88=new function(){let _0x2f4196=!0x1,_0x16f07a=null,_0x514457=null,_0x2db58a=null,_0x13f6cd=null,_0x1896b7=null,_0x25ca62=null,_0x1eb064=null,_0x24236a=null;return{'setTest':function(_0x300b39){_0x2f4196||(_0x300b39?_0x74160d(_0x8aff83['STENCIL_TEST']):_0xe74df6(_0x8aff83['STENCIL_TEST']));},'setMask':function(_0x229ac3){_0x16f07a===_0x229ac3||_0x2f4196||(_0x8aff83['stencilMask'](_0x229ac3),_0x16f07a=_0x229ac3);},'setFunc':function(_0x84206e,_0x44c1d5,_0x391c33){_0x514457===_0x84206e&&_0x2db58a===_0x44c1d5&&_0x13f6cd===_0x391c33||(_0x8aff83['stencilFunc'](_0x84206e,_0x44c1d5,_0x391c33),_0x514457=_0x84206e,_0x2db58a=_0x44c1d5,_0x13f6cd=_0x391c33);},'setOp':function(_0x22fbd4,_0x76e034,_0xdbaa3a){_0x1896b7===_0x22fbd4&&_0x25ca62===_0x76e034&&_0x1eb064===_0xdbaa3a||(_0x8aff83['stencilOp'](_0x22fbd4,_0x76e034,_0xdbaa3a),_0x1896b7=_0x22fbd4,_0x25ca62=_0x76e034,_0x1eb064=_0xdbaa3a);},'setLocked':function(_0x231b78){_0x2f4196=_0x231b78;},'setClear':function(_0x45374f){_0x24236a!==_0x45374f&&(_0x8aff83['clearStencil'](_0x45374f),_0x24236a=_0x45374f);},'reset':function(){_0x2f4196=!0x1,_0x16f07a=null,_0x514457=null,_0x2db58a=null,_0x13f6cd=null,_0x1896b7=null,_0x25ca62=null,_0x1eb064=null,_0x24236a=null;}};}(),_0x231f03=new WeakMap(),_0x3ed500=new WeakMap();let _0x3072dc={},_0x3633dd={},_0x46193d=new WeakMap(),_0x137bfb=[],_0x41ad44=null,_0xe33730=!0x1,_0x31a755=null,_0x5084ef=null,_0xb5a09a=null,_0x1603c3=null,_0x429b33=null,_0x119436=null,_0x2dbe06=null,_0x2faec7=new _0x207dba['Q1f'](0x0,0x0,0x0),_0x1323c6=0x0,_0x407c16=!0x1,_0x50086f=null,_0x43d7d1=null,_0x3544c3=null,_0x1ce9e3=null,_0x49c3c2=null;const _0x24ee8c=_0x8aff83['getParameter'](_0x8aff83['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x5d36a6=!0x1,_0x5d68d4=0x0;const _0x8d17ed=_0x8aff83['getParameter'](_0x8aff83['VERSION']);-0x1!==_0x8d17ed['indexOf']('WebGL')?(_0x5d68d4=parseFloat(/^WebGL (\d)/['exec'](_0x8d17ed)[0x1]),_0x5d36a6=_0x5d68d4>=0x1):-0x1!==_0x8d17ed['indexOf']('OpenGL\x20ES')&&(_0x5d68d4=parseFloat(/^OpenGL ES (\d)/['exec'](_0x8d17ed)[0x1]),_0x5d36a6=_0x5d68d4>=0x2);let _0x1e8c8f=null,_0x4abbc4={};const _0x85528b=_0x8aff83['getParameter'](_0x8aff83['SCISSOR_BOX']),_0xf9e737=_0x8aff83['getParameter'](_0x8aff83['VIEWPORT']),_0x120f34=new _0x207dba['IUQ']()['fromArray'](_0x85528b),_0x2ad95c=new _0x207dba['IUQ']()['fromArray'](_0xf9e737);function _0x2fbef0(_0x40506e,_0x96f090,_0x85749e,_0x168e7b){const _0x21c175=new Uint8Array(0x4),_0x3e93e3=_0x8aff83['createTexture']();_0x8aff83['bindTexture'](_0x40506e,_0x3e93e3),_0x8aff83['texParameteri'](_0x40506e,_0x8aff83['TEXTURE_MIN_FILTER'],_0x8aff83['NEAREST']),_0x8aff83['texParameteri'](_0x40506e,_0x8aff83['TEXTURE_MAG_FILTER'],_0x8aff83['NEAREST']);for(let _0x2954d0=0x0;_0x2954d0<_0x85749e;_0x2954d0++)_0x40506e===_0x8aff83['TEXTURE_3D']||_0x40506e===_0x8aff83['TEXTURE_2D_ARRAY']?_0x8aff83['texImage3D'](_0x96f090,0x0,_0x8aff83['RGBA'],0x1,0x1,_0x168e7b,0x0,_0x8aff83['RGBA'],_0x8aff83['UNSIGNED_BYTE'],_0x21c175):_0x8aff83['texImage2D'](_0x96f090+_0x2954d0,0x0,_0x8aff83['RGBA'],0x1,0x1,0x0,_0x8aff83['RGBA'],_0x8aff83['UNSIGNED_BYTE'],_0x21c175);return _0x3e93e3;}const _0x5e86e1={};function _0x74160d(_0x560a1c){!0x0!==_0x3072dc[_0x560a1c]&&(_0x8aff83['enable'](_0x560a1c),_0x3072dc[_0x560a1c]=!0x0);}function _0xe74df6(_0x1d64fa){!0x1!==_0x3072dc[_0x1d64fa]&&(_0x8aff83['disable'](_0x1d64fa),_0x3072dc[_0x1d64fa]=!0x1);}_0x5e86e1[_0x8aff83['TEXTURE_2D']]=_0x2fbef0(_0x8aff83['TEXTURE_2D'],_0x8aff83['TEXTURE_2D'],0x1),_0x5e86e1[_0x8aff83['TEXTURE_CUBE_MAP']]=_0x2fbef0(_0x8aff83['TEXTURE_CUBE_MAP'],_0x8aff83['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x5e86e1[_0x8aff83['TEXTURE_2D_ARRAY']]=_0x2fbef0(_0x8aff83['TEXTURE_2D_ARRAY'],_0x8aff83['TEXTURE_2D_ARRAY'],0x1,0x1),_0x5e86e1[_0x8aff83['TEXTURE_3D']]=_0x2fbef0(_0x8aff83['TEXTURE_3D'],_0x8aff83['TEXTURE_3D'],0x1,0x1),_0xab4ce4['setClear'](0x0,0x0,0x0,0x1),_0x120f4d['setClear'](0x1),_0x11fd88['setClear'](0x0),_0x74160d(_0x8aff83['DEPTH_TEST']),_0x120f4d['setFunc'](_0x207dba['xSv']),_0x325005(!0x1),_0x14bb0a(_0x207dba['Vb5']),_0x74160d(_0x8aff83['CULL_FACE']),_0x5be021(_0x207dba['XIg']);const _0x5a0997={[_0x207dba['gO9']]:_0x8aff83['FUNC_ADD'],[_0x207dba['FXf']]:_0x8aff83['FUNC_SUBTRACT'],[_0x207dba['nST']]:_0x8aff83['FUNC_REVERSE_SUBTRACT']};_0x5a0997[_0x207dba['znC']]=_0x8aff83['MIN'],_0x5a0997[_0x207dba['$ei']]=_0x8aff83['MAX'];const _0x1c0a2e={[_0x207dba['ojh']]:_0x8aff83['ZERO'],[_0x207dba['qad']]:_0x8aff83['ONE'],[_0x207dba['f4X']]:_0x8aff83['SRC_COLOR'],[_0x207dba['ie2']]:_0x8aff83['SRC_ALPHA'],[_0x207dba['hgQ']]:_0x8aff83['SRC_ALPHA_SATURATE'],[_0x207dba['wn6']]:_0x8aff83['DST_COLOR'],[_0x207dba['hdd']]:_0x8aff83['DST_ALPHA'],[_0x207dba['LiQ']]:_0x8aff83['ONE_MINUS_SRC_COLOR'],[_0x207dba['OuU']]:_0x8aff83['ONE_MINUS_SRC_ALPHA'],[_0x207dba['aEY']]:_0x8aff83['ONE_MINUS_DST_COLOR'],[_0x207dba['Nt7']]:_0x8aff83['ONE_MINUS_DST_ALPHA'],[_0x207dba['RrE']]:_0x8aff83['CONSTANT_COLOR'],[_0x207dba['$Yl']]:_0x8aff83['ONE_MINUS_CONSTANT_COLOR'],[_0x207dba['e0p']]:_0x8aff83['CONSTANT_ALPHA'],[_0x207dba['ov9']]:_0x8aff83['ONE_MINUS_CONSTANT_ALPHA']};function _0x5be021(_0x361cb9,_0x18a186,_0x29ba55,_0x366594,_0x18ca1e,_0x462fc8,_0x5f2f1f,_0x5e80ac,_0x47934f,_0x31c883){if(_0x361cb9!==_0x207dba['XIg']){if(!0x1===_0xe33730&&(_0x74160d(_0x8aff83['BLEND']),_0xe33730=!0x0),_0x361cb9===_0x207dba['bCz'])_0x18ca1e=_0x18ca1e||_0x18a186,_0x462fc8=_0x462fc8||_0x29ba55,_0x5f2f1f=_0x5f2f1f||_0x366594,_0x18a186===_0x5084ef&&_0x18ca1e===_0x429b33||(_0x8aff83['blendEquationSeparate'](_0x5a0997[_0x18a186],_0x5a0997[_0x18ca1e]),_0x5084ef=_0x18a186,_0x429b33=_0x18ca1e),_0x29ba55===_0xb5a09a&&_0x366594===_0x1603c3&&_0x462fc8===_0x119436&&_0x5f2f1f===_0x2dbe06||(_0x8aff83['blendFuncSeparate'](_0x1c0a2e[_0x29ba55],_0x1c0a2e[_0x366594],_0x1c0a2e[_0x462fc8],_0x1c0a2e[_0x5f2f1f]),_0xb5a09a=_0x29ba55,_0x1603c3=_0x366594,_0x119436=_0x462fc8,_0x2dbe06=_0x5f2f1f),!0x1!==_0x5e80ac['equals'](_0x2faec7)&&_0x47934f===_0x1323c6||(_0x8aff83['blendColor'](_0x5e80ac['r'],_0x5e80ac['g'],_0x5e80ac['b'],_0x47934f),_0x2faec7['copy'](_0x5e80ac),_0x1323c6=_0x47934f),_0x31a755=_0x361cb9,_0x407c16=!0x1;else{if(_0x361cb9!==_0x31a755||_0x31c883!==_0x407c16){if(_0x5084ef===_0x207dba['gO9']&&_0x429b33===_0x207dba['gO9']||(_0x8aff83['blendEquation'](_0x8aff83['FUNC_ADD']),_0x5084ef=_0x207dba['gO9'],_0x429b33=_0x207dba['gO9']),_0x31c883)switch(_0x361cb9){case _0x207dba['NTi']:_0x8aff83['blendFuncSeparate'](_0x8aff83['ONE'],_0x8aff83['ONE_MINUS_SRC_ALPHA'],_0x8aff83['ONE'],_0x8aff83['ONE_MINUS_SRC_ALPHA']);break;case _0x207dba['EZo']:_0x8aff83['blendFunc'](_0x8aff83['ONE'],_0x8aff83['ONE']);break;case _0x207dba['Kwu']:_0x8aff83['blendFuncSeparate'](_0x8aff83['ZERO'],_0x8aff83['ONE_MINUS_SRC_COLOR'],_0x8aff83['ZERO'],_0x8aff83['ONE']);break;case _0x207dba['EdD']:_0x8aff83['blendFuncSeparate'](_0x8aff83['ZERO'],_0x8aff83['SRC_COLOR'],_0x8aff83['ZERO'],_0x8aff83['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x361cb9);}else switch(_0x361cb9){case _0x207dba['NTi']:_0x8aff83['blendFuncSeparate'](_0x8aff83['SRC_ALPHA'],_0x8aff83['ONE_MINUS_SRC_ALPHA'],_0x8aff83['ONE'],_0x8aff83['ONE_MINUS_SRC_ALPHA']);break;case _0x207dba['EZo']:_0x8aff83['blendFunc'](_0x8aff83['SRC_ALPHA'],_0x8aff83['ONE']);break;case _0x207dba['Kwu']:_0x8aff83['blendFuncSeparate'](_0x8aff83['ZERO'],_0x8aff83['ONE_MINUS_SRC_COLOR'],_0x8aff83['ZERO'],_0x8aff83['ONE']);break;case _0x207dba['EdD']:_0x8aff83['blendFunc'](_0x8aff83['ZERO'],_0x8aff83['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x361cb9);}_0xb5a09a=null,_0x1603c3=null,_0x119436=null,_0x2dbe06=null,_0x2faec7['set'](0x0,0x0,0x0),_0x1323c6=0x0,_0x31a755=_0x361cb9,_0x407c16=_0x31c883;}}}else!0x0===_0xe33730&&(_0xe74df6(_0x8aff83['BLEND']),_0xe33730=!0x1);}function _0x325005(_0x1b654b){_0x50086f!==_0x1b654b&&(_0x1b654b?_0x8aff83['frontFace'](_0x8aff83['CW']):_0x8aff83['frontFace'](_0x8aff83['CCW']),_0x50086f=_0x1b654b);}function _0x14bb0a(_0x25bf79){_0x25bf79!==_0x207dba['WNZ']?(_0x74160d(_0x8aff83['CULL_FACE']),_0x25bf79!==_0x43d7d1&&(_0x25bf79===_0x207dba['Vb5']?_0x8aff83['cullFace'](_0x8aff83['BACK']):_0x25bf79===_0x207dba['Jnc']?_0x8aff83['cullFace'](_0x8aff83['FRONT']):_0x8aff83['cullFace'](_0x8aff83['FRONT_AND_BACK']))):_0xe74df6(_0x8aff83['CULL_FACE']),_0x43d7d1=_0x25bf79;}function _0x221a50(_0x325575,_0x252196,_0x4bad63){_0x325575?(_0x74160d(_0x8aff83['POLYGON_OFFSET_FILL']),_0x1ce9e3===_0x252196&&_0x49c3c2===_0x4bad63||(_0x8aff83['polygonOffset'](_0x252196,_0x4bad63),_0x1ce9e3=_0x252196,_0x49c3c2=_0x4bad63)):_0xe74df6(_0x8aff83['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0xab4ce4,'depth':_0x120f4d,'stencil':_0x11fd88},'enable':_0x74160d,'disable':_0xe74df6,'bindFramebuffer':function(_0x4aaf35,_0x24f0b3){return _0x3633dd[_0x4aaf35]!==_0x24f0b3&&(_0x8aff83['bindFramebuffer'](_0x4aaf35,_0x24f0b3),_0x3633dd[_0x4aaf35]=_0x24f0b3,_0x4aaf35===_0x8aff83['DRAW_FRAMEBUFFER']&&(_0x3633dd[_0x8aff83['FRAMEBUFFER']]=_0x24f0b3),_0x4aaf35===_0x8aff83['FRAMEBUFFER']&&(_0x3633dd[_0x8aff83['DRAW_FRAMEBUFFER']]=_0x24f0b3),!0x0);},'drawBuffers':function(_0x21f77c,_0x34b5aa){let _0x3bdc88=_0x137bfb,_0x5de4df=!0x1;if(_0x21f77c){_0x3bdc88=_0x46193d['get'](_0x34b5aa),void 0x0===_0x3bdc88&&(_0x3bdc88=[],_0x46193d['set'](_0x34b5aa,_0x3bdc88));const _0x5166d9=_0x21f77c['textures'];if(_0x3bdc88['length']!==_0x5166d9['length']||_0x3bdc88[0x0]!==_0x8aff83['COLOR_ATTACHMENT0']){for(let _0xb28ca6=0x0,_0x271354=_0x5166d9['length'];_0xb28ca6<_0x271354;_0xb28ca6++)_0x3bdc88[_0xb28ca6]=_0x8aff83['COLOR_ATTACHMENT0']+_0xb28ca6;_0x3bdc88['length']=_0x5166d9['length'],_0x5de4df=!0x0;}}else _0x3bdc88[0x0]!==_0x8aff83['BACK']&&(_0x3bdc88[0x0]=_0x8aff83['BACK'],_0x5de4df=!0x0);_0x5de4df&&_0x8aff83['drawBuffers'](_0x3bdc88);},'useProgram':function(_0x8643a5){return _0x41ad44!==_0x8643a5&&(_0x8aff83['useProgram'](_0x8643a5),_0x41ad44=_0x8643a5,!0x0);},'setBlending':_0x5be021,'setMaterial':function(_0xef304e,_0x1fc22f){_0xef304e['side']===_0x207dba['$EB']?_0xe74df6(_0x8aff83['CULL_FACE']):_0x74160d(_0x8aff83['CULL_FACE']);let _0x37162f=_0xef304e['side']===_0x207dba['hsX'];_0x1fc22f&&(_0x37162f=!_0x37162f),_0x325005(_0x37162f),_0xef304e['blending']===_0x207dba['NTi']&&!0x1===_0xef304e['transparent']?_0x5be021(_0x207dba['XIg']):_0x5be021(_0xef304e['blending'],_0xef304e['blendEquation'],_0xef304e['blendSrc'],_0xef304e['blendDst'],_0xef304e['blendEquationAlpha'],_0xef304e['blendSrcAlpha'],_0xef304e['blendDstAlpha'],_0xef304e['blendColor'],_0xef304e['blendAlpha'],_0xef304e['premultipliedAlpha']),_0x120f4d['setFunc'](_0xef304e['depthFunc']),_0x120f4d['setTest'](_0xef304e['depthTest']),_0x120f4d['setMask'](_0xef304e['depthWrite']),_0xab4ce4['setMask'](_0xef304e['colorWrite']);const _0x3b1f02=_0xef304e['stencilWrite'];_0x11fd88['setTest'](_0x3b1f02),_0x3b1f02&&(_0x11fd88['setMask'](_0xef304e['stencilWriteMask']),_0x11fd88['setFunc'](_0xef304e['stencilFunc'],_0xef304e['stencilRef'],_0xef304e['stencilFuncMask']),_0x11fd88['setOp'](_0xef304e['stencilFail'],_0xef304e['stencilZFail'],_0xef304e['stencilZPass'])),_0x221a50(_0xef304e['polygonOffset'],_0xef304e['polygonOffsetFactor'],_0xef304e['polygonOffsetUnits']),!0x0===_0xef304e['alphaToCoverage']?_0x74160d(_0x8aff83['SAMPLE_ALPHA_TO_COVERAGE']):_0xe74df6(_0x8aff83['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0x325005,'setCullFace':_0x14bb0a,'setLineWidth':function(_0x35c5ed){_0x35c5ed!==_0x3544c3&&(_0x5d36a6&&_0x8aff83['lineWidth'](_0x35c5ed),_0x3544c3=_0x35c5ed);},'setPolygonOffset':_0x221a50,'setScissorTest':function(_0x50327b){_0x50327b?_0x74160d(_0x8aff83['SCISSOR_TEST']):_0xe74df6(_0x8aff83['SCISSOR_TEST']);},'activeTexture':function(_0x3cbee1){void 0x0===_0x3cbee1&&(_0x3cbee1=_0x8aff83['TEXTURE0']+_0x24ee8c-0x1),_0x1e8c8f!==_0x3cbee1&&(_0x8aff83['activeTexture'](_0x3cbee1),_0x1e8c8f=_0x3cbee1);},'bindTexture':function(_0xeb9044,_0x182b97,_0x469d56){void 0x0===_0x469d56&&(_0x469d56=null===_0x1e8c8f?_0x8aff83['TEXTURE0']+_0x24ee8c-0x1:_0x1e8c8f);let _0x22b801=_0x4abbc4[_0x469d56];void 0x0===_0x22b801&&(_0x22b801={'type':void 0x0,'texture':void 0x0},_0x4abbc4[_0x469d56]=_0x22b801),_0x22b801['type']===_0xeb9044&&_0x22b801['texture']===_0x182b97||(_0x1e8c8f!==_0x469d56&&(_0x8aff83['activeTexture'](_0x469d56),_0x1e8c8f=_0x469d56),_0x8aff83['bindTexture'](_0xeb9044,_0x182b97||_0x5e86e1[_0xeb9044]),_0x22b801['type']=_0xeb9044,_0x22b801['texture']=_0x182b97);},'unbindTexture':function(){const _0x30b562=_0x4abbc4[_0x1e8c8f];void 0x0!==_0x30b562&&void 0x0!==_0x30b562['type']&&(_0x8aff83['bindTexture'](_0x30b562['type'],null),_0x30b562['type']=void 0x0,_0x30b562['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0x8aff83['compressedTexImage2D']['apply'](_0x8aff83,arguments);}catch(_0x348c99){console['error']('THREE.WebGLState:',_0x348c99);}},'compressedTexImage3D':function(){try{_0x8aff83['compressedTexImage3D']['apply'](_0x8aff83,arguments);}catch(_0x2a571c){console['error']('THREE.WebGLState:',_0x2a571c);}},'texImage2D':function(){try{_0x8aff83['texImage2D']['apply'](_0x8aff83,arguments);}catch(_0x4527e2){console['error']('THREE.WebGLState:',_0x4527e2);}},'texImage3D':function(){try{_0x8aff83['texImage3D']['apply'](_0x8aff83,arguments);}catch(_0x2cf03f){console['error']('THREE.WebGLState:',_0x2cf03f);}},'updateUBOMapping':function(_0x14de19,_0x2d0253){let _0x4f9245=_0x3ed500['get'](_0x2d0253);void 0x0===_0x4f9245&&(_0x4f9245=new WeakMap(),_0x3ed500['set'](_0x2d0253,_0x4f9245));let _0x32f3a5=_0x4f9245['get'](_0x14de19);void 0x0===_0x32f3a5&&(_0x32f3a5=_0x8aff83['getUniformBlockIndex'](_0x2d0253,_0x14de19['name']),_0x4f9245['set'](_0x14de19,_0x32f3a5));},'uniformBlockBinding':function(_0x3a6030,_0x216518){const _0xf29b48=_0x3ed500['get'](_0x216518)['get'](_0x3a6030);_0x231f03['get'](_0x216518)!==_0xf29b48&&(_0x8aff83['uniformBlockBinding'](_0x216518,_0xf29b48,_0x3a6030['__bindingPointIndex']),_0x231f03['set'](_0x216518,_0xf29b48));},'texStorage2D':function(){try{_0x8aff83['texStorage2D']['apply'](_0x8aff83,arguments);}catch(_0x3772bb){console['error']('THREE.WebGLState:',_0x3772bb);}},'texStorage3D':function(){try{_0x8aff83['texStorage3D']['apply'](_0x8aff83,arguments);}catch(_0x30786e){console['error']('THREE.WebGLState:',_0x30786e);}},'texSubImage2D':function(){try{_0x8aff83['texSubImage2D']['apply'](_0x8aff83,arguments);}catch(_0x38c6a1){console['error']('THREE.WebGLState:',_0x38c6a1);}},'texSubImage3D':function(){try{_0x8aff83['texSubImage3D']['apply'](_0x8aff83,arguments);}catch(_0x204b62){console['error']('THREE.WebGLState:',_0x204b62);}},'compressedTexSubImage2D':function(){try{_0x8aff83['compressedTexSubImage2D']['apply'](_0x8aff83,arguments);}catch(_0x2de9fa){console['error']('THREE.WebGLState:',_0x2de9fa);}},'compressedTexSubImage3D':function(){try{_0x8aff83['compressedTexSubImage3D']['apply'](_0x8aff83,arguments);}catch(_0x295571){console['error']('THREE.WebGLState:',_0x295571);}},'scissor':function(_0x32365d){!0x1===_0x120f34['equals'](_0x32365d)&&(_0x8aff83['scissor'](_0x32365d['x'],_0x32365d['y'],_0x32365d['z'],_0x32365d['w']),_0x120f34['copy'](_0x32365d));},'viewport':function(_0x248fc5){!0x1===_0x2ad95c['equals'](_0x248fc5)&&(_0x8aff83['viewport'](_0x248fc5['x'],_0x248fc5['y'],_0x248fc5['z'],_0x248fc5['w']),_0x2ad95c['copy'](_0x248fc5));},'reset':function(){_0x8aff83['disable'](_0x8aff83['BLEND']),_0x8aff83['disable'](_0x8aff83['CULL_FACE']),_0x8aff83['disable'](_0x8aff83['DEPTH_TEST']),_0x8aff83['disable'](_0x8aff83['POLYGON_OFFSET_FILL']),_0x8aff83['disable'](_0x8aff83['SCISSOR_TEST']),_0x8aff83['disable'](_0x8aff83['STENCIL_TEST']),_0x8aff83['disable'](_0x8aff83['SAMPLE_ALPHA_TO_COVERAGE']),_0x8aff83['blendEquation'](_0x8aff83['FUNC_ADD']),_0x8aff83['blendFunc'](_0x8aff83['ONE'],_0x8aff83['ZERO']),_0x8aff83['blendFuncSeparate'](_0x8aff83['ONE'],_0x8aff83['ZERO'],_0x8aff83['ONE'],_0x8aff83['ZERO']),_0x8aff83['blendColor'](0x0,0x0,0x0,0x0),_0x8aff83['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x8aff83['clearColor'](0x0,0x0,0x0,0x0),_0x8aff83['depthMask'](!0x0),_0x8aff83['depthFunc'](_0x8aff83['LESS']),_0x120f4d['setReversed'](!0x1),_0x8aff83['clearDepth'](0x1),_0x8aff83['stencilMask'](0xffffffff),_0x8aff83['stencilFunc'](_0x8aff83['ALWAYS'],0x0,0xffffffff),_0x8aff83['stencilOp'](_0x8aff83['KEEP'],_0x8aff83['KEEP'],_0x8aff83['KEEP']),_0x8aff83['clearStencil'](0x0),_0x8aff83['cullFace'](_0x8aff83['BACK']),_0x8aff83['frontFace'](_0x8aff83['CCW']),_0x8aff83['polygonOffset'](0x0,0x0),_0x8aff83['activeTexture'](_0x8aff83['TEXTURE0']),_0x8aff83['bindFramebuffer'](_0x8aff83['FRAMEBUFFER'],null),_0x8aff83['bindFramebuffer'](_0x8aff83['DRAW_FRAMEBUFFER'],null),_0x8aff83['bindFramebuffer'](_0x8aff83['READ_FRAMEBUFFER'],null),_0x8aff83['useProgram'](null),_0x8aff83['lineWidth'](0x1),_0x8aff83['scissor'](0x0,0x0,_0x8aff83['canvas']['width'],_0x8aff83['canvas']['height']),_0x8aff83['viewport'](0x0,0x0,_0x8aff83['canvas']['width'],_0x8aff83['canvas']['height']),_0x3072dc={},_0x1e8c8f=null,_0x4abbc4={},_0x3633dd={},_0x46193d=new WeakMap(),_0x137bfb=[],_0x41ad44=null,_0xe33730=!0x1,_0x31a755=null,_0x5084ef=null,_0xb5a09a=null,_0x1603c3=null,_0x429b33=null,_0x119436=null,_0x2dbe06=null,_0x2faec7=new _0x207dba['Q1f'](0x0,0x0,0x0),_0x1323c6=0x0,_0x407c16=!0x1,_0x50086f=null,_0x43d7d1=null,_0x3544c3=null,_0x1ce9e3=null,_0x49c3c2=null,_0x120f34['set'](0x0,0x0,_0x8aff83['canvas']['width'],_0x8aff83['canvas']['height']),_0x2ad95c['set'](0x0,0x0,_0x8aff83['canvas']['width'],_0x8aff83['canvas']['height']),_0xab4ce4['reset'](),_0x120f4d['reset'](),_0x11fd88['reset']();}};}function _0x19bd10(_0x239db8,_0x1c041f,_0x4deac9,_0x2f1281,_0x1af811,_0xab0003,_0x3aedf5){const _0x11f700=_0x1c041f['has']('WEBGL_multisampled_render_to_texture')?_0x1c041f['get']('WEBGL_multisampled_render_to_texture'):null,_0x19c21f='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x4c9efa=new _0x207dba['I9Y'](),_0x117bd0=new WeakMap();let _0x41bef8;const _0x42a774=new WeakMap();let _0x5722f5=!0x1;try{_0x5722f5='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x1a9cbb){}function _0x186856(_0x54edb9,_0x54bb15){return _0x5722f5?new OffscreenCanvas(_0x54edb9,_0x54bb15):(0x0,_0x207dba['qq$'])('canvas');}function _0x5dfa5a(_0x4fced5,_0x260edb,_0x2a9432){let _0x35b99e=0x1;const _0x2a7082=_0x5c1174(_0x4fced5);if((_0x2a7082['width']>_0x2a9432||_0x2a7082['height']>_0x2a9432)&&(_0x35b99e=_0x2a9432/Math['max'](_0x2a7082['width'],_0x2a7082['height'])),_0x35b99e<0x1){if('undefined'!=typeof HTMLImageElement&&_0x4fced5 instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0x4fced5 instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0x4fced5 instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0x4fced5 instanceof VideoFrame){const _0x4f585c=Math['floor'](_0x35b99e*_0x2a7082['width']),_0x36ca5a=Math['floor'](_0x35b99e*_0x2a7082['height']);void 0x0===_0x41bef8&&(_0x41bef8=_0x186856(_0x4f585c,_0x36ca5a));const _0xfa6e1d=_0x260edb?_0x186856(_0x4f585c,_0x36ca5a):_0x41bef8;return _0xfa6e1d['width']=_0x4f585c,_0xfa6e1d['height']=_0x36ca5a,(_0xfa6e1d['getContext']('2d')['drawImage'](_0x4fced5,0x0,0x0,_0x4f585c,_0x36ca5a),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x2a7082['width']+'x'+_0x2a7082['height']+')\x20to\x20('+_0x4f585c+'x'+_0x36ca5a+').'),_0xfa6e1d);}return'data'in _0x4fced5&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x2a7082['width']+'x'+_0x2a7082['height']+').'),_0x4fced5;}return _0x4fced5;}function _0x354fe9(_0x22ea75){return _0x22ea75['generateMipmaps'];}function _0x18928b(_0x3cc5b6){_0x239db8['generateMipmap'](_0x3cc5b6);}function _0x4bfbc0(_0x173e23){return _0x173e23['isWebGLCubeRenderTarget']?_0x239db8['TEXTURE_CUBE_MAP']:_0x173e23['isWebGL3DRenderTarget']?_0x239db8['TEXTURE_3D']:_0x173e23['isWebGLArrayRenderTarget']||_0x173e23['isCompressedArrayTexture']?_0x239db8['TEXTURE_2D_ARRAY']:_0x239db8['TEXTURE_2D'];}function _0x4b94f9(_0x14c6e8,_0x346bf1,_0x16a02f,_0x1be5bb,_0xa52648=!0x1){if(null!==_0x14c6e8){if(void 0x0!==_0x239db8[_0x14c6e8])return _0x239db8[_0x14c6e8];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x14c6e8+'\x27');}let _0x393613=_0x346bf1;if(_0x346bf1===_0x239db8['RED']&&(_0x16a02f===_0x239db8['FLOAT']&&(_0x393613=_0x239db8['R32F']),_0x16a02f===_0x239db8['HALF_FLOAT']&&(_0x393613=_0x239db8['R16F']),_0x16a02f===_0x239db8['UNSIGNED_BYTE']&&(_0x393613=_0x239db8['R8'])),_0x346bf1===_0x239db8['RED_INTEGER']&&(_0x16a02f===_0x239db8['UNSIGNED_BYTE']&&(_0x393613=_0x239db8['R8UI']),_0x16a02f===_0x239db8['UNSIGNED_SHORT']&&(_0x393613=_0x239db8['R16UI']),_0x16a02f===_0x239db8['UNSIGNED_INT']&&(_0x393613=_0x239db8['R32UI']),_0x16a02f===_0x239db8['BYTE']&&(_0x393613=_0x239db8['R8I']),_0x16a02f===_0x239db8['SHORT']&&(_0x393613=_0x239db8['R16I']),_0x16a02f===_0x239db8['INT']&&(_0x393613=_0x239db8['R32I'])),_0x346bf1===_0x239db8['RG']&&(_0x16a02f===_0x239db8['FLOAT']&&(_0x393613=_0x239db8['RG32F']),_0x16a02f===_0x239db8['HALF_FLOAT']&&(_0x393613=_0x239db8['RG16F']),_0x16a02f===_0x239db8['UNSIGNED_BYTE']&&(_0x393613=_0x239db8['RG8'])),_0x346bf1===_0x239db8['RG_INTEGER']&&(_0x16a02f===_0x239db8['UNSIGNED_BYTE']&&(_0x393613=_0x239db8['RG8UI']),_0x16a02f===_0x239db8['UNSIGNED_SHORT']&&(_0x393613=_0x239db8['RG16UI']),_0x16a02f===_0x239db8['UNSIGNED_INT']&&(_0x393613=_0x239db8['RG32UI']),_0x16a02f===_0x239db8['BYTE']&&(_0x393613=_0x239db8['RG8I']),_0x16a02f===_0x239db8['SHORT']&&(_0x393613=_0x239db8['RG16I']),_0x16a02f===_0x239db8['INT']&&(_0x393613=_0x239db8['RG32I'])),_0x346bf1===_0x239db8['RGB_INTEGER']&&(_0x16a02f===_0x239db8['UNSIGNED_BYTE']&&(_0x393613=_0x239db8['RGB8UI']),_0x16a02f===_0x239db8['UNSIGNED_SHORT']&&(_0x393613=_0x239db8['RGB16UI']),_0x16a02f===_0x239db8['UNSIGNED_INT']&&(_0x393613=_0x239db8['RGB32UI']),_0x16a02f===_0x239db8['BYTE']&&(_0x393613=_0x239db8['RGB8I']),_0x16a02f===_0x239db8['SHORT']&&(_0x393613=_0x239db8['RGB16I']),_0x16a02f===_0x239db8['INT']&&(_0x393613=_0x239db8['RGB32I'])),_0x346bf1===_0x239db8['RGBA_INTEGER']&&(_0x16a02f===_0x239db8['UNSIGNED_BYTE']&&(_0x393613=_0x239db8['RGBA8UI']),_0x16a02f===_0x239db8['UNSIGNED_SHORT']&&(_0x393613=_0x239db8['RGBA16UI']),_0x16a02f===_0x239db8['UNSIGNED_INT']&&(_0x393613=_0x239db8['RGBA32UI']),_0x16a02f===_0x239db8['BYTE']&&(_0x393613=_0x239db8['RGBA8I']),_0x16a02f===_0x239db8['SHORT']&&(_0x393613=_0x239db8['RGBA16I']),_0x16a02f===_0x239db8['INT']&&(_0x393613=_0x239db8['RGBA32I'])),_0x346bf1===_0x239db8['RGB']&&_0x16a02f===_0x239db8['UNSIGNED_INT_5_9_9_9_REV']&&(_0x393613=_0x239db8['RGB9_E5']),_0x346bf1===_0x239db8['RGBA']){const _0x451c43=_0xa52648?_0x207dba['VxR']:_0x207dba['ppV']['getTransfer'](_0x1be5bb);_0x16a02f===_0x239db8['FLOAT']&&(_0x393613=_0x239db8['RGBA32F']),_0x16a02f===_0x239db8['HALF_FLOAT']&&(_0x393613=_0x239db8['RGBA16F']),_0x16a02f===_0x239db8['UNSIGNED_BYTE']&&(_0x393613=_0x451c43===_0x207dba['KLL']?_0x239db8['SRGB8_ALPHA8']:_0x239db8['RGBA8']),_0x16a02f===_0x239db8['UNSIGNED_SHORT_4_4_4_4']&&(_0x393613=_0x239db8['RGBA4']),_0x16a02f===_0x239db8['UNSIGNED_SHORT_5_5_5_1']&&(_0x393613=_0x239db8['RGB5_A1']);}return _0x393613!==_0x239db8['R16F']&&_0x393613!==_0x239db8['R32F']&&_0x393613!==_0x239db8['RG16F']&&_0x393613!==_0x239db8['RG32F']&&_0x393613!==_0x239db8['RGBA16F']&&_0x393613!==_0x239db8['RGBA32F']||_0x1c041f['get']('EXT_color_buffer_float'),_0x393613;}function _0x56d486(_0x64ffbd,_0x577581){let _0x2ab080;return _0x64ffbd?null===_0x577581||_0x577581===_0x207dba['bkx']||_0x577581===_0x207dba['V3x']?_0x2ab080=_0x239db8['DEPTH24_STENCIL8']:_0x577581===_0x207dba['RQf']?_0x2ab080=_0x239db8['DEPTH32F_STENCIL8']:_0x577581===_0x207dba['cHt']&&(_0x2ab080=_0x239db8['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0x577581||_0x577581===_0x207dba['bkx']||_0x577581===_0x207dba['V3x']?_0x2ab080=_0x239db8['DEPTH_COMPONENT24']:_0x577581===_0x207dba['RQf']?_0x2ab080=_0x239db8['DEPTH_COMPONENT32F']:_0x577581===_0x207dba['cHt']&&(_0x2ab080=_0x239db8['DEPTH_COMPONENT16']),_0x2ab080;}function _0x25e288(_0x1402f3,_0x23b742){return!0x0===_0x354fe9(_0x1402f3)||_0x1402f3['isFramebufferTexture']&&_0x1402f3['minFilter']!==_0x207dba['hxR']&&_0x1402f3['minFilter']!==_0x207dba['k6q']?Math['log2'](Math['max'](_0x23b742['width'],_0x23b742['height']))+0x1:void 0x0!==_0x1402f3['mipmaps']&&_0x1402f3['mipmaps']['length']>0x0?_0x1402f3['mipmaps']['length']:_0x1402f3['isCompressedTexture']&&Array['isArray'](_0x1402f3['image'])?_0x23b742['mipmaps']['length']:0x1;}function _0x5b6232(_0x4f9345){const _0x480cc1=_0x4f9345['target'];_0x480cc1['removeEventListener']('dispose',_0x5b6232),function(_0x2ed2dd){const _0x3c183f=_0x2f1281['get'](_0x2ed2dd);if(void 0x0===_0x3c183f['__webglInit'])return;const _0x141595=_0x2ed2dd['source'],_0x5930a6=_0x42a774['get'](_0x141595);if(_0x5930a6){const _0x3ff2c5=_0x5930a6[_0x3c183f['__cacheKey']];_0x3ff2c5['usedTimes']--,0x0===_0x3ff2c5['usedTimes']&&_0x1ab4a8(_0x2ed2dd),0x0===Object['keys'](_0x5930a6)['length']&&_0x42a774['delete'](_0x141595);}_0x2f1281['remove'](_0x2ed2dd);}(_0x480cc1),_0x480cc1['isVideoTexture']&&_0x117bd0['delete'](_0x480cc1);}function _0x37647c(_0x14dbcd){const _0x43716e=_0x14dbcd['target'];_0x43716e['removeEventListener']('dispose',_0x37647c),function(_0x4d6c39){const _0x2629d3=_0x2f1281['get'](_0x4d6c39);_0x4d6c39['depthTexture']&&(_0x4d6c39['depthTexture']['dispose'](),_0x2f1281['remove'](_0x4d6c39['depthTexture']));if(_0x4d6c39['isWebGLCubeRenderTarget'])for(let _0x5940be=0x0;_0x5940be<0x6;_0x5940be++){if(Array['isArray'](_0x2629d3['__webglFramebuffer'][_0x5940be])){for(let _0x44deb1=0x0;_0x44deb1<_0x2629d3['__webglFramebuffer'][_0x5940be]['length'];_0x44deb1++)_0x239db8['deleteFramebuffer'](_0x2629d3['__webglFramebuffer'][_0x5940be][_0x44deb1]);}else _0x239db8['deleteFramebuffer'](_0x2629d3['__webglFramebuffer'][_0x5940be]);_0x2629d3['__webglDepthbuffer']&&_0x239db8['deleteRenderbuffer'](_0x2629d3['__webglDepthbuffer'][_0x5940be]);}else{if(Array['isArray'](_0x2629d3['__webglFramebuffer'])){for(let _0xd2385c=0x0;_0xd2385c<_0x2629d3['__webglFramebuffer']['length'];_0xd2385c++)_0x239db8['deleteFramebuffer'](_0x2629d3['__webglFramebuffer'][_0xd2385c]);}else _0x239db8['deleteFramebuffer'](_0x2629d3['__webglFramebuffer']);if(_0x2629d3['__webglDepthbuffer']&&_0x239db8['deleteRenderbuffer'](_0x2629d3['__webglDepthbuffer']),_0x2629d3['__webglMultisampledFramebuffer']&&_0x239db8['deleteFramebuffer'](_0x2629d3['__webglMultisampledFramebuffer']),_0x2629d3['__webglColorRenderbuffer']){for(let _0x5f275b=0x0;_0x5f275b<_0x2629d3['__webglColorRenderbuffer']['length'];_0x5f275b++)_0x2629d3['__webglColorRenderbuffer'][_0x5f275b]&&_0x239db8['deleteRenderbuffer'](_0x2629d3['__webglColorRenderbuffer'][_0x5f275b]);}_0x2629d3['__webglDepthRenderbuffer']&&_0x239db8['deleteRenderbuffer'](_0x2629d3['__webglDepthRenderbuffer']);}const _0x551397=_0x4d6c39['textures'];for(let _0xa1c967=0x0,_0x35be90=_0x551397['length'];_0xa1c967<_0x35be90;_0xa1c967++){const _0x3b3405=_0x2f1281['get'](_0x551397[_0xa1c967]);_0x3b3405['__webglTexture']&&(_0x239db8['deleteTexture'](_0x3b3405['__webglTexture']),_0x3aedf5['memory']['textures']--),_0x2f1281['remove'](_0x551397[_0xa1c967]);}_0x2f1281['remove'](_0x4d6c39);}(_0x43716e);}function _0x1ab4a8(_0x36711e){const _0x254137=_0x2f1281['get'](_0x36711e);_0x239db8['deleteTexture'](_0x254137['__webglTexture']);const _0x3de1cb=_0x36711e['source'];delete _0x42a774['get'](_0x3de1cb)[_0x254137['__cacheKey']],_0x3aedf5['memory']['textures']--;}let _0x3b8fc6=0x0;function _0x34286c(_0x2617de,_0x10e0c7){const _0x21b2c4=_0x2f1281['get'](_0x2617de);if(_0x2617de['isVideoTexture']&&function(_0x55fe7e){const _0x1f9cc5=_0x3aedf5['render']['frame'];_0x117bd0['get'](_0x55fe7e)!==_0x1f9cc5&&(_0x117bd0['set'](_0x55fe7e,_0x1f9cc5),_0x55fe7e['update']());}(_0x2617de),!0x1===_0x2617de['isRenderTargetTexture']&&_0x2617de['version']>0x0&&_0x21b2c4['__version']!==_0x2617de['version']){const _0x417060=_0x2617de['image'];if(null===_0x417060)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x417060['complete'])return void _0x2866e7(_0x21b2c4,_0x2617de,_0x10e0c7);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x4deac9['bindTexture'](_0x239db8['TEXTURE_2D'],_0x21b2c4['__webglTexture'],_0x239db8['TEXTURE0']+_0x10e0c7);}const _0x45d361={[_0x207dba['GJx']]:_0x239db8['REPEAT'],[_0x207dba['ghU']]:_0x239db8['CLAMP_TO_EDGE'],[_0x207dba['kTW']]:_0x239db8['MIRRORED_REPEAT']},_0x2f3cac={[_0x207dba['hxR']]:_0x239db8['NEAREST'],[_0x207dba['pHI']]:_0x239db8['NEAREST_MIPMAP_NEAREST'],[_0x207dba['Cfg']]:_0x239db8['NEAREST_MIPMAP_LINEAR'],[_0x207dba['k6q']]:_0x239db8['LINEAR'],[_0x207dba['kRr']]:_0x239db8['LINEAR_MIPMAP_NEAREST'],[_0x207dba['$_I']]:_0x239db8['LINEAR_MIPMAP_LINEAR']},_0x310467={[_0x207dba['amv']]:_0x239db8['NEVER'],[_0x207dba['FFZ']]:_0x239db8['ALWAYS'],[_0x207dba['vim']]:_0x239db8['LESS'],[_0x207dba['TiK']]:_0x239db8['LEQUAL'],[_0x207dba['kO0']]:_0x239db8['EQUAL'],[_0x207dba['gWB']]:_0x239db8['GEQUAL'],[_0x207dba['eoi']]:_0x239db8['GREATER'],[_0x207dba['jzd']]:_0x239db8['NOTEQUAL']};function _0x3b7323(_0x3cac76,_0x6accad){if(_0x6accad['type']!==_0x207dba['RQf']||!0x1!==_0x1c041f['has']('OES_texture_float_linear')||_0x6accad['magFilter']!==_0x207dba['k6q']&&_0x6accad['magFilter']!==_0x207dba['kRr']&&_0x6accad['magFilter']!==_0x207dba['Cfg']&&_0x6accad['magFilter']!==_0x207dba['$_I']&&_0x6accad['minFilter']!==_0x207dba['k6q']&&_0x6accad['minFilter']!==_0x207dba['kRr']&&_0x6accad['minFilter']!==_0x207dba['Cfg']&&_0x6accad['minFilter']!==_0x207dba['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0x239db8['texParameteri'](_0x3cac76,_0x239db8['TEXTURE_WRAP_S'],_0x45d361[_0x6accad['wrapS']]),_0x239db8['texParameteri'](_0x3cac76,_0x239db8['TEXTURE_WRAP_T'],_0x45d361[_0x6accad['wrapT']]),_0x3cac76!==_0x239db8['TEXTURE_3D']&&_0x3cac76!==_0x239db8['TEXTURE_2D_ARRAY']||_0x239db8['texParameteri'](_0x3cac76,_0x239db8['TEXTURE_WRAP_R'],_0x45d361[_0x6accad['wrapR']]),_0x239db8['texParameteri'](_0x3cac76,_0x239db8['TEXTURE_MAG_FILTER'],_0x2f3cac[_0x6accad['magFilter']]),_0x239db8['texParameteri'](_0x3cac76,_0x239db8['TEXTURE_MIN_FILTER'],_0x2f3cac[_0x6accad['minFilter']]),_0x6accad['compareFunction']&&(_0x239db8['texParameteri'](_0x3cac76,_0x239db8['TEXTURE_COMPARE_MODE'],_0x239db8['COMPARE_REF_TO_TEXTURE']),_0x239db8['texParameteri'](_0x3cac76,_0x239db8['TEXTURE_COMPARE_FUNC'],_0x310467[_0x6accad['compareFunction']])),!0x0===_0x1c041f['has']('EXT_texture_filter_anisotropic')){if(_0x6accad['magFilter']===_0x207dba['hxR'])return;if(_0x6accad['minFilter']!==_0x207dba['Cfg']&&_0x6accad['minFilter']!==_0x207dba['$_I'])return;if(_0x6accad['type']===_0x207dba['RQf']&&!0x1===_0x1c041f['has']('OES_texture_float_linear'))return;if(_0x6accad['anisotropy']>0x1||_0x2f1281['get'](_0x6accad)['__currentAnisotropy']){const _0x3cee96=_0x1c041f['get']('EXT_texture_filter_anisotropic');_0x239db8['texParameterf'](_0x3cac76,_0x3cee96['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x6accad['anisotropy'],_0x1af811['getMaxAnisotropy']())),_0x2f1281['get'](_0x6accad)['__currentAnisotropy']=_0x6accad['anisotropy'];}}}function _0x13d7e2(_0x43442c,_0x15baac){let _0x441dad=!0x1;void 0x0===_0x43442c['__webglInit']&&(_0x43442c['__webglInit']=!0x0,_0x15baac['addEventListener']('dispose',_0x5b6232));const _0x2adf45=_0x15baac['source'];let _0x3aed76=_0x42a774['get'](_0x2adf45);void 0x0===_0x3aed76&&(_0x3aed76={},_0x42a774['set'](_0x2adf45,_0x3aed76));const _0x13f789=function(_0x50d33b){const _0x41e414=[];return _0x41e414['push'](_0x50d33b['wrapS']),_0x41e414['push'](_0x50d33b['wrapT']),_0x41e414['push'](_0x50d33b['wrapR']||0x0),_0x41e414['push'](_0x50d33b['magFilter']),_0x41e414['push'](_0x50d33b['minFilter']),_0x41e414['push'](_0x50d33b['anisotropy']),_0x41e414['push'](_0x50d33b['internalFormat']),_0x41e414['push'](_0x50d33b['format']),_0x41e414['push'](_0x50d33b['type']),_0x41e414['push'](_0x50d33b['generateMipmaps']),_0x41e414['push'](_0x50d33b['premultiplyAlpha']),_0x41e414['push'](_0x50d33b['flipY']),_0x41e414['push'](_0x50d33b['unpackAlignment']),_0x41e414['push'](_0x50d33b['colorSpace']),_0x41e414['join']();}(_0x15baac);if(_0x13f789!==_0x43442c['__cacheKey']){void 0x0===_0x3aed76[_0x13f789]&&(_0x3aed76[_0x13f789]={'texture':_0x239db8['createTexture'](),'usedTimes':0x0},_0x3aedf5['memory']['textures']++,_0x441dad=!0x0),_0x3aed76[_0x13f789]['usedTimes']++;const _0x2533e3=_0x3aed76[_0x43442c['__cacheKey']];void 0x0!==_0x2533e3&&(_0x3aed76[_0x43442c['__cacheKey']]['usedTimes']--,0x0===_0x2533e3['usedTimes']&&_0x1ab4a8(_0x15baac)),_0x43442c['__cacheKey']=_0x13f789,_0x43442c['__webglTexture']=_0x3aed76[_0x13f789]['texture'];}return _0x441dad;}function _0x2866e7(_0x59ebef,_0x5c5d51,_0x39def9){let _0x18fc92=_0x239db8['TEXTURE_2D'];(_0x5c5d51['isDataArrayTexture']||_0x5c5d51['isCompressedArrayTexture'])&&(_0x18fc92=_0x239db8['TEXTURE_2D_ARRAY']),_0x5c5d51['isData3DTexture']&&(_0x18fc92=_0x239db8['TEXTURE_3D']);const _0x1cffc4=_0x13d7e2(_0x59ebef,_0x5c5d51),_0x32eea4=_0x5c5d51['source'];_0x4deac9['bindTexture'](_0x18fc92,_0x59ebef['__webglTexture'],_0x239db8['TEXTURE0']+_0x39def9);const _0xa1edf8=_0x2f1281['get'](_0x32eea4);if(_0x32eea4['version']!==_0xa1edf8['__version']||!0x0===_0x1cffc4){_0x4deac9['activeTexture'](_0x239db8['TEXTURE0']+_0x39def9);const _0x2cb8af=_0x207dba['ppV']['getPrimaries'](_0x207dba['ppV']['workingColorSpace']),_0x4e343f=_0x5c5d51['colorSpace']===_0x207dba['jf0']?null:_0x207dba['ppV']['getPrimaries'](_0x5c5d51['colorSpace']),_0x26111f=_0x5c5d51['colorSpace']===_0x207dba['jf0']||_0x2cb8af===_0x4e343f?_0x239db8['NONE']:_0x239db8['BROWSER_DEFAULT_WEBGL'];_0x239db8['pixelStorei'](_0x239db8['UNPACK_FLIP_Y_WEBGL'],_0x5c5d51['flipY']),_0x239db8['pixelStorei'](_0x239db8['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x5c5d51['premultiplyAlpha']),_0x239db8['pixelStorei'](_0x239db8['UNPACK_ALIGNMENT'],_0x5c5d51['unpackAlignment']),_0x239db8['pixelStorei'](_0x239db8['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x26111f);let _0x86f5e=_0x5dfa5a(_0x5c5d51['image'],!0x1,_0x1af811['maxTextureSize']);_0x86f5e=_0x4a72d5(_0x5c5d51,_0x86f5e);const _0x5976a6=_0xab0003['convert'](_0x5c5d51['format'],_0x5c5d51['colorSpace']),_0x96ffba=_0xab0003['convert'](_0x5c5d51['type']);let _0x288270,_0x208069=_0x4b94f9(_0x5c5d51['internalFormat'],_0x5976a6,_0x96ffba,_0x5c5d51['colorSpace'],_0x5c5d51['isVideoTexture']);_0x3b7323(_0x18fc92,_0x5c5d51);const _0x593820=_0x5c5d51['mipmaps'],_0x4e59c0=!0x0!==_0x5c5d51['isVideoTexture'],_0x3ee99e=void 0x0===_0xa1edf8['__version']||!0x0===_0x1cffc4,_0x583a5d=_0x32eea4['dataReady'],_0x3a8c2b=_0x25e288(_0x5c5d51,_0x86f5e);if(_0x5c5d51['isDepthTexture'])_0x208069=_0x56d486(_0x5c5d51['format']===_0x207dba['dcC'],_0x5c5d51['type']),_0x3ee99e&&(_0x4e59c0?_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_2D'],0x1,_0x208069,_0x86f5e['width'],_0x86f5e['height']):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_2D'],0x0,_0x208069,_0x86f5e['width'],_0x86f5e['height'],0x0,_0x5976a6,_0x96ffba,null));else{if(_0x5c5d51['isDataTexture']){if(_0x593820['length']>0x0){_0x4e59c0&&_0x3ee99e&&_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_2D'],_0x3a8c2b,_0x208069,_0x593820[0x0]['width'],_0x593820[0x0]['height']);for(let _0x4e2b8f=0x0,_0x3e47d2=_0x593820['length'];_0x4e2b8f<_0x3e47d2;_0x4e2b8f++)_0x288270=_0x593820[_0x4e2b8f],_0x4e59c0?_0x583a5d&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_2D'],_0x4e2b8f,0x0,0x0,_0x288270['width'],_0x288270['height'],_0x5976a6,_0x96ffba,_0x288270['data']):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_2D'],_0x4e2b8f,_0x208069,_0x288270['width'],_0x288270['height'],0x0,_0x5976a6,_0x96ffba,_0x288270['data']);_0x5c5d51['generateMipmaps']=!0x1;}else _0x4e59c0?(_0x3ee99e&&_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_2D'],_0x3a8c2b,_0x208069,_0x86f5e['width'],_0x86f5e['height']),_0x583a5d&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_2D'],0x0,0x0,0x0,_0x86f5e['width'],_0x86f5e['height'],_0x5976a6,_0x96ffba,_0x86f5e['data'])):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_2D'],0x0,_0x208069,_0x86f5e['width'],_0x86f5e['height'],0x0,_0x5976a6,_0x96ffba,_0x86f5e['data']);}else{if(_0x5c5d51['isCompressedTexture']){if(_0x5c5d51['isCompressedArrayTexture']){_0x4e59c0&&_0x3ee99e&&_0x4deac9['texStorage3D'](_0x239db8['TEXTURE_2D_ARRAY'],_0x3a8c2b,_0x208069,_0x593820[0x0]['width'],_0x593820[0x0]['height'],_0x86f5e['depth']);for(let _0x31f394=0x0,_0x566b62=_0x593820['length'];_0x31f394<_0x566b62;_0x31f394++)if(_0x288270=_0x593820[_0x31f394],_0x5c5d51['format']!==_0x207dba['GWd']){if(null!==_0x5976a6){if(_0x4e59c0){if(_0x583a5d){if(_0x5c5d51['layerUpdates']['size']>0x0){const _0x521399=(0x0,_0x207dba['Nex'])(_0x288270['width'],_0x288270['height'],_0x5c5d51['format'],_0x5c5d51['type']);for(const _0x34e059 of _0x5c5d51['layerUpdates']){const _0x3cd14b=_0x288270['data']['subarray'](_0x34e059*_0x521399/_0x288270['data']['BYTES_PER_ELEMENT'],(_0x34e059+0x1)*_0x521399/_0x288270['data']['BYTES_PER_ELEMENT']);_0x4deac9['compressedTexSubImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],_0x31f394,0x0,0x0,_0x34e059,_0x288270['width'],_0x288270['height'],0x1,_0x5976a6,_0x3cd14b);}_0x5c5d51['clearLayerUpdates']();}else _0x4deac9['compressedTexSubImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],_0x31f394,0x0,0x0,0x0,_0x288270['width'],_0x288270['height'],_0x86f5e['depth'],_0x5976a6,_0x288270['data']);}}else _0x4deac9['compressedTexImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],_0x31f394,_0x208069,_0x288270['width'],_0x288270['height'],_0x86f5e['depth'],0x0,_0x288270['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x4e59c0?_0x583a5d&&_0x4deac9['texSubImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],_0x31f394,0x0,0x0,0x0,_0x288270['width'],_0x288270['height'],_0x86f5e['depth'],_0x5976a6,_0x96ffba,_0x288270['data']):_0x4deac9['texImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],_0x31f394,_0x208069,_0x288270['width'],_0x288270['height'],_0x86f5e['depth'],0x0,_0x5976a6,_0x96ffba,_0x288270['data']);}else{_0x4e59c0&&_0x3ee99e&&_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_2D'],_0x3a8c2b,_0x208069,_0x593820[0x0]['width'],_0x593820[0x0]['height']);for(let _0x80521b=0x0,_0x49774d=_0x593820['length'];_0x80521b<_0x49774d;_0x80521b++)_0x288270=_0x593820[_0x80521b],_0x5c5d51['format']!==_0x207dba['GWd']?null!==_0x5976a6?_0x4e59c0?_0x583a5d&&_0x4deac9['compressedTexSubImage2D'](_0x239db8['TEXTURE_2D'],_0x80521b,0x0,0x0,_0x288270['width'],_0x288270['height'],_0x5976a6,_0x288270['data']):_0x4deac9['compressedTexImage2D'](_0x239db8['TEXTURE_2D'],_0x80521b,_0x208069,_0x288270['width'],_0x288270['height'],0x0,_0x288270['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x4e59c0?_0x583a5d&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_2D'],_0x80521b,0x0,0x0,_0x288270['width'],_0x288270['height'],_0x5976a6,_0x96ffba,_0x288270['data']):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_2D'],_0x80521b,_0x208069,_0x288270['width'],_0x288270['height'],0x0,_0x5976a6,_0x96ffba,_0x288270['data']);}}else{if(_0x5c5d51['isDataArrayTexture']){if(_0x4e59c0){if(_0x3ee99e&&_0x4deac9['texStorage3D'](_0x239db8['TEXTURE_2D_ARRAY'],_0x3a8c2b,_0x208069,_0x86f5e['width'],_0x86f5e['height'],_0x86f5e['depth']),_0x583a5d){if(_0x5c5d51['layerUpdates']['size']>0x0){const _0xaa75cf=(0x0,_0x207dba['Nex'])(_0x86f5e['width'],_0x86f5e['height'],_0x5c5d51['format'],_0x5c5d51['type']);for(const _0x2d7fae of _0x5c5d51['layerUpdates']){const _0x44a0de=_0x86f5e['data']['subarray'](_0x2d7fae*_0xaa75cf/_0x86f5e['data']['BYTES_PER_ELEMENT'],(_0x2d7fae+0x1)*_0xaa75cf/_0x86f5e['data']['BYTES_PER_ELEMENT']);_0x4deac9['texSubImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0x2d7fae,_0x86f5e['width'],_0x86f5e['height'],0x1,_0x5976a6,_0x96ffba,_0x44a0de);}_0x5c5d51['clearLayerUpdates']();}else _0x4deac9['texSubImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x86f5e['width'],_0x86f5e['height'],_0x86f5e['depth'],_0x5976a6,_0x96ffba,_0x86f5e['data']);}}else _0x4deac9['texImage3D'](_0x239db8['TEXTURE_2D_ARRAY'],0x0,_0x208069,_0x86f5e['width'],_0x86f5e['height'],_0x86f5e['depth'],0x0,_0x5976a6,_0x96ffba,_0x86f5e['data']);}else{if(_0x5c5d51['isData3DTexture'])_0x4e59c0?(_0x3ee99e&&_0x4deac9['texStorage3D'](_0x239db8['TEXTURE_3D'],_0x3a8c2b,_0x208069,_0x86f5e['width'],_0x86f5e['height'],_0x86f5e['depth']),_0x583a5d&&_0x4deac9['texSubImage3D'](_0x239db8['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x86f5e['width'],_0x86f5e['height'],_0x86f5e['depth'],_0x5976a6,_0x96ffba,_0x86f5e['data'])):_0x4deac9['texImage3D'](_0x239db8['TEXTURE_3D'],0x0,_0x208069,_0x86f5e['width'],_0x86f5e['height'],_0x86f5e['depth'],0x0,_0x5976a6,_0x96ffba,_0x86f5e['data']);else{if(_0x5c5d51['isFramebufferTexture']){if(_0x3ee99e){if(_0x4e59c0)_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_2D'],_0x3a8c2b,_0x208069,_0x86f5e['width'],_0x86f5e['height']);else{let _0x96e4d5=_0x86f5e['width'],_0x5a9133=_0x86f5e['height'];for(let _0xfd2bb4=0x0;_0xfd2bb4<_0x3a8c2b;_0xfd2bb4++)_0x4deac9['texImage2D'](_0x239db8['TEXTURE_2D'],_0xfd2bb4,_0x208069,_0x96e4d5,_0x5a9133,0x0,_0x5976a6,_0x96ffba,null),_0x96e4d5>>=0x1,_0x5a9133>>=0x1;}}}else{if(_0x593820['length']>0x0){if(_0x4e59c0&&_0x3ee99e){const _0x29ec89=_0x5c1174(_0x593820[0x0]);_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_2D'],_0x3a8c2b,_0x208069,_0x29ec89['width'],_0x29ec89['height']);}for(let _0x4f73af=0x0,_0x86b171=_0x593820['length'];_0x4f73af<_0x86b171;_0x4f73af++)_0x288270=_0x593820[_0x4f73af],_0x4e59c0?_0x583a5d&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_2D'],_0x4f73af,0x0,0x0,_0x5976a6,_0x96ffba,_0x288270):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_2D'],_0x4f73af,_0x208069,_0x5976a6,_0x96ffba,_0x288270);_0x5c5d51['generateMipmaps']=!0x1;}else{if(_0x4e59c0){if(_0x3ee99e){const _0x270a0d=_0x5c1174(_0x86f5e);_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_2D'],_0x3a8c2b,_0x208069,_0x270a0d['width'],_0x270a0d['height']);}_0x583a5d&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_2D'],0x0,0x0,0x0,_0x5976a6,_0x96ffba,_0x86f5e);}else _0x4deac9['texImage2D'](_0x239db8['TEXTURE_2D'],0x0,_0x208069,_0x5976a6,_0x96ffba,_0x86f5e);}}}}}}}_0x354fe9(_0x5c5d51)&&_0x18928b(_0x18fc92),_0xa1edf8['__version']=_0x32eea4['version'],_0x5c5d51['onUpdate']&&_0x5c5d51['onUpdate'](_0x5c5d51);}_0x59ebef['__version']=_0x5c5d51['version'];}function _0x15d5ec(_0xac0840,_0x40517f,_0xf8e060,_0x254925,_0x20a52d,_0x582183){const _0x521aea=_0xab0003['convert'](_0xf8e060['format'],_0xf8e060['colorSpace']),_0x2637a0=_0xab0003['convert'](_0xf8e060['type']),_0x3f3d4d=_0x4b94f9(_0xf8e060['internalFormat'],_0x521aea,_0x2637a0,_0xf8e060['colorSpace']),_0x38d4b0=_0x2f1281['get'](_0x40517f),_0x48cd6b=_0x2f1281['get'](_0xf8e060);if(_0x48cd6b['__renderTarget']=_0x40517f,!_0x38d4b0['__hasExternalTextures']){const _0xccdf84=Math['max'](0x1,_0x40517f['width']>>_0x582183),_0x2ba5d9=Math['max'](0x1,_0x40517f['height']>>_0x582183);_0x20a52d===_0x239db8['TEXTURE_3D']||_0x20a52d===_0x239db8['TEXTURE_2D_ARRAY']?_0x4deac9['texImage3D'](_0x20a52d,_0x582183,_0x3f3d4d,_0xccdf84,_0x2ba5d9,_0x40517f['depth'],0x0,_0x521aea,_0x2637a0,null):_0x4deac9['texImage2D'](_0x20a52d,_0x582183,_0x3f3d4d,_0xccdf84,_0x2ba5d9,0x0,_0x521aea,_0x2637a0,null);}_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0xac0840),_0x59fe94(_0x40517f)?_0x11f700['framebufferTexture2DMultisampleEXT'](_0x239db8['FRAMEBUFFER'],_0x254925,_0x20a52d,_0x48cd6b['__webglTexture'],0x0,_0x4ba754(_0x40517f)):(_0x20a52d===_0x239db8['TEXTURE_2D']||_0x20a52d>=_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x20a52d<=_0x239db8['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0x239db8['framebufferTexture2D'](_0x239db8['FRAMEBUFFER'],_0x254925,_0x20a52d,_0x48cd6b['__webglTexture'],_0x582183),_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],null);}function _0x275a10(_0xd6c025,_0x83acdb,_0x36b173){if(_0x239db8['bindRenderbuffer'](_0x239db8['RENDERBUFFER'],_0xd6c025),_0x83acdb['depthBuffer']){const _0x48902f=_0x83acdb['depthTexture'],_0x2ea461=_0x48902f&&_0x48902f['isDepthTexture']?_0x48902f['type']:null,_0x1aeeeb=_0x56d486(_0x83acdb['stencilBuffer'],_0x2ea461),_0x3c3a73=_0x83acdb['stencilBuffer']?_0x239db8['DEPTH_STENCIL_ATTACHMENT']:_0x239db8['DEPTH_ATTACHMENT'],_0x1f3ff5=_0x4ba754(_0x83acdb);_0x59fe94(_0x83acdb)?_0x11f700['renderbufferStorageMultisampleEXT'](_0x239db8['RENDERBUFFER'],_0x1f3ff5,_0x1aeeeb,_0x83acdb['width'],_0x83acdb['height']):_0x36b173?_0x239db8['renderbufferStorageMultisample'](_0x239db8['RENDERBUFFER'],_0x1f3ff5,_0x1aeeeb,_0x83acdb['width'],_0x83acdb['height']):_0x239db8['renderbufferStorage'](_0x239db8['RENDERBUFFER'],_0x1aeeeb,_0x83acdb['width'],_0x83acdb['height']),_0x239db8['framebufferRenderbuffer'](_0x239db8['FRAMEBUFFER'],_0x3c3a73,_0x239db8['RENDERBUFFER'],_0xd6c025);}else{const _0x40c94a=_0x83acdb['textures'];for(let _0x2669ab=0x0;_0x2669ab<_0x40c94a['length'];_0x2669ab++){const _0x56b0ca=_0x40c94a[_0x2669ab],_0xffe5cc=_0xab0003['convert'](_0x56b0ca['format'],_0x56b0ca['colorSpace']),_0x229930=_0xab0003['convert'](_0x56b0ca['type']),_0x28f902=_0x4b94f9(_0x56b0ca['internalFormat'],_0xffe5cc,_0x229930,_0x56b0ca['colorSpace']),_0x4ee29e=_0x4ba754(_0x83acdb);_0x36b173&&!0x1===_0x59fe94(_0x83acdb)?_0x239db8['renderbufferStorageMultisample'](_0x239db8['RENDERBUFFER'],_0x4ee29e,_0x28f902,_0x83acdb['width'],_0x83acdb['height']):_0x59fe94(_0x83acdb)?_0x11f700['renderbufferStorageMultisampleEXT'](_0x239db8['RENDERBUFFER'],_0x4ee29e,_0x28f902,_0x83acdb['width'],_0x83acdb['height']):_0x239db8['renderbufferStorage'](_0x239db8['RENDERBUFFER'],_0x28f902,_0x83acdb['width'],_0x83acdb['height']);}}_0x239db8['bindRenderbuffer'](_0x239db8['RENDERBUFFER'],null);}function _0x12989c(_0x4ce56c){const _0x3da883=_0x2f1281['get'](_0x4ce56c),_0x280a7e=!0x0===_0x4ce56c['isWebGLCubeRenderTarget'];if(_0x3da883['__boundDepthTexture']!==_0x4ce56c['depthTexture']){const _0x528fdb=_0x4ce56c['depthTexture'];if(_0x3da883['__depthDisposeCallback']&&_0x3da883['__depthDisposeCallback'](),_0x528fdb){const _0x4491b6=()=>{delete _0x3da883['__boundDepthTexture'],delete _0x3da883['__depthDisposeCallback'],_0x528fdb['removeEventListener']('dispose',_0x4491b6);};_0x528fdb['addEventListener']('dispose',_0x4491b6),_0x3da883['__depthDisposeCallback']=_0x4491b6;}_0x3da883['__boundDepthTexture']=_0x528fdb;}if(_0x4ce56c['depthTexture']&&!_0x3da883['__autoAllocateDepthBuffer']){if(_0x280a7e)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x4cf68,_0x3f07d4){if(_0x3f07d4&&_0x3f07d4['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x4cf68),!_0x3f07d4['depthTexture']||!_0x3f07d4['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x4fcd55=_0x2f1281['get'](_0x3f07d4['depthTexture']);_0x4fcd55['__renderTarget']=_0x3f07d4,_0x4fcd55['__webglTexture']&&_0x3f07d4['depthTexture']['image']['width']===_0x3f07d4['width']&&_0x3f07d4['depthTexture']['image']['height']===_0x3f07d4['height']||(_0x3f07d4['depthTexture']['image']['width']=_0x3f07d4['width'],_0x3f07d4['depthTexture']['image']['height']=_0x3f07d4['height'],_0x3f07d4['depthTexture']['needsUpdate']=!0x0),_0x34286c(_0x3f07d4['depthTexture'],0x0);const _0x3a23ab=_0x4fcd55['__webglTexture'],_0x3fa097=_0x4ba754(_0x3f07d4);if(_0x3f07d4['depthTexture']['format']===_0x207dba['zdS'])_0x59fe94(_0x3f07d4)?_0x11f700['framebufferTexture2DMultisampleEXT'](_0x239db8['FRAMEBUFFER'],_0x239db8['DEPTH_ATTACHMENT'],_0x239db8['TEXTURE_2D'],_0x3a23ab,0x0,_0x3fa097):_0x239db8['framebufferTexture2D'](_0x239db8['FRAMEBUFFER'],_0x239db8['DEPTH_ATTACHMENT'],_0x239db8['TEXTURE_2D'],_0x3a23ab,0x0);else{if(_0x3f07d4['depthTexture']['format']!==_0x207dba['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0x59fe94(_0x3f07d4)?_0x11f700['framebufferTexture2DMultisampleEXT'](_0x239db8['FRAMEBUFFER'],_0x239db8['DEPTH_STENCIL_ATTACHMENT'],_0x239db8['TEXTURE_2D'],_0x3a23ab,0x0,_0x3fa097):_0x239db8['framebufferTexture2D'](_0x239db8['FRAMEBUFFER'],_0x239db8['DEPTH_STENCIL_ATTACHMENT'],_0x239db8['TEXTURE_2D'],_0x3a23ab,0x0);}}(_0x3da883['__webglFramebuffer'],_0x4ce56c);}else{if(_0x280a7e){_0x3da883['__webglDepthbuffer']=[];for(let _0x22b7a2=0x0;_0x22b7a2<0x6;_0x22b7a2++)if(_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x3da883['__webglFramebuffer'][_0x22b7a2]),void 0x0===_0x3da883['__webglDepthbuffer'][_0x22b7a2])_0x3da883['__webglDepthbuffer'][_0x22b7a2]=_0x239db8['createRenderbuffer'](),_0x275a10(_0x3da883['__webglDepthbuffer'][_0x22b7a2],_0x4ce56c,!0x1);else{const _0x580c7f=_0x4ce56c['stencilBuffer']?_0x239db8['DEPTH_STENCIL_ATTACHMENT']:_0x239db8['DEPTH_ATTACHMENT'],_0x166d6e=_0x3da883['__webglDepthbuffer'][_0x22b7a2];_0x239db8['bindRenderbuffer'](_0x239db8['RENDERBUFFER'],_0x166d6e),_0x239db8['framebufferRenderbuffer'](_0x239db8['FRAMEBUFFER'],_0x580c7f,_0x239db8['RENDERBUFFER'],_0x166d6e);}}else{if(_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x3da883['__webglFramebuffer']),void 0x0===_0x3da883['__webglDepthbuffer'])_0x3da883['__webglDepthbuffer']=_0x239db8['createRenderbuffer'](),_0x275a10(_0x3da883['__webglDepthbuffer'],_0x4ce56c,!0x1);else{const _0x4689ca=_0x4ce56c['stencilBuffer']?_0x239db8['DEPTH_STENCIL_ATTACHMENT']:_0x239db8['DEPTH_ATTACHMENT'],_0x2905d6=_0x3da883['__webglDepthbuffer'];_0x239db8['bindRenderbuffer'](_0x239db8['RENDERBUFFER'],_0x2905d6),_0x239db8['framebufferRenderbuffer'](_0x239db8['FRAMEBUFFER'],_0x4689ca,_0x239db8['RENDERBUFFER'],_0x2905d6);}}}_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],null);}const _0x168125=[],_0x48a093=[];function _0x4ba754(_0x4d8e56){return Math['min'](_0x1af811['maxSamples'],_0x4d8e56['samples']);}function _0x59fe94(_0x260d4b){const _0x157af1=_0x2f1281['get'](_0x260d4b);return _0x260d4b['samples']>0x0&&!0x0===_0x1c041f['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0x157af1['__useRenderToTexture'];}function _0x4a72d5(_0x20cc55,_0x3005f5){const _0x57c36c=_0x20cc55['colorSpace'],_0x1da782=_0x20cc55['format'],_0x48da7f=_0x20cc55['type'];return!0x0===_0x20cc55['isCompressedTexture']||!0x0===_0x20cc55['isVideoTexture']||_0x57c36c!==_0x207dba['Zr2']&&_0x57c36c!==_0x207dba['jf0']&&(_0x207dba['ppV']['getTransfer'](_0x57c36c)===_0x207dba['KLL']?_0x1da782===_0x207dba['GWd']&&_0x48da7f===_0x207dba['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x57c36c)),_0x3005f5;}function _0x5c1174(_0x47b30a){return'undefined'!=typeof HTMLImageElement&&_0x47b30a instanceof HTMLImageElement?(_0x4c9efa['width']=_0x47b30a['naturalWidth']||_0x47b30a['width'],_0x4c9efa['height']=_0x47b30a['naturalHeight']||_0x47b30a['height']):'undefined'!=typeof VideoFrame&&_0x47b30a instanceof VideoFrame?(_0x4c9efa['width']=_0x47b30a['displayWidth'],_0x4c9efa['height']=_0x47b30a['displayHeight']):(_0x4c9efa['width']=_0x47b30a['width'],_0x4c9efa['height']=_0x47b30a['height']),_0x4c9efa;}this['allocateTextureUnit']=function(){const _0x1082fa=_0x3b8fc6;return _0x1082fa>=_0x1af811['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x1082fa+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0x1af811['maxTextures']),_0x3b8fc6+=0x1,_0x1082fa;},this['resetTextureUnits']=function(){_0x3b8fc6=0x0;},this['setTexture2D']=_0x34286c,this['setTexture2DArray']=function(_0x319e98,_0xeff51d){const _0x5415ab=_0x2f1281['get'](_0x319e98);_0x319e98['version']>0x0&&_0x5415ab['__version']!==_0x319e98['version']?_0x2866e7(_0x5415ab,_0x319e98,_0xeff51d):_0x4deac9['bindTexture'](_0x239db8['TEXTURE_2D_ARRAY'],_0x5415ab['__webglTexture'],_0x239db8['TEXTURE0']+_0xeff51d);},this['setTexture3D']=function(_0xe3a63e,_0x51f898){const _0x1337d5=_0x2f1281['get'](_0xe3a63e);_0xe3a63e['version']>0x0&&_0x1337d5['__version']!==_0xe3a63e['version']?_0x2866e7(_0x1337d5,_0xe3a63e,_0x51f898):_0x4deac9['bindTexture'](_0x239db8['TEXTURE_3D'],_0x1337d5['__webglTexture'],_0x239db8['TEXTURE0']+_0x51f898);},this['setTextureCube']=function(_0xf00bc4,_0x29c121){const _0x5964f5=_0x2f1281['get'](_0xf00bc4);_0xf00bc4['version']>0x0&&_0x5964f5['__version']!==_0xf00bc4['version']?function(_0x2bacc6,_0x320506,_0x24504e){if(0x6!==_0x320506['image']['length'])return;const _0x20a965=_0x13d7e2(_0x2bacc6,_0x320506),_0x108e72=_0x320506['source'];_0x4deac9['bindTexture'](_0x239db8['TEXTURE_CUBE_MAP'],_0x2bacc6['__webglTexture'],_0x239db8['TEXTURE0']+_0x24504e);const _0x28f382=_0x2f1281['get'](_0x108e72);if(_0x108e72['version']!==_0x28f382['__version']||!0x0===_0x20a965){_0x4deac9['activeTexture'](_0x239db8['TEXTURE0']+_0x24504e);const _0x5ced0d=_0x207dba['ppV']['getPrimaries'](_0x207dba['ppV']['workingColorSpace']),_0x26fb09=_0x320506['colorSpace']===_0x207dba['jf0']?null:_0x207dba['ppV']['getPrimaries'](_0x320506['colorSpace']),_0x55e8a1=_0x320506['colorSpace']===_0x207dba['jf0']||_0x5ced0d===_0x26fb09?_0x239db8['NONE']:_0x239db8['BROWSER_DEFAULT_WEBGL'];_0x239db8['pixelStorei'](_0x239db8['UNPACK_FLIP_Y_WEBGL'],_0x320506['flipY']),_0x239db8['pixelStorei'](_0x239db8['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x320506['premultiplyAlpha']),_0x239db8['pixelStorei'](_0x239db8['UNPACK_ALIGNMENT'],_0x320506['unpackAlignment']),_0x239db8['pixelStorei'](_0x239db8['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x55e8a1);const _0x110064=_0x320506['isCompressedTexture']||_0x320506['image'][0x0]['isCompressedTexture'],_0x2cae5d=_0x320506['image'][0x0]&&_0x320506['image'][0x0]['isDataTexture'],_0x42db10=[];for(let _0x11e3ae=0x0;_0x11e3ae<0x6;_0x11e3ae++)_0x42db10[_0x11e3ae]=_0x110064||_0x2cae5d?_0x2cae5d?_0x320506['image'][_0x11e3ae]['image']:_0x320506['image'][_0x11e3ae]:_0x5dfa5a(_0x320506['image'][_0x11e3ae],!0x0,_0x1af811['maxCubemapSize']),_0x42db10[_0x11e3ae]=_0x4a72d5(_0x320506,_0x42db10[_0x11e3ae]);const _0x692c69=_0x42db10[0x0],_0x3cf6d4=_0xab0003['convert'](_0x320506['format'],_0x320506['colorSpace']),_0x3f7e47=_0xab0003['convert'](_0x320506['type']),_0x21e5f1=_0x4b94f9(_0x320506['internalFormat'],_0x3cf6d4,_0x3f7e47,_0x320506['colorSpace']),_0x5572bf=!0x0!==_0x320506['isVideoTexture'],_0x4743fc=void 0x0===_0x28f382['__version']||!0x0===_0x20a965,_0x1ceed9=_0x108e72['dataReady'];let _0x12d81f,_0x3df823=_0x25e288(_0x320506,_0x692c69);if(_0x3b7323(_0x239db8['TEXTURE_CUBE_MAP'],_0x320506),_0x110064){_0x5572bf&&_0x4743fc&&_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_CUBE_MAP'],_0x3df823,_0x21e5f1,_0x692c69['width'],_0x692c69['height']);for(let _0x1b39f8=0x0;_0x1b39f8<0x6;_0x1b39f8++){_0x12d81f=_0x42db10[_0x1b39f8]['mipmaps'];for(let _0x2f6f2e=0x0;_0x2f6f2e<_0x12d81f['length'];_0x2f6f2e++){const _0x48772c=_0x12d81f[_0x2f6f2e];_0x320506['format']!==_0x207dba['GWd']?null!==_0x3cf6d4?_0x5572bf?_0x1ceed9&&_0x4deac9['compressedTexSubImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1b39f8,_0x2f6f2e,0x0,0x0,_0x48772c['width'],_0x48772c['height'],_0x3cf6d4,_0x48772c['data']):_0x4deac9['compressedTexImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1b39f8,_0x2f6f2e,_0x21e5f1,_0x48772c['width'],_0x48772c['height'],0x0,_0x48772c['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x5572bf?_0x1ceed9&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1b39f8,_0x2f6f2e,0x0,0x0,_0x48772c['width'],_0x48772c['height'],_0x3cf6d4,_0x3f7e47,_0x48772c['data']):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1b39f8,_0x2f6f2e,_0x21e5f1,_0x48772c['width'],_0x48772c['height'],0x0,_0x3cf6d4,_0x3f7e47,_0x48772c['data']);}}}else{if(_0x12d81f=_0x320506['mipmaps'],_0x5572bf&&_0x4743fc){_0x12d81f['length']>0x0&&_0x3df823++;const _0x509996=_0x5c1174(_0x42db10[0x0]);_0x4deac9['texStorage2D'](_0x239db8['TEXTURE_CUBE_MAP'],_0x3df823,_0x21e5f1,_0x509996['width'],_0x509996['height']);}for(let _0x44386e=0x0;_0x44386e<0x6;_0x44386e++)if(_0x2cae5d){_0x5572bf?_0x1ceed9&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,0x0,0x0,0x0,_0x42db10[_0x44386e]['width'],_0x42db10[_0x44386e]['height'],_0x3cf6d4,_0x3f7e47,_0x42db10[_0x44386e]['data']):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,0x0,_0x21e5f1,_0x42db10[_0x44386e]['width'],_0x42db10[_0x44386e]['height'],0x0,_0x3cf6d4,_0x3f7e47,_0x42db10[_0x44386e]['data']);for(let _0xfb7b5e=0x0;_0xfb7b5e<_0x12d81f['length'];_0xfb7b5e++){const _0x27e880=_0x12d81f[_0xfb7b5e]['image'][_0x44386e]['image'];_0x5572bf?_0x1ceed9&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,_0xfb7b5e+0x1,0x0,0x0,_0x27e880['width'],_0x27e880['height'],_0x3cf6d4,_0x3f7e47,_0x27e880['data']):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,_0xfb7b5e+0x1,_0x21e5f1,_0x27e880['width'],_0x27e880['height'],0x0,_0x3cf6d4,_0x3f7e47,_0x27e880['data']);}}else{_0x5572bf?_0x1ceed9&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,0x0,0x0,0x0,_0x3cf6d4,_0x3f7e47,_0x42db10[_0x44386e]):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,0x0,_0x21e5f1,_0x3cf6d4,_0x3f7e47,_0x42db10[_0x44386e]);for(let _0xf57055=0x0;_0xf57055<_0x12d81f['length'];_0xf57055++){const _0x18d8fa=_0x12d81f[_0xf57055];_0x5572bf?_0x1ceed9&&_0x4deac9['texSubImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,_0xf57055+0x1,0x0,0x0,_0x3cf6d4,_0x3f7e47,_0x18d8fa['image'][_0x44386e]):_0x4deac9['texImage2D'](_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x44386e,_0xf57055+0x1,_0x21e5f1,_0x3cf6d4,_0x3f7e47,_0x18d8fa['image'][_0x44386e]);}}}_0x354fe9(_0x320506)&&_0x18928b(_0x239db8['TEXTURE_CUBE_MAP']),_0x28f382['__version']=_0x108e72['version'],_0x320506['onUpdate']&&_0x320506['onUpdate'](_0x320506);}_0x2bacc6['__version']=_0x320506['version'];}(_0x5964f5,_0xf00bc4,_0x29c121):_0x4deac9['bindTexture'](_0x239db8['TEXTURE_CUBE_MAP'],_0x5964f5['__webglTexture'],_0x239db8['TEXTURE0']+_0x29c121);},this['rebindTextures']=function(_0x93069d,_0x1fdc60,_0x1360f3){const _0x3359d9=_0x2f1281['get'](_0x93069d);void 0x0!==_0x1fdc60&&_0x15d5ec(_0x3359d9['__webglFramebuffer'],_0x93069d,_0x93069d['texture'],_0x239db8['COLOR_ATTACHMENT0'],_0x239db8['TEXTURE_2D'],0x0),void 0x0!==_0x1360f3&&_0x12989c(_0x93069d);},this['setupRenderTarget']=function(_0x328633){const _0x5ba6d3=_0x328633['texture'],_0x544a13=_0x2f1281['get'](_0x328633),_0x1f89a6=_0x2f1281['get'](_0x5ba6d3);_0x328633['addEventListener']('dispose',_0x37647c);const _0xd08a4d=_0x328633['textures'],_0x381235=!0x0===_0x328633['isWebGLCubeRenderTarget'],_0x2ba862=_0xd08a4d['length']>0x1;if(_0x2ba862||(void 0x0===_0x1f89a6['__webglTexture']&&(_0x1f89a6['__webglTexture']=_0x239db8['createTexture']()),_0x1f89a6['__version']=_0x5ba6d3['version'],_0x3aedf5['memory']['textures']++),_0x381235){_0x544a13['__webglFramebuffer']=[];for(let _0x5153ff=0x0;_0x5153ff<0x6;_0x5153ff++)if(_0x5ba6d3['mipmaps']&&_0x5ba6d3['mipmaps']['length']>0x0){_0x544a13['__webglFramebuffer'][_0x5153ff]=[];for(let _0x2698dc=0x0;_0x2698dc<_0x5ba6d3['mipmaps']['length'];_0x2698dc++)_0x544a13['__webglFramebuffer'][_0x5153ff][_0x2698dc]=_0x239db8['createFramebuffer']();}else _0x544a13['__webglFramebuffer'][_0x5153ff]=_0x239db8['createFramebuffer']();}else{if(_0x5ba6d3['mipmaps']&&_0x5ba6d3['mipmaps']['length']>0x0){_0x544a13['__webglFramebuffer']=[];for(let _0x16f43a=0x0;_0x16f43a<_0x5ba6d3['mipmaps']['length'];_0x16f43a++)_0x544a13['__webglFramebuffer'][_0x16f43a]=_0x239db8['createFramebuffer']();}else _0x544a13['__webglFramebuffer']=_0x239db8['createFramebuffer']();if(_0x2ba862)for(let _0x12193c=0x0,_0x5e9633=_0xd08a4d['length'];_0x12193c<_0x5e9633;_0x12193c++){const _0x228759=_0x2f1281['get'](_0xd08a4d[_0x12193c]);void 0x0===_0x228759['__webglTexture']&&(_0x228759['__webglTexture']=_0x239db8['createTexture'](),_0x3aedf5['memory']['textures']++);}if(_0x328633['samples']>0x0&&!0x1===_0x59fe94(_0x328633)){_0x544a13['__webglMultisampledFramebuffer']=_0x239db8['createFramebuffer'](),_0x544a13['__webglColorRenderbuffer']=[],_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x544a13['__webglMultisampledFramebuffer']);for(let _0x28bf56=0x0;_0x28bf56<_0xd08a4d['length'];_0x28bf56++){const _0x4380f2=_0xd08a4d[_0x28bf56];_0x544a13['__webglColorRenderbuffer'][_0x28bf56]=_0x239db8['createRenderbuffer'](),_0x239db8['bindRenderbuffer'](_0x239db8['RENDERBUFFER'],_0x544a13['__webglColorRenderbuffer'][_0x28bf56]);const _0x3daa1e=_0xab0003['convert'](_0x4380f2['format'],_0x4380f2['colorSpace']),_0x4638ec=_0xab0003['convert'](_0x4380f2['type']),_0x44a989=_0x4b94f9(_0x4380f2['internalFormat'],_0x3daa1e,_0x4638ec,_0x4380f2['colorSpace'],!0x0===_0x328633['isXRRenderTarget']),_0x3ff175=_0x4ba754(_0x328633);_0x239db8['renderbufferStorageMultisample'](_0x239db8['RENDERBUFFER'],_0x3ff175,_0x44a989,_0x328633['width'],_0x328633['height']),_0x239db8['framebufferRenderbuffer'](_0x239db8['FRAMEBUFFER'],_0x239db8['COLOR_ATTACHMENT0']+_0x28bf56,_0x239db8['RENDERBUFFER'],_0x544a13['__webglColorRenderbuffer'][_0x28bf56]);}_0x239db8['bindRenderbuffer'](_0x239db8['RENDERBUFFER'],null),_0x328633['depthBuffer']&&(_0x544a13['__webglDepthRenderbuffer']=_0x239db8['createRenderbuffer'](),_0x275a10(_0x544a13['__webglDepthRenderbuffer'],_0x328633,!0x0)),_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],null);}}if(_0x381235){_0x4deac9['bindTexture'](_0x239db8['TEXTURE_CUBE_MAP'],_0x1f89a6['__webglTexture']),_0x3b7323(_0x239db8['TEXTURE_CUBE_MAP'],_0x5ba6d3);for(let _0x49f477=0x0;_0x49f477<0x6;_0x49f477++)if(_0x5ba6d3['mipmaps']&&_0x5ba6d3['mipmaps']['length']>0x0){for(let _0x75373f=0x0;_0x75373f<_0x5ba6d3['mipmaps']['length'];_0x75373f++)_0x15d5ec(_0x544a13['__webglFramebuffer'][_0x49f477][_0x75373f],_0x328633,_0x5ba6d3,_0x239db8['COLOR_ATTACHMENT0'],_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x49f477,_0x75373f);}else _0x15d5ec(_0x544a13['__webglFramebuffer'][_0x49f477],_0x328633,_0x5ba6d3,_0x239db8['COLOR_ATTACHMENT0'],_0x239db8['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x49f477,0x0);_0x354fe9(_0x5ba6d3)&&_0x18928b(_0x239db8['TEXTURE_CUBE_MAP']),_0x4deac9['unbindTexture']();}else{if(_0x2ba862){for(let _0x44ecf5=0x0,_0x460b09=_0xd08a4d['length'];_0x44ecf5<_0x460b09;_0x44ecf5++){const _0x13fa95=_0xd08a4d[_0x44ecf5],_0xf464ec=_0x2f1281['get'](_0x13fa95);_0x4deac9['bindTexture'](_0x239db8['TEXTURE_2D'],_0xf464ec['__webglTexture']),_0x3b7323(_0x239db8['TEXTURE_2D'],_0x13fa95),_0x15d5ec(_0x544a13['__webglFramebuffer'],_0x328633,_0x13fa95,_0x239db8['COLOR_ATTACHMENT0']+_0x44ecf5,_0x239db8['TEXTURE_2D'],0x0),_0x354fe9(_0x13fa95)&&_0x18928b(_0x239db8['TEXTURE_2D']);}_0x4deac9['unbindTexture']();}else{let _0x145cb0=_0x239db8['TEXTURE_2D'];if((_0x328633['isWebGL3DRenderTarget']||_0x328633['isWebGLArrayRenderTarget'])&&(_0x145cb0=_0x328633['isWebGL3DRenderTarget']?_0x239db8['TEXTURE_3D']:_0x239db8['TEXTURE_2D_ARRAY']),_0x4deac9['bindTexture'](_0x145cb0,_0x1f89a6['__webglTexture']),_0x3b7323(_0x145cb0,_0x5ba6d3),_0x5ba6d3['mipmaps']&&_0x5ba6d3['mipmaps']['length']>0x0){for(let _0x44b912=0x0;_0x44b912<_0x5ba6d3['mipmaps']['length'];_0x44b912++)_0x15d5ec(_0x544a13['__webglFramebuffer'][_0x44b912],_0x328633,_0x5ba6d3,_0x239db8['COLOR_ATTACHMENT0'],_0x145cb0,_0x44b912);}else _0x15d5ec(_0x544a13['__webglFramebuffer'],_0x328633,_0x5ba6d3,_0x239db8['COLOR_ATTACHMENT0'],_0x145cb0,0x0);_0x354fe9(_0x5ba6d3)&&_0x18928b(_0x145cb0),_0x4deac9['unbindTexture']();}}_0x328633['depthBuffer']&&_0x12989c(_0x328633);},this['updateRenderTargetMipmap']=function(_0xb5daf6){const _0x515aab=_0xb5daf6['textures'];for(let _0x43e1c6=0x0,_0x10f5b3=_0x515aab['length'];_0x43e1c6<_0x10f5b3;_0x43e1c6++){const _0x2b9e24=_0x515aab[_0x43e1c6];if(_0x354fe9(_0x2b9e24)){const _0xa516e4=_0x4bfbc0(_0xb5daf6),_0x3ef797=_0x2f1281['get'](_0x2b9e24)['__webglTexture'];_0x4deac9['bindTexture'](_0xa516e4,_0x3ef797),_0x18928b(_0xa516e4),_0x4deac9['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0xcee409){if(_0xcee409['samples']>0x0){if(!0x1===_0x59fe94(_0xcee409)){const _0x6b3feb=_0xcee409['textures'],_0x53ae47=_0xcee409['width'],_0xaf8ffb=_0xcee409['height'];let _0x6d8354=_0x239db8['COLOR_BUFFER_BIT'];const _0x13dc4a=_0xcee409['stencilBuffer']?_0x239db8['DEPTH_STENCIL_ATTACHMENT']:_0x239db8['DEPTH_ATTACHMENT'],_0x57644d=_0x2f1281['get'](_0xcee409),_0x555c04=_0x6b3feb['length']>0x1;if(_0x555c04){for(let _0x33f5ea=0x0;_0x33f5ea<_0x6b3feb['length'];_0x33f5ea++)_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x57644d['__webglMultisampledFramebuffer']),_0x239db8['framebufferRenderbuffer'](_0x239db8['FRAMEBUFFER'],_0x239db8['COLOR_ATTACHMENT0']+_0x33f5ea,_0x239db8['RENDERBUFFER'],null),_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x57644d['__webglFramebuffer']),_0x239db8['framebufferTexture2D'](_0x239db8['DRAW_FRAMEBUFFER'],_0x239db8['COLOR_ATTACHMENT0']+_0x33f5ea,_0x239db8['TEXTURE_2D'],null,0x0);}_0x4deac9['bindFramebuffer'](_0x239db8['READ_FRAMEBUFFER'],_0x57644d['__webglMultisampledFramebuffer']),_0x4deac9['bindFramebuffer'](_0x239db8['DRAW_FRAMEBUFFER'],_0x57644d['__webglFramebuffer']);for(let _0x3e5d7f=0x0;_0x3e5d7f<_0x6b3feb['length'];_0x3e5d7f++){if(_0xcee409['resolveDepthBuffer']&&(_0xcee409['depthBuffer']&&(_0x6d8354|=_0x239db8['DEPTH_BUFFER_BIT']),_0xcee409['stencilBuffer']&&_0xcee409['resolveStencilBuffer']&&(_0x6d8354|=_0x239db8['STENCIL_BUFFER_BIT'])),_0x555c04){_0x239db8['framebufferRenderbuffer'](_0x239db8['READ_FRAMEBUFFER'],_0x239db8['COLOR_ATTACHMENT0'],_0x239db8['RENDERBUFFER'],_0x57644d['__webglColorRenderbuffer'][_0x3e5d7f]);const _0x221407=_0x2f1281['get'](_0x6b3feb[_0x3e5d7f])['__webglTexture'];_0x239db8['framebufferTexture2D'](_0x239db8['DRAW_FRAMEBUFFER'],_0x239db8['COLOR_ATTACHMENT0'],_0x239db8['TEXTURE_2D'],_0x221407,0x0);}_0x239db8['blitFramebuffer'](0x0,0x0,_0x53ae47,_0xaf8ffb,0x0,0x0,_0x53ae47,_0xaf8ffb,_0x6d8354,_0x239db8['NEAREST']),!0x0===_0x19c21f&&(_0x168125['length']=0x0,_0x48a093['length']=0x0,_0x168125['push'](_0x239db8['COLOR_ATTACHMENT0']+_0x3e5d7f),_0xcee409['depthBuffer']&&!0x1===_0xcee409['resolveDepthBuffer']&&(_0x168125['push'](_0x13dc4a),_0x48a093['push'](_0x13dc4a),_0x239db8['invalidateFramebuffer'](_0x239db8['DRAW_FRAMEBUFFER'],_0x48a093)),_0x239db8['invalidateFramebuffer'](_0x239db8['READ_FRAMEBUFFER'],_0x168125));}if(_0x4deac9['bindFramebuffer'](_0x239db8['READ_FRAMEBUFFER'],null),_0x4deac9['bindFramebuffer'](_0x239db8['DRAW_FRAMEBUFFER'],null),_0x555c04)for(let _0x5869c8=0x0;_0x5869c8<_0x6b3feb['length'];_0x5869c8++){_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x57644d['__webglMultisampledFramebuffer']),_0x239db8['framebufferRenderbuffer'](_0x239db8['FRAMEBUFFER'],_0x239db8['COLOR_ATTACHMENT0']+_0x5869c8,_0x239db8['RENDERBUFFER'],_0x57644d['__webglColorRenderbuffer'][_0x5869c8]);const _0x39520b=_0x2f1281['get'](_0x6b3feb[_0x5869c8])['__webglTexture'];_0x4deac9['bindFramebuffer'](_0x239db8['FRAMEBUFFER'],_0x57644d['__webglFramebuffer']),_0x239db8['framebufferTexture2D'](_0x239db8['DRAW_FRAMEBUFFER'],_0x239db8['COLOR_ATTACHMENT0']+_0x5869c8,_0x239db8['TEXTURE_2D'],_0x39520b,0x0);}_0x4deac9['bindFramebuffer'](_0x239db8['DRAW_FRAMEBUFFER'],_0x57644d['__webglMultisampledFramebuffer']);}else{if(_0xcee409['depthBuffer']&&!0x1===_0xcee409['resolveDepthBuffer']&&_0x19c21f){const _0x256fac=_0xcee409['stencilBuffer']?_0x239db8['DEPTH_STENCIL_ATTACHMENT']:_0x239db8['DEPTH_ATTACHMENT'];_0x239db8['invalidateFramebuffer'](_0x239db8['DRAW_FRAMEBUFFER'],[_0x256fac]);}}}},this['setupDepthRenderbuffer']=_0x12989c,this['setupFrameBufferTexture']=_0x15d5ec,this['useMultisampledRTT']=_0x59fe94;}function _0x3c8fac(_0x29d237,_0x1ca18b){return{'convert':function(_0x385df2,_0x1f2954=_0x207dba['jf0']){let _0x166c0d;const _0x3ca9b2=_0x207dba['ppV']['getTransfer'](_0x1f2954);if(_0x385df2===_0x207dba['OUM'])return _0x29d237['UNSIGNED_BYTE'];if(_0x385df2===_0x207dba['Wew'])return _0x29d237['UNSIGNED_SHORT_4_4_4_4'];if(_0x385df2===_0x207dba['gJ2'])return _0x29d237['UNSIGNED_SHORT_5_5_5_1'];if(_0x385df2===_0x207dba['Dmk'])return _0x29d237['UNSIGNED_INT_5_9_9_9_REV'];if(_0x385df2===_0x207dba['tJf'])return _0x29d237['BYTE'];if(_0x385df2===_0x207dba['fBL'])return _0x29d237['SHORT'];if(_0x385df2===_0x207dba['cHt'])return _0x29d237['UNSIGNED_SHORT'];if(_0x385df2===_0x207dba['Yuy'])return _0x29d237['INT'];if(_0x385df2===_0x207dba['bkx'])return _0x29d237['UNSIGNED_INT'];if(_0x385df2===_0x207dba['RQf'])return _0x29d237['FLOAT'];if(_0x385df2===_0x207dba['ix0'])return _0x29d237['HALF_FLOAT'];if(_0x385df2===_0x207dba['wrO'])return _0x29d237['ALPHA'];if(_0x385df2===_0x207dba['HIg'])return _0x29d237['RGB'];if(_0x385df2===_0x207dba['GWd'])return _0x29d237['RGBA'];if(_0x385df2===_0x207dba['Kzv'])return _0x29d237['LUMINANCE'];if(_0x385df2===_0x207dba['CMB'])return _0x29d237['LUMINANCE_ALPHA'];if(_0x385df2===_0x207dba['zdS'])return _0x29d237['DEPTH_COMPONENT'];if(_0x385df2===_0x207dba['dcC'])return _0x29d237['DEPTH_STENCIL'];if(_0x385df2===_0x207dba['VT0'])return _0x29d237['RED'];if(_0x385df2===_0x207dba['ZQM'])return _0x29d237['RED_INTEGER'];if(_0x385df2===_0x207dba['paN'])return _0x29d237['RG'];if(_0x385df2===_0x207dba['TkQ'])return _0x29d237['RG_INTEGER'];if(_0x385df2===_0x207dba['c90'])return _0x29d237['RGBA_INTEGER'];if(_0x385df2===_0x207dba['IE4']||_0x385df2===_0x207dba['Nz6']||_0x385df2===_0x207dba['jR7']||_0x385df2===_0x207dba['BXX']){if(_0x3ca9b2===_0x207dba['KLL']){if(_0x166c0d=_0x1ca18b['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x166c0d)return null;if(_0x385df2===_0x207dba['IE4'])return _0x166c0d['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x385df2===_0x207dba['Nz6'])return _0x166c0d['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x385df2===_0x207dba['jR7'])return _0x166c0d['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x385df2===_0x207dba['BXX'])return _0x166c0d['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x166c0d=_0x1ca18b['get']('WEBGL_compressed_texture_s3tc'),null===_0x166c0d)return null;if(_0x385df2===_0x207dba['IE4'])return _0x166c0d['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x385df2===_0x207dba['Nz6'])return _0x166c0d['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x385df2===_0x207dba['jR7'])return _0x166c0d['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x385df2===_0x207dba['BXX'])return _0x166c0d['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x385df2===_0x207dba['k6Q']||_0x385df2===_0x207dba['kTp']||_0x385df2===_0x207dba['HXV']||_0x385df2===_0x207dba['pBf']){if(_0x166c0d=_0x1ca18b['get']('WEBGL_compressed_texture_pvrtc'),null===_0x166c0d)return null;if(_0x385df2===_0x207dba['k6Q'])return _0x166c0d['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x385df2===_0x207dba['kTp'])return _0x166c0d['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x385df2===_0x207dba['HXV'])return _0x166c0d['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x385df2===_0x207dba['pBf'])return _0x166c0d['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x385df2===_0x207dba['CVz']||_0x385df2===_0x207dba['Riy']||_0x385df2===_0x207dba['KDk']){if(_0x166c0d=_0x1ca18b['get']('WEBGL_compressed_texture_etc'),null===_0x166c0d)return null;if(_0x385df2===_0x207dba['CVz']||_0x385df2===_0x207dba['Riy'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ETC2']:_0x166c0d['COMPRESSED_RGB8_ETC2'];if(_0x385df2===_0x207dba['KDk'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x166c0d['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x385df2===_0x207dba['qa3']||_0x385df2===_0x207dba['B_h']||_0x385df2===_0x207dba['czI']||_0x385df2===_0x207dba['rSH']||_0x385df2===_0x207dba['Qrf']||_0x385df2===_0x207dba['psI']||_0x385df2===_0x207dba['a5J']||_0x385df2===_0x207dba['_QJ']||_0x385df2===_0x207dba['uB5']||_0x385df2===_0x207dba['lyL']||_0x385df2===_0x207dba['bC7']||_0x385df2===_0x207dba['y3Z']||_0x385df2===_0x207dba['ojs']||_0x385df2===_0x207dba['S$4']){if(_0x166c0d=_0x1ca18b['get']('WEBGL_compressed_texture_astc'),null===_0x166c0d)return null;if(_0x385df2===_0x207dba['qa3'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x385df2===_0x207dba['B_h'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x385df2===_0x207dba['czI'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x385df2===_0x207dba['rSH'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x385df2===_0x207dba['Qrf'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x385df2===_0x207dba['psI'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x385df2===_0x207dba['a5J'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x385df2===_0x207dba['_QJ'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x385df2===_0x207dba['uB5'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x385df2===_0x207dba['lyL'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x385df2===_0x207dba['bC7'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x385df2===_0x207dba['y3Z'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x385df2===_0x207dba['ojs'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x385df2===_0x207dba['S$4'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x166c0d['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x385df2===_0x207dba['Fn']||_0x385df2===_0x207dba['H23']||_0x385df2===_0x207dba['W9U']){if(_0x166c0d=_0x1ca18b['get']('EXT_texture_compression_bptc'),null===_0x166c0d)return null;if(_0x385df2===_0x207dba['Fn'])return _0x3ca9b2===_0x207dba['KLL']?_0x166c0d['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x166c0d['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x385df2===_0x207dba['H23'])return _0x166c0d['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x385df2===_0x207dba['W9U'])return _0x166c0d['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x385df2===_0x207dba['Kef']||_0x385df2===_0x207dba['XG_']||_0x385df2===_0x207dba['HO_']||_0x385df2===_0x207dba['CWW']){if(_0x166c0d=_0x1ca18b['get']('EXT_texture_compression_rgtc'),null===_0x166c0d)return null;if(_0x385df2===_0x207dba['Fn'])return _0x166c0d['COMPRESSED_RED_RGTC1_EXT'];if(_0x385df2===_0x207dba['XG_'])return _0x166c0d['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x385df2===_0x207dba['HO_'])return _0x166c0d['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x385df2===_0x207dba['CWW'])return _0x166c0d['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x385df2===_0x207dba['V3x']?_0x29d237['UNSIGNED_INT_24_8']:void 0x0!==_0x29d237[_0x385df2]?_0x29d237[_0x385df2]:null;}};}const _0xc3c7ed={'type':'move'};class _0x187a6d{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0x207dba['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0x207dba['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0x207dba['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0x207dba['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0x207dba['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0x207dba['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0x207dba['Pq0']()),this['_grip'];}['dispatchEvent'](_0x2a7526){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x2a7526),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x2a7526),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x2a7526),this;}['connect'](_0x46a7ed){if(_0x46a7ed&&_0x46a7ed['hand']){const _0x39b1cf=this['_hand'];if(_0x39b1cf){for(const _0x3fabd6 of _0x46a7ed['hand']['values']())this['_getHandJoint'](_0x39b1cf,_0x3fabd6);}}return this['dispatchEvent']({'type':'connected','data':_0x46a7ed}),this;}['disconnect'](_0x2fa7c1){return this['dispatchEvent']({'type':'disconnected','data':_0x2fa7c1}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x549fa1,_0xfbd152,_0x431734){let _0x3adeec=null,_0x5e210f=null,_0x5f0282=null;const _0x15cebd=this['_targetRay'],_0x28bce1=this['_grip'],_0x1fe536=this['_hand'];if(_0x549fa1&&'visible-blurred'!==_0xfbd152['session']['visibilityState']){if(_0x1fe536&&_0x549fa1['hand']){_0x5f0282=!0x0;for(const _0x14ab01 of _0x549fa1['hand']['values']()){const _0x23a5a8=_0xfbd152['getJointPose'](_0x14ab01,_0x431734),_0x18e0e5=this['_getHandJoint'](_0x1fe536,_0x14ab01);null!==_0x23a5a8&&(_0x18e0e5['matrix']['fromArray'](_0x23a5a8['transform']['matrix']),_0x18e0e5['matrix']['decompose'](_0x18e0e5['position'],_0x18e0e5['rotation'],_0x18e0e5['scale']),_0x18e0e5['matrixWorldNeedsUpdate']=!0x0,_0x18e0e5['jointRadius']=_0x23a5a8['radius']),_0x18e0e5['visible']=null!==_0x23a5a8;}const _0x13d141=_0x1fe536['joints']['index-finger-tip'],_0x1316c8=_0x1fe536['joints']['thumb-tip'],_0xa0ebd3=_0x13d141['position']['distanceTo'](_0x1316c8['position']),_0xeb3ee8=0.02,_0x169b46=0.005;_0x1fe536['inputState']['pinching']&&_0xa0ebd3>_0xeb3ee8+_0x169b46?(_0x1fe536['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x549fa1['handedness'],'target':this})):!_0x1fe536['inputState']['pinching']&&_0xa0ebd3<=_0xeb3ee8-_0x169b46&&(_0x1fe536['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x549fa1['handedness'],'target':this}));}else null!==_0x28bce1&&_0x549fa1['gripSpace']&&(_0x5e210f=_0xfbd152['getPose'](_0x549fa1['gripSpace'],_0x431734),null!==_0x5e210f&&(_0x28bce1['matrix']['fromArray'](_0x5e210f['transform']['matrix']),_0x28bce1['matrix']['decompose'](_0x28bce1['position'],_0x28bce1['rotation'],_0x28bce1['scale']),_0x28bce1['matrixWorldNeedsUpdate']=!0x0,_0x5e210f['linearVelocity']?(_0x28bce1['hasLinearVelocity']=!0x0,_0x28bce1['linearVelocity']['copy'](_0x5e210f['linearVelocity'])):_0x28bce1['hasLinearVelocity']=!0x1,_0x5e210f['angularVelocity']?(_0x28bce1['hasAngularVelocity']=!0x0,_0x28bce1['angularVelocity']['copy'](_0x5e210f['angularVelocity'])):_0x28bce1['hasAngularVelocity']=!0x1));null!==_0x15cebd&&(_0x3adeec=_0xfbd152['getPose'](_0x549fa1['targetRaySpace'],_0x431734),null===_0x3adeec&&null!==_0x5e210f&&(_0x3adeec=_0x5e210f),null!==_0x3adeec&&(_0x15cebd['matrix']['fromArray'](_0x3adeec['transform']['matrix']),_0x15cebd['matrix']['decompose'](_0x15cebd['position'],_0x15cebd['rotation'],_0x15cebd['scale']),_0x15cebd['matrixWorldNeedsUpdate']=!0x0,_0x3adeec['linearVelocity']?(_0x15cebd['hasLinearVelocity']=!0x0,_0x15cebd['linearVelocity']['copy'](_0x3adeec['linearVelocity'])):_0x15cebd['hasLinearVelocity']=!0x1,_0x3adeec['angularVelocity']?(_0x15cebd['hasAngularVelocity']=!0x0,_0x15cebd['angularVelocity']['copy'](_0x3adeec['angularVelocity'])):_0x15cebd['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0xc3c7ed)));}return null!==_0x15cebd&&(_0x15cebd['visible']=null!==_0x3adeec),null!==_0x28bce1&&(_0x28bce1['visible']=null!==_0x5e210f),null!==_0x1fe536&&(_0x1fe536['visible']=null!==_0x5f0282),this;}['_getHandJoint'](_0xce8bb3,_0x5034e1){if(void 0x0===_0xce8bb3['joints'][_0x5034e1['jointName']]){const _0x3f95d1=new _0x207dba['YJl']();_0x3f95d1['matrixAutoUpdate']=!0x1,_0x3f95d1['visible']=!0x1,_0xce8bb3['joints'][_0x5034e1['jointName']]=_0x3f95d1,_0xce8bb3['add'](_0x3f95d1);}return _0xce8bb3['joints'][_0x5034e1['jointName']];}}class _0x4f76a4{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x1a49ca,_0x22585f,_0x49f96d){if(null===this['texture']){const _0x498960=new _0x207dba['gPd']();_0x1a49ca['properties']['get'](_0x498960)['__webglTexture']=_0x22585f['texture'],_0x22585f['depthNear']===_0x49f96d['depthNear']&&_0x22585f['depthFar']===_0x49f96d['depthFar']||(this['depthNear']=_0x22585f['depthNear'],this['depthFar']=_0x22585f['depthFar']),this['texture']=_0x498960;}}['getMesh'](_0x8a3b25){if(null!==this['texture']&&null===this['mesh']){const _0xa366df=_0x8a3b25['cameras'][0x0]['viewport'],_0x47fe4e=new _0x207dba['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0xa366df['z']},'depthHeight':{'value':_0xa366df['w']}}});this['mesh']=new _0x207dba['eaF'](new _0x207dba['bdM'](0x14,0x14),_0x47fe4e);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0x88a420 extends _0x207dba['Qev']{constructor(_0x40554a,_0x30c31f){super();const _0x16ba59=this;let _0xa65763=null,_0x499546=0x1,_0x20a9c5=null,_0x35755c='local-floor',_0x22d8de=0x1,_0x300f46=null,_0x4ccc95=null,_0x3eedae=null,_0x1275b8=null,_0x26f554=null,_0x5e527c=null;const _0x2eb744=new _0x4f76a4(),_0x550e8d=_0x30c31f['getContextAttributes']();let _0x113da9=null,_0x3db3ca=null;const _0x410538=[],_0x3edb68=[],_0x4d1f19=new _0x207dba['I9Y']();let _0x3ae325=null;const _0xec714e=new _0x207dba['ubm']();_0xec714e['viewport']=new _0x207dba['IUQ']();const _0x243496=new _0x207dba['ubm']();_0x243496['viewport']=new _0x207dba['IUQ']();const _0x1cc7d3=[_0xec714e,_0x243496],_0x118366=new _0x207dba['nZQ']();let _0x4237e1=null,_0x1cd5cb=null;function _0x144ff0(_0x376e12){const _0x3b0614=_0x3edb68['indexOf'](_0x376e12['inputSource']);if(-0x1===_0x3b0614)return;const _0x169c43=_0x410538[_0x3b0614];void 0x0!==_0x169c43&&(_0x169c43['update'](_0x376e12['inputSource'],_0x376e12['frame'],_0x300f46||_0x20a9c5),_0x169c43['dispatchEvent']({'type':_0x376e12['type'],'data':_0x376e12['inputSource']}));}function _0x430a91(){_0xa65763['removeEventListener']('select',_0x144ff0),_0xa65763['removeEventListener']('selectstart',_0x144ff0),_0xa65763['removeEventListener']('selectend',_0x144ff0),_0xa65763['removeEventListener']('squeeze',_0x144ff0),_0xa65763['removeEventListener']('squeezestart',_0x144ff0),_0xa65763['removeEventListener']('squeezeend',_0x144ff0),_0xa65763['removeEventListener']('end',_0x430a91),_0xa65763['removeEventListener']('inputsourceschange',_0x1246e7);for(let _0x596dc7=0x0;_0x596dc7<_0x410538['length'];_0x596dc7++){const _0xf9821d=_0x3edb68[_0x596dc7];null!==_0xf9821d&&(_0x3edb68[_0x596dc7]=null,_0x410538[_0x596dc7]['disconnect'](_0xf9821d));}_0x4237e1=null,_0x1cd5cb=null,_0x2eb744['reset'](),_0x40554a['setRenderTarget'](_0x113da9),_0x26f554=null,_0x1275b8=null,_0x3eedae=null,_0xa65763=null,_0x3db3ca=null,_0x45f248['stop'](),_0x16ba59['isPresenting']=!0x1,_0x40554a['setPixelRatio'](_0x3ae325),_0x40554a['setSize'](_0x4d1f19['width'],_0x4d1f19['height'],!0x1),_0x16ba59['dispatchEvent']({'type':'sessionend'});}function _0x1246e7(_0x1832bd){for(let _0x159896=0x0;_0x159896<_0x1832bd['removed']['length'];_0x159896++){const _0x54eb54=_0x1832bd['removed'][_0x159896],_0x27ec8f=_0x3edb68['indexOf'](_0x54eb54);_0x27ec8f>=0x0&&(_0x3edb68[_0x27ec8f]=null,_0x410538[_0x27ec8f]['disconnect'](_0x54eb54));}for(let _0x367fcd=0x0;_0x367fcd<_0x1832bd['added']['length'];_0x367fcd++){const _0x439a4d=_0x1832bd['added'][_0x367fcd];let _0x44b14a=_0x3edb68['indexOf'](_0x439a4d);if(-0x1===_0x44b14a){for(let _0x4b4f4f=0x0;_0x4b4f4f<_0x410538['length'];_0x4b4f4f++){if(_0x4b4f4f>=_0x3edb68['length']){_0x3edb68['push'](_0x439a4d),_0x44b14a=_0x4b4f4f;break;}if(null===_0x3edb68[_0x4b4f4f]){_0x3edb68[_0x4b4f4f]=_0x439a4d,_0x44b14a=_0x4b4f4f;break;}}if(-0x1===_0x44b14a)break;}const _0x3a1e5d=_0x410538[_0x44b14a];_0x3a1e5d&&_0x3a1e5d['connect'](_0x439a4d);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0x11782a){let _0x3386a6=_0x410538[_0x11782a];return void 0x0===_0x3386a6&&(_0x3386a6=new _0x187a6d(),_0x410538[_0x11782a]=_0x3386a6),_0x3386a6['getTargetRaySpace']();},this['getControllerGrip']=function(_0x29a320){let _0x3a8734=_0x410538[_0x29a320];return void 0x0===_0x3a8734&&(_0x3a8734=new _0x187a6d(),_0x410538[_0x29a320]=_0x3a8734),_0x3a8734['getGripSpace']();},this['getHand']=function(_0x1c9905){let _0x242ac1=_0x410538[_0x1c9905];return void 0x0===_0x242ac1&&(_0x242ac1=new _0x187a6d(),_0x410538[_0x1c9905]=_0x242ac1),_0x242ac1['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0x278ecb){_0x499546=_0x278ecb,!0x0===_0x16ba59['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0xaa72f0){_0x35755c=_0xaa72f0,!0x0===_0x16ba59['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0x300f46||_0x20a9c5;},this['setReferenceSpace']=function(_0x79e4c6){_0x300f46=_0x79e4c6;},this['getBaseLayer']=function(){return null!==_0x1275b8?_0x1275b8:_0x26f554;},this['getBinding']=function(){return _0x3eedae;},this['getFrame']=function(){return _0x5e527c;},this['getSession']=function(){return _0xa65763;},this['setSession']=async function(_0x4f7f29){if(_0xa65763=_0x4f7f29,null!==_0xa65763){_0x113da9=_0x40554a['getRenderTarget'](),_0xa65763['addEventListener']('select',_0x144ff0),_0xa65763['addEventListener']('selectstart',_0x144ff0),_0xa65763['addEventListener']('selectend',_0x144ff0),_0xa65763['addEventListener']('squeeze',_0x144ff0),_0xa65763['addEventListener']('squeezestart',_0x144ff0),_0xa65763['addEventListener']('squeezeend',_0x144ff0),_0xa65763['addEventListener']('end',_0x430a91),_0xa65763['addEventListener']('inputsourceschange',_0x1246e7),!0x0!==_0x550e8d['xrCompatible']&&await _0x30c31f['makeXRCompatible'](),_0x3ae325=_0x40554a['getPixelRatio'](),_0x40554a['getSize'](_0x4d1f19);if(void 0x0!==_0xa65763['enabledFeatures']&&_0xa65763['enabledFeatures']['includes']('layers')){let _0x5bf4ba=null,_0x231c1d=null,_0x2276a2=null;_0x550e8d['depth']&&(_0x2276a2=_0x550e8d['stencil']?_0x30c31f['DEPTH24_STENCIL8']:_0x30c31f['DEPTH_COMPONENT24'],_0x5bf4ba=_0x550e8d['stencil']?_0x207dba['dcC']:_0x207dba['zdS'],_0x231c1d=_0x550e8d['stencil']?_0x207dba['V3x']:_0x207dba['bkx']);const _0x140753={'colorFormat':_0x30c31f['RGBA8'],'depthFormat':_0x2276a2,'scaleFactor':_0x499546};_0x3eedae=new XRWebGLBinding(_0xa65763,_0x30c31f),_0x1275b8=_0x3eedae['createProjectionLayer'](_0x140753),_0xa65763['updateRenderState']({'layers':[_0x1275b8]}),_0x40554a['setPixelRatio'](0x1),_0x40554a['setSize'](_0x1275b8['textureWidth'],_0x1275b8['textureHeight'],!0x1),_0x3db3ca=new _0x207dba['nWS'](_0x1275b8['textureWidth'],_0x1275b8['textureHeight'],{'format':_0x207dba['GWd'],'type':_0x207dba['OUM'],'depthTexture':new _0x207dba['VCu'](_0x1275b8['textureWidth'],_0x1275b8['textureHeight'],_0x231c1d,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0x5bf4ba),'stencilBuffer':_0x550e8d['stencil'],'colorSpace':_0x40554a['outputColorSpace'],'samples':_0x550e8d['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x1275b8['ignoreDepthValues']});}else{const _0x4d078b={'antialias':_0x550e8d['antialias'],'alpha':!0x0,'depth':_0x550e8d['depth'],'stencil':_0x550e8d['stencil'],'framebufferScaleFactor':_0x499546};_0x26f554=new XRWebGLLayer(_0xa65763,_0x30c31f,_0x4d078b),_0xa65763['updateRenderState']({'baseLayer':_0x26f554}),_0x40554a['setPixelRatio'](0x1),_0x40554a['setSize'](_0x26f554['framebufferWidth'],_0x26f554['framebufferHeight'],!0x1),_0x3db3ca=new _0x207dba['nWS'](_0x26f554['framebufferWidth'],_0x26f554['framebufferHeight'],{'format':_0x207dba['GWd'],'type':_0x207dba['OUM'],'colorSpace':_0x40554a['outputColorSpace'],'stencilBuffer':_0x550e8d['stencil']});}_0x3db3ca['isXRRenderTarget']=!0x0,this['setFoveation'](_0x22d8de),_0x300f46=null,_0x20a9c5=await _0xa65763['requestReferenceSpace'](_0x35755c),_0x45f248['setContext'](_0xa65763),_0x45f248['start'](),_0x16ba59['isPresenting']=!0x0,_0x16ba59['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0xa65763)return _0xa65763['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x2eb744['getDepthTexture']();};const _0x5088f1=new _0x207dba['Pq0'](),_0x2b4e2d=new _0x207dba['Pq0']();function _0x17d4cb(_0xb1cdc7,_0x2660aa){null===_0x2660aa?_0xb1cdc7['matrixWorld']['copy'](_0xb1cdc7['matrix']):_0xb1cdc7['matrixWorld']['multiplyMatrices'](_0x2660aa['matrixWorld'],_0xb1cdc7['matrix']),_0xb1cdc7['matrixWorldInverse']['copy'](_0xb1cdc7['matrixWorld'])['invert']();}this['updateCamera']=function(_0x4d1178){if(null===_0xa65763)return;let _0x4c9b5f=_0x4d1178['near'],_0x38922b=_0x4d1178['far'];null!==_0x2eb744['texture']&&(_0x2eb744['depthNear']>0x0&&(_0x4c9b5f=_0x2eb744['depthNear']),_0x2eb744['depthFar']>0x0&&(_0x38922b=_0x2eb744['depthFar'])),_0x118366['near']=_0x243496['near']=_0xec714e['near']=_0x4c9b5f,_0x118366['far']=_0x243496['far']=_0xec714e['far']=_0x38922b,_0x4237e1===_0x118366['near']&&_0x1cd5cb===_0x118366['far']||(_0xa65763['updateRenderState']({'depthNear':_0x118366['near'],'depthFar':_0x118366['far']}),_0x4237e1=_0x118366['near'],_0x1cd5cb=_0x118366['far']),_0xec714e['layers']['mask']=0x2|_0x4d1178['layers']['mask'],_0x243496['layers']['mask']=0x4|_0x4d1178['layers']['mask'],_0x118366['layers']['mask']=_0xec714e['layers']['mask']|_0x243496['layers']['mask'];const _0x151a70=_0x4d1178['parent'],_0x4dd079=_0x118366['cameras'];_0x17d4cb(_0x118366,_0x151a70);for(let _0x4eb1b3=0x0;_0x4eb1b3<_0x4dd079['length'];_0x4eb1b3++)_0x17d4cb(_0x4dd079[_0x4eb1b3],_0x151a70);0x2===_0x4dd079['length']?function(_0x21558b,_0x4040aa,_0x458a31){_0x5088f1['setFromMatrixPosition'](_0x4040aa['matrixWorld']),_0x2b4e2d['setFromMatrixPosition'](_0x458a31['matrixWorld']);const _0x9a722a=_0x5088f1['distanceTo'](_0x2b4e2d),_0x3a7f4d=_0x4040aa['projectionMatrix']['elements'],_0x5f091a=_0x458a31['projectionMatrix']['elements'],_0x5ce204=_0x3a7f4d[0xe]/(_0x3a7f4d[0xa]-0x1),_0x5856f0=_0x3a7f4d[0xe]/(_0x3a7f4d[0xa]+0x1),_0x16a976=(_0x3a7f4d[0x9]+0x1)/_0x3a7f4d[0x5],_0x46d35d=(_0x3a7f4d[0x9]-0x1)/_0x3a7f4d[0x5],_0x58e2ba=(_0x3a7f4d[0x8]-0x1)/_0x3a7f4d[0x0],_0x377f92=(_0x5f091a[0x8]+0x1)/_0x5f091a[0x0],_0x25efc1=_0x5ce204*_0x58e2ba,_0x2e1917=_0x5ce204*_0x377f92,_0x3b74e7=_0x9a722a/(-_0x58e2ba+_0x377f92),_0x430a6b=_0x3b74e7*-_0x58e2ba;if(_0x4040aa['matrixWorld']['decompose'](_0x21558b['position'],_0x21558b['quaternion'],_0x21558b['scale']),_0x21558b['translateX'](_0x430a6b),_0x21558b['translateZ'](_0x3b74e7),_0x21558b['matrixWorld']['compose'](_0x21558b['position'],_0x21558b['quaternion'],_0x21558b['scale']),_0x21558b['matrixWorldInverse']['copy'](_0x21558b['matrixWorld'])['invert'](),-0x1===_0x3a7f4d[0xa])_0x21558b['projectionMatrix']['copy'](_0x4040aa['projectionMatrix']),_0x21558b['projectionMatrixInverse']['copy'](_0x4040aa['projectionMatrixInverse']);else{const _0x7faa9f=_0x5ce204+_0x3b74e7,_0x4eb762=_0x5856f0+_0x3b74e7,_0x42258f=_0x25efc1-_0x430a6b,_0x5132c5=_0x2e1917+(_0x9a722a-_0x430a6b),_0xc25510=_0x16a976*_0x5856f0/_0x4eb762*_0x7faa9f,_0x4dea1e=_0x46d35d*_0x5856f0/_0x4eb762*_0x7faa9f;_0x21558b['projectionMatrix']['makePerspective'](_0x42258f,_0x5132c5,_0xc25510,_0x4dea1e,_0x7faa9f,_0x4eb762),_0x21558b['projectionMatrixInverse']['copy'](_0x21558b['projectionMatrix'])['invert']();}}(_0x118366,_0xec714e,_0x243496):_0x118366['projectionMatrix']['copy'](_0xec714e['projectionMatrix']),function(_0x535727,_0x398325,_0x4a4532){null===_0x4a4532?_0x535727['matrix']['copy'](_0x398325['matrixWorld']):(_0x535727['matrix']['copy'](_0x4a4532['matrixWorld']),_0x535727['matrix']['invert'](),_0x535727['matrix']['multiply'](_0x398325['matrixWorld'])),(_0x535727['matrix']['decompose'](_0x535727['position'],_0x535727['quaternion'],_0x535727['scale']),_0x535727['updateMatrixWorld'](!0x0),_0x535727['projectionMatrix']['copy'](_0x398325['projectionMatrix']),_0x535727['projectionMatrixInverse']['copy'](_0x398325['projectionMatrixInverse']),_0x535727['isPerspectiveCamera']&&(_0x535727['fov']=0x2*_0x207dba['a55']*Math['atan'](0x1/_0x535727['projectionMatrix']['elements'][0x5]),_0x535727['zoom']=0x1));}(_0x4d1178,_0x118366,_0x151a70);},this['getCamera']=function(){return _0x118366;},this['getFoveation']=function(){if(null!==_0x1275b8||null!==_0x26f554)return _0x22d8de;},this['setFoveation']=function(_0x5d53dd){_0x22d8de=_0x5d53dd,null!==_0x1275b8&&(_0x1275b8['fixedFoveation']=_0x5d53dd),null!==_0x26f554&&void 0x0!==_0x26f554['fixedFoveation']&&(_0x26f554['fixedFoveation']=_0x5d53dd);},this['hasDepthSensing']=function(){return null!==_0x2eb744['texture'];},this['getDepthSensingMesh']=function(){return _0x2eb744['getMesh'](_0x118366);};let _0x3dbe91=null;const _0x45f248=new _0x56597a();_0x45f248['setAnimationLoop'](function(_0x55759d,_0x2ec2f9){if(_0x4ccc95=_0x2ec2f9['getViewerPose'](_0x300f46||_0x20a9c5),_0x5e527c=_0x2ec2f9,null!==_0x4ccc95){const _0x4b4ef8=_0x4ccc95['views'];null!==_0x26f554&&(_0x40554a['setRenderTargetFramebuffer'](_0x3db3ca,_0x26f554['framebuffer']),_0x40554a['setRenderTarget'](_0x3db3ca));let _0x5198dd=!0x1;_0x4b4ef8['length']!==_0x118366['cameras']['length']&&(_0x118366['cameras']['length']=0x0,_0x5198dd=!0x0);for(let _0x579485=0x0;_0x579485<_0x4b4ef8['length'];_0x579485++){const _0x27b70f=_0x4b4ef8[_0x579485];let _0x4453b2=null;if(null!==_0x26f554)_0x4453b2=_0x26f554['getViewport'](_0x27b70f);else{const _0x499775=_0x3eedae['getViewSubImage'](_0x1275b8,_0x27b70f);_0x4453b2=_0x499775['viewport'],0x0===_0x579485&&(_0x40554a['setRenderTargetTextures'](_0x3db3ca,_0x499775['colorTexture'],_0x1275b8['ignoreDepthValues']?void 0x0:_0x499775['depthStencilTexture']),_0x40554a['setRenderTarget'](_0x3db3ca));}let _0x34eba5=_0x1cc7d3[_0x579485];void 0x0===_0x34eba5&&(_0x34eba5=new _0x207dba['ubm'](),_0x34eba5['layers']['enable'](_0x579485),_0x34eba5['viewport']=new _0x207dba['IUQ'](),_0x1cc7d3[_0x579485]=_0x34eba5),_0x34eba5['matrix']['fromArray'](_0x27b70f['transform']['matrix']),_0x34eba5['matrix']['decompose'](_0x34eba5['position'],_0x34eba5['quaternion'],_0x34eba5['scale']),_0x34eba5['projectionMatrix']['fromArray'](_0x27b70f['projectionMatrix']),_0x34eba5['projectionMatrixInverse']['copy'](_0x34eba5['projectionMatrix'])['invert'](),_0x34eba5['viewport']['set'](_0x4453b2['x'],_0x4453b2['y'],_0x4453b2['width'],_0x4453b2['height']),0x0===_0x579485&&(_0x118366['matrix']['copy'](_0x34eba5['matrix']),_0x118366['matrix']['decompose'](_0x118366['position'],_0x118366['quaternion'],_0x118366['scale'])),!0x0===_0x5198dd&&_0x118366['cameras']['push'](_0x34eba5);}const _0x4ffd83=_0xa65763['enabledFeatures'];if(_0x4ffd83&&_0x4ffd83['includes']('depth-sensing')){const _0x2bbb14=_0x3eedae['getDepthInformation'](_0x4b4ef8[0x0]);_0x2bbb14&&_0x2bbb14['isValid']&&_0x2bbb14['texture']&&_0x2eb744['init'](_0x40554a,_0x2bbb14,_0xa65763['renderState']);}}for(let _0x23eded=0x0;_0x23eded<_0x410538['length'];_0x23eded++){const _0x11f972=_0x3edb68[_0x23eded],_0x4e1865=_0x410538[_0x23eded];null!==_0x11f972&&void 0x0!==_0x4e1865&&_0x4e1865['update'](_0x11f972,_0x2ec2f9,_0x300f46||_0x20a9c5);}_0x3dbe91&&_0x3dbe91(_0x55759d,_0x2ec2f9),_0x2ec2f9['detectedPlanes']&&_0x16ba59['dispatchEvent']({'type':'planesdetected','data':_0x2ec2f9}),_0x5e527c=null;}),this['setAnimationLoop']=function(_0x311ee5){_0x3dbe91=_0x311ee5;},this['dispose']=function(){};}}const _0x42e280=new _0x207dba['O9p'](),_0x55cfe3=new _0x207dba['kn4']();function _0x5285dd(_0x15787b,_0x51de1a){function _0x572eb0(_0x5b81ce,_0x5cb4a9){!0x0===_0x5b81ce['matrixAutoUpdate']&&_0x5b81ce['updateMatrix'](),_0x5cb4a9['value']['copy'](_0x5b81ce['matrix']);}function _0x29b158(_0x3a8136,_0x2e522e){_0x3a8136['opacity']['value']=_0x2e522e['opacity'],_0x2e522e['color']&&_0x3a8136['diffuse']['value']['copy'](_0x2e522e['color']),_0x2e522e['emissive']&&_0x3a8136['emissive']['value']['copy'](_0x2e522e['emissive'])['multiplyScalar'](_0x2e522e['emissiveIntensity']),_0x2e522e['map']&&(_0x3a8136['map']['value']=_0x2e522e['map'],_0x572eb0(_0x2e522e['map'],_0x3a8136['mapTransform'])),_0x2e522e['alphaMap']&&(_0x3a8136['alphaMap']['value']=_0x2e522e['alphaMap'],_0x572eb0(_0x2e522e['alphaMap'],_0x3a8136['alphaMapTransform'])),_0x2e522e['bumpMap']&&(_0x3a8136['bumpMap']['value']=_0x2e522e['bumpMap'],_0x572eb0(_0x2e522e['bumpMap'],_0x3a8136['bumpMapTransform']),_0x3a8136['bumpScale']['value']=_0x2e522e['bumpScale'],_0x2e522e['side']===_0x207dba['hsX']&&(_0x3a8136['bumpScale']['value']*=-0x1)),_0x2e522e['normalMap']&&(_0x3a8136['normalMap']['value']=_0x2e522e['normalMap'],_0x572eb0(_0x2e522e['normalMap'],_0x3a8136['normalMapTransform']),_0x3a8136['normalScale']['value']['copy'](_0x2e522e['normalScale']),_0x2e522e['side']===_0x207dba['hsX']&&_0x3a8136['normalScale']['value']['negate']()),_0x2e522e['displacementMap']&&(_0x3a8136['displacementMap']['value']=_0x2e522e['displacementMap'],_0x572eb0(_0x2e522e['displacementMap'],_0x3a8136['displacementMapTransform']),_0x3a8136['displacementScale']['value']=_0x2e522e['displacementScale'],_0x3a8136['displacementBias']['value']=_0x2e522e['displacementBias']),_0x2e522e['emissiveMap']&&(_0x3a8136['emissiveMap']['value']=_0x2e522e['emissiveMap'],_0x572eb0(_0x2e522e['emissiveMap'],_0x3a8136['emissiveMapTransform'])),_0x2e522e['specularMap']&&(_0x3a8136['specularMap']['value']=_0x2e522e['specularMap'],_0x572eb0(_0x2e522e['specularMap'],_0x3a8136['specularMapTransform'])),_0x2e522e['alphaTest']>0x0&&(_0x3a8136['alphaTest']['value']=_0x2e522e['alphaTest']);const _0x20add2=_0x51de1a['get'](_0x2e522e),_0x3dfee1=_0x20add2['envMap'],_0x5062d6=_0x20add2['envMapRotation'];_0x3dfee1&&(_0x3a8136['envMap']['value']=_0x3dfee1,_0x42e280['copy'](_0x5062d6),_0x42e280['x']*=-0x1,_0x42e280['y']*=-0x1,_0x42e280['z']*=-0x1,_0x3dfee1['isCubeTexture']&&!0x1===_0x3dfee1['isRenderTargetTexture']&&(_0x42e280['y']*=-0x1,_0x42e280['z']*=-0x1),_0x3a8136['envMapRotation']['value']['setFromMatrix4'](_0x55cfe3['makeRotationFromEuler'](_0x42e280)),_0x3a8136['flipEnvMap']['value']=_0x3dfee1['isCubeTexture']&&!0x1===_0x3dfee1['isRenderTargetTexture']?-0x1:0x1,_0x3a8136['reflectivity']['value']=_0x2e522e['reflectivity'],_0x3a8136['ior']['value']=_0x2e522e['ior'],_0x3a8136['refractionRatio']['value']=_0x2e522e['refractionRatio']),_0x2e522e['lightMap']&&(_0x3a8136['lightMap']['value']=_0x2e522e['lightMap'],_0x3a8136['lightMapIntensity']['value']=_0x2e522e['lightMapIntensity'],_0x572eb0(_0x2e522e['lightMap'],_0x3a8136['lightMapTransform'])),_0x2e522e['aoMap']&&(_0x3a8136['aoMap']['value']=_0x2e522e['aoMap'],_0x3a8136['aoMapIntensity']['value']=_0x2e522e['aoMapIntensity'],_0x572eb0(_0x2e522e['aoMap'],_0x3a8136['aoMapTransform']));}return{'refreshFogUniforms':function(_0x2403f2,_0x185698){_0x185698['color']['getRGB'](_0x2403f2['fogColor']['value'],(0x0,_0x207dba['_Ut'])(_0x15787b)),_0x185698['isFog']?(_0x2403f2['fogNear']['value']=_0x185698['near'],_0x2403f2['fogFar']['value']=_0x185698['far']):_0x185698['isFogExp2']&&(_0x2403f2['fogDensity']['value']=_0x185698['density']);},'refreshMaterialUniforms':function(_0x2c34d6,_0x5c3617,_0x49282a,_0xa08c0a,_0x348a8c){_0x5c3617['isMeshBasicMaterial']||_0x5c3617['isMeshLambertMaterial']?_0x29b158(_0x2c34d6,_0x5c3617):_0x5c3617['isMeshToonMaterial']?(_0x29b158(_0x2c34d6,_0x5c3617),function(_0x45546,_0x42cd56){_0x42cd56['gradientMap']&&(_0x45546['gradientMap']['value']=_0x42cd56['gradientMap']);}(_0x2c34d6,_0x5c3617)):_0x5c3617['isMeshPhongMaterial']?(_0x29b158(_0x2c34d6,_0x5c3617),function(_0x916631,_0x377b3f){_0x916631['specular']['value']['copy'](_0x377b3f['specular']),_0x916631['shininess']['value']=Math['max'](_0x377b3f['shininess'],0.0001);}(_0x2c34d6,_0x5c3617)):_0x5c3617['isMeshStandardMaterial']?(_0x29b158(_0x2c34d6,_0x5c3617),function(_0x107400,_0x4ac4dd){_0x107400['metalness']['value']=_0x4ac4dd['metalness'],_0x4ac4dd['metalnessMap']&&(_0x107400['metalnessMap']['value']=_0x4ac4dd['metalnessMap'],_0x572eb0(_0x4ac4dd['metalnessMap'],_0x107400['metalnessMapTransform'])),(_0x107400['roughness']['value']=_0x4ac4dd['roughness'],_0x4ac4dd['roughnessMap']&&(_0x107400['roughnessMap']['value']=_0x4ac4dd['roughnessMap'],_0x572eb0(_0x4ac4dd['roughnessMap'],_0x107400['roughnessMapTransform']))),_0x4ac4dd['envMap']&&(_0x107400['envMapIntensity']['value']=_0x4ac4dd['envMapIntensity']);}(_0x2c34d6,_0x5c3617),_0x5c3617['isMeshPhysicalMaterial']&&function(_0x11dc76,_0x161835,_0x3a79c7){_0x11dc76['ior']['value']=_0x161835['ior'],_0x161835['sheen']>0x0&&(_0x11dc76['sheenColor']['value']['copy'](_0x161835['sheenColor'])['multiplyScalar'](_0x161835['sheen']),_0x11dc76['sheenRoughness']['value']=_0x161835['sheenRoughness'],_0x161835['sheenColorMap']&&(_0x11dc76['sheenColorMap']['value']=_0x161835['sheenColorMap'],_0x572eb0(_0x161835['sheenColorMap'],_0x11dc76['sheenColorMapTransform'])),_0x161835['sheenRoughnessMap']&&(_0x11dc76['sheenRoughnessMap']['value']=_0x161835['sheenRoughnessMap'],_0x572eb0(_0x161835['sheenRoughnessMap'],_0x11dc76['sheenRoughnessMapTransform']))),_0x161835['clearcoat']>0x0&&(_0x11dc76['clearcoat']['value']=_0x161835['clearcoat'],_0x11dc76['clearcoatRoughness']['value']=_0x161835['clearcoatRoughness'],_0x161835['clearcoatMap']&&(_0x11dc76['clearcoatMap']['value']=_0x161835['clearcoatMap'],_0x572eb0(_0x161835['clearcoatMap'],_0x11dc76['clearcoatMapTransform'])),_0x161835['clearcoatRoughnessMap']&&(_0x11dc76['clearcoatRoughnessMap']['value']=_0x161835['clearcoatRoughnessMap'],_0x572eb0(_0x161835['clearcoatRoughnessMap'],_0x11dc76['clearcoatRoughnessMapTransform'])),_0x161835['clearcoatNormalMap']&&(_0x11dc76['clearcoatNormalMap']['value']=_0x161835['clearcoatNormalMap'],_0x572eb0(_0x161835['clearcoatNormalMap'],_0x11dc76['clearcoatNormalMapTransform']),_0x11dc76['clearcoatNormalScale']['value']['copy'](_0x161835['clearcoatNormalScale']),_0x161835['side']===_0x207dba['hsX']&&_0x11dc76['clearcoatNormalScale']['value']['negate']())),_0x161835['dispersion']>0x0&&(_0x11dc76['dispersion']['value']=_0x161835['dispersion']),_0x161835['iridescence']>0x0&&(_0x11dc76['iridescence']['value']=_0x161835['iridescence'],_0x11dc76['iridescenceIOR']['value']=_0x161835['iridescenceIOR'],_0x11dc76['iridescenceThicknessMinimum']['value']=_0x161835['iridescenceThicknessRange'][0x0],_0x11dc76['iridescenceThicknessMaximum']['value']=_0x161835['iridescenceThicknessRange'][0x1],_0x161835['iridescenceMap']&&(_0x11dc76['iridescenceMap']['value']=_0x161835['iridescenceMap'],_0x572eb0(_0x161835['iridescenceMap'],_0x11dc76['iridescenceMapTransform'])),_0x161835['iridescenceThicknessMap']&&(_0x11dc76['iridescenceThicknessMap']['value']=_0x161835['iridescenceThicknessMap'],_0x572eb0(_0x161835['iridescenceThicknessMap'],_0x11dc76['iridescenceThicknessMapTransform']))),_0x161835['transmission']>0x0&&(_0x11dc76['transmission']['value']=_0x161835['transmission'],_0x11dc76['transmissionSamplerMap']['value']=_0x3a79c7['texture'],_0x11dc76['transmissionSamplerSize']['value']['set'](_0x3a79c7['width'],_0x3a79c7['height']),_0x161835['transmissionMap']&&(_0x11dc76['transmissionMap']['value']=_0x161835['transmissionMap'],_0x572eb0(_0x161835['transmissionMap'],_0x11dc76['transmissionMapTransform'])),_0x11dc76['thickness']['value']=_0x161835['thickness'],_0x161835['thicknessMap']&&(_0x11dc76['thicknessMap']['value']=_0x161835['thicknessMap'],_0x572eb0(_0x161835['thicknessMap'],_0x11dc76['thicknessMapTransform'])),_0x11dc76['attenuationDistance']['value']=_0x161835['attenuationDistance'],_0x11dc76['attenuationColor']['value']['copy'](_0x161835['attenuationColor'])),_0x161835['anisotropy']>0x0&&(_0x11dc76['anisotropyVector']['value']['set'](_0x161835['anisotropy']*Math['cos'](_0x161835['anisotropyRotation']),_0x161835['anisotropy']*Math['sin'](_0x161835['anisotropyRotation'])),_0x161835['anisotropyMap']&&(_0x11dc76['anisotropyMap']['value']=_0x161835['anisotropyMap'],_0x572eb0(_0x161835['anisotropyMap'],_0x11dc76['anisotropyMapTransform']))),(_0x11dc76['specularIntensity']['value']=_0x161835['specularIntensity'],_0x11dc76['specularColor']['value']['copy'](_0x161835['specularColor']),_0x161835['specularColorMap']&&(_0x11dc76['specularColorMap']['value']=_0x161835['specularColorMap'],_0x572eb0(_0x161835['specularColorMap'],_0x11dc76['specularColorMapTransform']))),_0x161835['specularIntensityMap']&&(_0x11dc76['specularIntensityMap']['value']=_0x161835['specularIntensityMap'],_0x572eb0(_0x161835['specularIntensityMap'],_0x11dc76['specularIntensityMapTransform']));}(_0x2c34d6,_0x5c3617,_0x348a8c)):_0x5c3617['isMeshMatcapMaterial']?(_0x29b158(_0x2c34d6,_0x5c3617),function(_0x662f9d,_0x26459f){_0x26459f['matcap']&&(_0x662f9d['matcap']['value']=_0x26459f['matcap']);}(_0x2c34d6,_0x5c3617)):_0x5c3617['isMeshDepthMaterial']?_0x29b158(_0x2c34d6,_0x5c3617):_0x5c3617['isMeshDistanceMaterial']?(_0x29b158(_0x2c34d6,_0x5c3617),function(_0x5970ee,_0x1b86e7){const _0x794345=_0x51de1a['get'](_0x1b86e7)['light'];_0x5970ee['referencePosition']['value']['setFromMatrixPosition'](_0x794345['matrixWorld']),_0x5970ee['nearDistance']['value']=_0x794345['shadow']['camera']['near'],_0x5970ee['farDistance']['value']=_0x794345['shadow']['camera']['far'];}(_0x2c34d6,_0x5c3617)):_0x5c3617['isMeshNormalMaterial']?_0x29b158(_0x2c34d6,_0x5c3617):_0x5c3617['isLineBasicMaterial']?(function(_0x2c1d7e,_0x99c914){_0x2c1d7e['diffuse']['value']['copy'](_0x99c914['color']),_0x2c1d7e['opacity']['value']=_0x99c914['opacity'],_0x99c914['map']&&(_0x2c1d7e['map']['value']=_0x99c914['map'],_0x572eb0(_0x99c914['map'],_0x2c1d7e['mapTransform']));}(_0x2c34d6,_0x5c3617),_0x5c3617['isLineDashedMaterial']&&function(_0x28a79d,_0xa92410){_0x28a79d['dashSize']['value']=_0xa92410['dashSize'],_0x28a79d['totalSize']['value']=_0xa92410['dashSize']+_0xa92410['gapSize'],_0x28a79d['scale']['value']=_0xa92410['scale'];}(_0x2c34d6,_0x5c3617)):_0x5c3617['isPointsMaterial']?function(_0x153e47,_0x5c14f8,_0x3e407f,_0x574021){_0x153e47['diffuse']['value']['copy'](_0x5c14f8['color']),_0x153e47['opacity']['value']=_0x5c14f8['opacity'],_0x153e47['size']['value']=_0x5c14f8['size']*_0x3e407f,_0x153e47['scale']['value']=0.5*_0x574021,_0x5c14f8['map']&&(_0x153e47['map']['value']=_0x5c14f8['map'],_0x572eb0(_0x5c14f8['map'],_0x153e47['uvTransform'])),_0x5c14f8['alphaMap']&&(_0x153e47['alphaMap']['value']=_0x5c14f8['alphaMap'],_0x572eb0(_0x5c14f8['alphaMap'],_0x153e47['alphaMapTransform'])),_0x5c14f8['alphaTest']>0x0&&(_0x153e47['alphaTest']['value']=_0x5c14f8['alphaTest']);}(_0x2c34d6,_0x5c3617,_0x49282a,_0xa08c0a):_0x5c3617['isSpriteMaterial']?function(_0x490c83,_0x263317){_0x490c83['diffuse']['value']['copy'](_0x263317['color']),_0x490c83['opacity']['value']=_0x263317['opacity'],_0x490c83['rotation']['value']=_0x263317['rotation'],_0x263317['map']&&(_0x490c83['map']['value']=_0x263317['map'],_0x572eb0(_0x263317['map'],_0x490c83['mapTransform'])),_0x263317['alphaMap']&&(_0x490c83['alphaMap']['value']=_0x263317['alphaMap'],_0x572eb0(_0x263317['alphaMap'],_0x490c83['alphaMapTransform'])),_0x263317['alphaTest']>0x0&&(_0x490c83['alphaTest']['value']=_0x263317['alphaTest']);}(_0x2c34d6,_0x5c3617):_0x5c3617['isShadowMaterial']?(_0x2c34d6['color']['value']['copy'](_0x5c3617['color']),_0x2c34d6['opacity']['value']=_0x5c3617['opacity']):_0x5c3617['isShaderMaterial']&&(_0x5c3617['uniformsNeedUpdate']=!0x1);}};}function _0x5ded23(_0x669795,_0x5e1695,_0x4dd589,_0x41149f){let _0x4f7510={},_0x37d421={},_0x15c5ac=[];const _0xd81043=_0x669795['getParameter'](_0x669795['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x4da120(_0x43e977,_0x1a79f7,_0x87ffcf,_0x456ac9){const _0xa684e4=_0x43e977['value'],_0x1857fe=_0x1a79f7+'_'+_0x87ffcf;if(void 0x0===_0x456ac9[_0x1857fe])return _0x456ac9[_0x1857fe]='number'==typeof _0xa684e4||'boolean'==typeof _0xa684e4?_0xa684e4:_0xa684e4['clone'](),!0x0;{const _0x358ca7=_0x456ac9[_0x1857fe];if('number'==typeof _0xa684e4||'boolean'==typeof _0xa684e4){if(_0x358ca7!==_0xa684e4)return _0x456ac9[_0x1857fe]=_0xa684e4,!0x0;}else{if(!0x1===_0x358ca7['equals'](_0xa684e4))return _0x358ca7['copy'](_0xa684e4),!0x0;}}return!0x1;}function _0x18199c(_0x552582){const _0x39e771={'boundary':0x0,'storage':0x0};return'number'==typeof _0x552582||'boolean'==typeof _0x552582?(_0x39e771['boundary']=0x4,_0x39e771['storage']=0x4):_0x552582['isVector2']?(_0x39e771['boundary']=0x8,_0x39e771['storage']=0x8):_0x552582['isVector3']||_0x552582['isColor']?(_0x39e771['boundary']=0x10,_0x39e771['storage']=0xc):_0x552582['isVector4']?(_0x39e771['boundary']=0x10,_0x39e771['storage']=0x10):_0x552582['isMatrix3']?(_0x39e771['boundary']=0x30,_0x39e771['storage']=0x30):_0x552582['isMatrix4']?(_0x39e771['boundary']=0x40,_0x39e771['storage']=0x40):_0x552582['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0x552582),_0x39e771;}function _0x2a0dd7(_0x64d9ef){const _0x139e12=_0x64d9ef['target'];_0x139e12['removeEventListener']('dispose',_0x2a0dd7);const _0x1018f7=_0x15c5ac['indexOf'](_0x139e12['__bindingPointIndex']);_0x15c5ac['splice'](_0x1018f7,0x1),_0x669795['deleteBuffer'](_0x4f7510[_0x139e12['id']]),delete _0x4f7510[_0x139e12['id']],delete _0x37d421[_0x139e12['id']];}return{'bind':function(_0x22adc6,_0x4cc922){const _0x22d613=_0x4cc922['program'];_0x41149f['uniformBlockBinding'](_0x22adc6,_0x22d613);},'update':function(_0xe33862,_0x4f1e7d){let _0x15a449=_0x4f7510[_0xe33862['id']];void 0x0===_0x15a449&&(!function(_0x2b4a7f){const _0x31468a=_0x2b4a7f['uniforms'];let _0x3cb49f=0x0;const _0x4a5084=0x10;for(let _0x3ec849=0x0,_0x4fa9a4=_0x31468a['length'];_0x3ec849<_0x4fa9a4;_0x3ec849++){const _0x221e0c=Array['isArray'](_0x31468a[_0x3ec849])?_0x31468a[_0x3ec849]:[_0x31468a[_0x3ec849]];for(let _0x124498=0x0,_0x38b9e0=_0x221e0c['length'];_0x124498<_0x38b9e0;_0x124498++){const _0x3bb75b=_0x221e0c[_0x124498],_0x2f6e38=Array['isArray'](_0x3bb75b['value'])?_0x3bb75b['value']:[_0x3bb75b['value']];for(let _0x479fc0=0x0,_0x22cfda=_0x2f6e38['length'];_0x479fc0<_0x22cfda;_0x479fc0++){const _0x2c0bf9=_0x18199c(_0x2f6e38[_0x479fc0]),_0x41f305=_0x3cb49f%_0x4a5084,_0x539e87=_0x41f305%_0x2c0bf9['boundary'],_0x4c7d44=_0x41f305+_0x539e87;_0x3cb49f+=_0x539e87,0x0!==_0x4c7d44&&_0x4a5084-_0x4c7d44<_0x2c0bf9['storage']&&(_0x3cb49f+=_0x4a5084-_0x4c7d44),_0x3bb75b['__data']=new Float32Array(_0x2c0bf9['storage']/Float32Array['BYTES_PER_ELEMENT']),_0x3bb75b['__offset']=_0x3cb49f,_0x3cb49f+=_0x2c0bf9['storage'];}}}const _0x572057=_0x3cb49f%_0x4a5084;_0x572057>0x0&&(_0x3cb49f+=_0x4a5084-_0x572057),(_0x2b4a7f['__size']=_0x3cb49f,_0x2b4a7f['__cache']={});}(_0xe33862),_0x15a449=function(_0x4a5cef){const _0x1b21ed=(function(){for(let _0x59ab26=0x0;_0x59ab26<_0xd81043;_0x59ab26++)if(-0x1===_0x15c5ac['indexOf'](_0x59ab26))return _0x15c5ac['push'](_0x59ab26),_0x59ab26;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x4a5cef['__bindingPointIndex']=_0x1b21ed;const _0x35152a=_0x669795['createBuffer'](),_0x27ace7=_0x4a5cef['__size'],_0x52e46e=_0x4a5cef['usage'];return _0x669795['bindBuffer'](_0x669795['UNIFORM_BUFFER'],_0x35152a),_0x669795['bufferData'](_0x669795['UNIFORM_BUFFER'],_0x27ace7,_0x52e46e),_0x669795['bindBuffer'](_0x669795['UNIFORM_BUFFER'],null),_0x669795['bindBufferBase'](_0x669795['UNIFORM_BUFFER'],_0x1b21ed,_0x35152a),_0x35152a;}(_0xe33862),_0x4f7510[_0xe33862['id']]=_0x15a449,_0xe33862['addEventListener']('dispose',_0x2a0dd7));const _0x2ac88c=_0x4f1e7d['program'];_0x41149f['updateUBOMapping'](_0xe33862,_0x2ac88c);const _0x523bb8=_0x5e1695['render']['frame'];_0x37d421[_0xe33862['id']]!==_0x523bb8&&(!function(_0x539341){const _0x621422=_0x4f7510[_0x539341['id']],_0x1a35d4=_0x539341['uniforms'],_0xb020d1=_0x539341['__cache'];_0x669795['bindBuffer'](_0x669795['UNIFORM_BUFFER'],_0x621422);for(let _0x743a4e=0x0,_0x28e73b=_0x1a35d4['length'];_0x743a4e<_0x28e73b;_0x743a4e++){const _0x322f0c=Array['isArray'](_0x1a35d4[_0x743a4e])?_0x1a35d4[_0x743a4e]:[_0x1a35d4[_0x743a4e]];for(let _0xc3e3c2=0x0,_0xafd4d8=_0x322f0c['length'];_0xc3e3c2<_0xafd4d8;_0xc3e3c2++){const _0x3d46e9=_0x322f0c[_0xc3e3c2];if(!0x0===_0x4da120(_0x3d46e9,_0x743a4e,_0xc3e3c2,_0xb020d1)){const _0x151c5f=_0x3d46e9['__offset'],_0x28eb4c=Array['isArray'](_0x3d46e9['value'])?_0x3d46e9['value']:[_0x3d46e9['value']];let _0x1afd65=0x0;for(let _0x9b4b2f=0x0;_0x9b4b2f<_0x28eb4c['length'];_0x9b4b2f++){const _0x13ff8c=_0x28eb4c[_0x9b4b2f],_0x443c57=_0x18199c(_0x13ff8c);'number'==typeof _0x13ff8c||'boolean'==typeof _0x13ff8c?(_0x3d46e9['__data'][0x0]=_0x13ff8c,_0x669795['bufferSubData'](_0x669795['UNIFORM_BUFFER'],_0x151c5f+_0x1afd65,_0x3d46e9['__data'])):_0x13ff8c['isMatrix3']?(_0x3d46e9['__data'][0x0]=_0x13ff8c['elements'][0x0],_0x3d46e9['__data'][0x1]=_0x13ff8c['elements'][0x1],_0x3d46e9['__data'][0x2]=_0x13ff8c['elements'][0x2],_0x3d46e9['__data'][0x3]=0x0,_0x3d46e9['__data'][0x4]=_0x13ff8c['elements'][0x3],_0x3d46e9['__data'][0x5]=_0x13ff8c['elements'][0x4],_0x3d46e9['__data'][0x6]=_0x13ff8c['elements'][0x5],_0x3d46e9['__data'][0x7]=0x0,_0x3d46e9['__data'][0x8]=_0x13ff8c['elements'][0x6],_0x3d46e9['__data'][0x9]=_0x13ff8c['elements'][0x7],_0x3d46e9['__data'][0xa]=_0x13ff8c['elements'][0x8],_0x3d46e9['__data'][0xb]=0x0):(_0x13ff8c['toArray'](_0x3d46e9['__data'],_0x1afd65),_0x1afd65+=_0x443c57['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0x669795['bufferSubData'](_0x669795['UNIFORM_BUFFER'],_0x151c5f,_0x3d46e9['__data']);}}}_0x669795['bindBuffer'](_0x669795['UNIFORM_BUFFER'],null);}(_0xe33862),_0x37d421[_0xe33862['id']]=_0x523bb8);},'dispose':function(){for(const _0x2bf4c0 in _0x4f7510)_0x669795['deleteBuffer'](_0x4f7510[_0x2bf4c0]);_0x15c5ac=[],_0x4f7510={},_0x37d421={};}};}class _0x5131ef{constructor(_0x5208e1={}){const {canvas:_0x169516=(0x0,_0x207dba['lPF'])(),context:_0x7da966=null,depth:_0x4c7a9e=!0x0,stencil:_0x2c1ea9=!0x1,alpha:_0x4d4710=!0x1,antialias:_0x44d3f3=!0x1,premultipliedAlpha:_0x561593=!0x0,preserveDrawingBuffer:_0x2aeed2=!0x1,powerPreference:_0x508a89='default',failIfMajorPerformanceCaveat:_0x470f2e=!0x1,reverseDepthBuffer:_0x4d530e=!0x1}=_0x5208e1;let _0x4ac62e;if(this['isWebGLRenderer']=!0x0,null!==_0x7da966){if('undefined'!=typeof WebGLRenderingContext&&_0x7da966 instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x4ac62e=_0x7da966['getContextAttributes']()['alpha'];}else _0x4ac62e=_0x4d4710;const _0x31744b=new Uint32Array(0x4),_0x554120=new Int32Array(0x4);let _0x56750d=null,_0x488253=null;const _0x5a3964=[],_0x4370a5=[];this['domElement']=_0x169516,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0x207dba['er$'],this['toneMapping']=_0x207dba['y_p'],this['toneMappingExposure']=0x1;const _0x4ea863=this;let _0x4b6858=!0x1,_0x599f4c=0x0,_0x3cf756=0x0,_0xa7e31c=null,_0x509919=-0x1,_0x25be9b=null;const _0x4b7293=new _0x207dba['IUQ'](),_0x1d6810=new _0x207dba['IUQ']();let _0x5e35df=null;const _0x12ecf7=new _0x207dba['Q1f'](0x0);let _0x48059e=0x0,_0x3f3c73=_0x169516['width'],_0x2b9ee0=_0x169516['height'],_0x316352=0x1,_0x5f1854=null,_0x4f7025=null;const _0x1088ba=new _0x207dba['IUQ'](0x0,0x0,_0x3f3c73,_0x2b9ee0),_0x26aa99=new _0x207dba['IUQ'](0x0,0x0,_0x3f3c73,_0x2b9ee0);let _0x24af4f=!0x1;const _0xa933e7=new _0x207dba['PPD']();let _0x306222=!0x1,_0x3f3b53=!0x1;this['transmissionResolutionScale']=0x1;const _0xab9243=new _0x207dba['kn4'](),_0xe30e1c=new _0x207dba['kn4'](),_0x4bbbef=new _0x207dba['Pq0'](),_0x57ac50=new _0x207dba['IUQ'](),_0x35f934={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x10a771=!0x1;function _0x5b3078(){return null===_0xa7e31c?_0x316352:0x1;}let _0x5a0850,_0x18791e,_0x271cac,_0x7526de,_0x465b01,_0x2f6373,_0x59c855,_0x36e6ad,_0x457b59,_0x1bb776,_0x2f0f1f,_0x40a198,_0x278ee4,_0x16d905,_0x1944e9,_0x509b3b,_0x598e5a,_0x24b1a2,_0x5cae82,_0x31dd26,_0x318aba,_0x1ec472,_0x4d8332,_0x51ee99,_0x13ecc3=_0x7da966;function _0x1c9996(_0x390244,_0x4d3080){return _0x169516['getContext'](_0x390244,_0x4d3080);}try{const _0x46b8d7={'alpha':!0x0,'depth':_0x4c7a9e,'stencil':_0x2c1ea9,'antialias':_0x44d3f3,'premultipliedAlpha':_0x561593,'preserveDrawingBuffer':_0x2aeed2,'powerPreference':_0x508a89,'failIfMajorPerformanceCaveat':_0x470f2e};if('setAttribute'in _0x169516&&_0x169516['setAttribute']('data-engine','three.js\x20r'+_0x207dba['sPf']),_0x169516['addEventListener']('webglcontextlost',_0xdc98f3,!0x1),_0x169516['addEventListener']('webglcontextrestored',_0x2f1584,!0x1),_0x169516['addEventListener']('webglcontextcreationerror',_0x509a4c,!0x1),null===_0x13ecc3){const _0x331646='webgl2';if(_0x13ecc3=_0x1c9996(_0x331646,_0x46b8d7),null===_0x13ecc3)throw _0x1c9996(_0x331646)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0xad4c2f){throw console['error']('THREE.WebGLRenderer:\x20'+_0xad4c2f['message']),_0xad4c2f;}function _0x403ab5(){_0x5a0850=new _0xa26030(_0x13ecc3),_0x5a0850['init'](),_0x1ec472=new _0x3c8fac(_0x13ecc3,_0x5a0850),_0x18791e=new _0x4a4dbb(_0x13ecc3,_0x5a0850,_0x5208e1,_0x1ec472),_0x271cac=new _0x5a673b(_0x13ecc3,_0x5a0850),_0x18791e['reverseDepthBuffer']&&_0x4d530e&&_0x271cac['buffers']['depth']['setReversed'](!0x0),_0x7526de=new _0x5d4a22(_0x13ecc3),_0x465b01=new _0x34f60f(),_0x2f6373=new _0x19bd10(_0x13ecc3,_0x5a0850,_0x271cac,_0x465b01,_0x18791e,_0x1ec472,_0x7526de),_0x59c855=new _0x51ce95(_0x4ea863),_0x36e6ad=new _0x1ca0cd(_0x4ea863),_0x457b59=new _0x1f9ab7(_0x13ecc3),_0x4d8332=new _0x21a426(_0x13ecc3,_0x457b59),_0x1bb776=new _0x26689c(_0x13ecc3,_0x457b59,_0x7526de,_0x4d8332),_0x2f0f1f=new _0x5967d9(_0x13ecc3,_0x1bb776,_0x457b59,_0x7526de),_0x5cae82=new _0x5caa3e(_0x13ecc3,_0x18791e,_0x2f6373),_0x509b3b=new _0x55019d(_0x465b01),_0x40a198=new _0x483e5d(_0x4ea863,_0x59c855,_0x36e6ad,_0x5a0850,_0x18791e,_0x4d8332,_0x509b3b),_0x278ee4=new _0x5285dd(_0x4ea863,_0x465b01),_0x16d905=new _0x1b2439(),_0x1944e9=new _0x3cdda2(_0x5a0850),_0x24b1a2=new _0x52ef8e(_0x4ea863,_0x59c855,_0x36e6ad,_0x271cac,_0x2f0f1f,_0x4ac62e,_0x561593),_0x598e5a=new _0x3ea951(_0x4ea863,_0x2f0f1f,_0x18791e),_0x51ee99=new _0x5ded23(_0x13ecc3,_0x7526de,_0x18791e,_0x271cac),_0x31dd26=new _0x52d4ef(_0x13ecc3,_0x5a0850,_0x7526de),_0x318aba=new _0x10419e(_0x13ecc3,_0x5a0850,_0x7526de),_0x7526de['programs']=_0x40a198['programs'],_0x4ea863['capabilities']=_0x18791e,_0x4ea863['extensions']=_0x5a0850,_0x4ea863['properties']=_0x465b01,_0x4ea863['renderLists']=_0x16d905,_0x4ea863['shadowMap']=_0x598e5a,_0x4ea863['state']=_0x271cac,_0x4ea863['info']=_0x7526de;}_0x403ab5();const _0x242757=new _0x88a420(_0x4ea863,_0x13ecc3);function _0xdc98f3(_0x19459f){_0x19459f['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x4b6858=!0x0;}function _0x2f1584(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x4b6858=!0x1;const _0x2fc615=_0x7526de['autoReset'],_0x1adbac=_0x598e5a['enabled'],_0x3008c0=_0x598e5a['autoUpdate'],_0x88e6d5=_0x598e5a['needsUpdate'],_0x11f9ea=_0x598e5a['type'];_0x403ab5(),_0x7526de['autoReset']=_0x2fc615,_0x598e5a['enabled']=_0x1adbac,_0x598e5a['autoUpdate']=_0x3008c0,_0x598e5a['needsUpdate']=_0x88e6d5,_0x598e5a['type']=_0x11f9ea;}function _0x509a4c(_0x3ba56b){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0x3ba56b['statusMessage']);}function _0x6dc72(_0x2a9670){const _0x2f08a3=_0x2a9670['target'];_0x2f08a3['removeEventListener']('dispose',_0x6dc72),function(_0x134805){(function(_0x34fbfd){const _0x3c48f7=_0x465b01['get'](_0x34fbfd)['programs'];void 0x0!==_0x3c48f7&&(_0x3c48f7['forEach'](function(_0x47b031){_0x40a198['releaseProgram'](_0x47b031);}),_0x34fbfd['isShaderMaterial']&&_0x40a198['releaseShaderCache'](_0x34fbfd));}(_0x134805),_0x465b01['remove'](_0x134805));}(_0x2f08a3);}function _0x59491c(_0x34509d,_0x4ab5b4,_0x3a7ae4){!0x0===_0x34509d['transparent']&&_0x34509d['side']===_0x207dba['$EB']&&!0x1===_0x34509d['forceSinglePass']?(_0x34509d['side']=_0x207dba['hsX'],_0x34509d['needsUpdate']=!0x0,_0x58ffe1(_0x34509d,_0x4ab5b4,_0x3a7ae4),_0x34509d['side']=_0x207dba['hB5'],_0x34509d['needsUpdate']=!0x0,_0x58ffe1(_0x34509d,_0x4ab5b4,_0x3a7ae4),_0x34509d['side']=_0x207dba['$EB']):_0x58ffe1(_0x34509d,_0x4ab5b4,_0x3a7ae4);}this['xr']=_0x242757,this['getContext']=function(){return _0x13ecc3;},this['getContextAttributes']=function(){return _0x13ecc3['getContextAttributes']();},this['forceContextLoss']=function(){const _0x2d70f1=_0x5a0850['get']('WEBGL_lose_context');_0x2d70f1&&_0x2d70f1['loseContext']();},this['forceContextRestore']=function(){const _0x2839cb=_0x5a0850['get']('WEBGL_lose_context');_0x2839cb&&_0x2839cb['restoreContext']();},this['getPixelRatio']=function(){return _0x316352;},this['setPixelRatio']=function(_0x28345b){void 0x0!==_0x28345b&&(_0x316352=_0x28345b,this['setSize'](_0x3f3c73,_0x2b9ee0,!0x1));},this['getSize']=function(_0x451662){return _0x451662['set'](_0x3f3c73,_0x2b9ee0);},this['setSize']=function(_0x18e66c,_0x2bd914,_0x1d1002=!0x0){_0x242757['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x3f3c73=_0x18e66c,_0x2b9ee0=_0x2bd914,_0x169516['width']=Math['floor'](_0x18e66c*_0x316352),_0x169516['height']=Math['floor'](_0x2bd914*_0x316352),!0x0===_0x1d1002&&(_0x169516['style']['width']=_0x18e66c+'px',_0x169516['style']['height']=_0x2bd914+'px'),this['setViewport'](0x0,0x0,_0x18e66c,_0x2bd914));},this['getDrawingBufferSize']=function(_0x3218a1){return _0x3218a1['set'](_0x3f3c73*_0x316352,_0x2b9ee0*_0x316352)['floor']();},this['setDrawingBufferSize']=function(_0x55193d,_0x1f3afb,_0x1e8625){_0x3f3c73=_0x55193d,_0x2b9ee0=_0x1f3afb,_0x316352=_0x1e8625,_0x169516['width']=Math['floor'](_0x55193d*_0x1e8625),_0x169516['height']=Math['floor'](_0x1f3afb*_0x1e8625),this['setViewport'](0x0,0x0,_0x55193d,_0x1f3afb);},this['getCurrentViewport']=function(_0x41bf65){return _0x41bf65['copy'](_0x4b7293);},this['getViewport']=function(_0x4fab87){return _0x4fab87['copy'](_0x1088ba);},this['setViewport']=function(_0x4c2122,_0x2774c0,_0x2d8759,_0x582dc6){_0x4c2122['isVector4']?_0x1088ba['set'](_0x4c2122['x'],_0x4c2122['y'],_0x4c2122['z'],_0x4c2122['w']):_0x1088ba['set'](_0x4c2122,_0x2774c0,_0x2d8759,_0x582dc6),_0x271cac['viewport'](_0x4b7293['copy'](_0x1088ba)['multiplyScalar'](_0x316352)['round']());},this['getScissor']=function(_0x91e641){return _0x91e641['copy'](_0x26aa99);},this['setScissor']=function(_0x3bc2b9,_0x103741,_0x5e5f49,_0x451748){_0x3bc2b9['isVector4']?_0x26aa99['set'](_0x3bc2b9['x'],_0x3bc2b9['y'],_0x3bc2b9['z'],_0x3bc2b9['w']):_0x26aa99['set'](_0x3bc2b9,_0x103741,_0x5e5f49,_0x451748),_0x271cac['scissor'](_0x1d6810['copy'](_0x26aa99)['multiplyScalar'](_0x316352)['round']());},this['getScissorTest']=function(){return _0x24af4f;},this['setScissorTest']=function(_0x8715d6){_0x271cac['setScissorTest'](_0x24af4f=_0x8715d6);},this['setOpaqueSort']=function(_0x5319c4){_0x5f1854=_0x5319c4;},this['setTransparentSort']=function(_0x161106){_0x4f7025=_0x161106;},this['getClearColor']=function(_0x34d86c){return _0x34d86c['copy'](_0x24b1a2['getClearColor']());},this['setClearColor']=function(){_0x24b1a2['setClearColor']['apply'](_0x24b1a2,arguments);},this['getClearAlpha']=function(){return _0x24b1a2['getClearAlpha']();},this['setClearAlpha']=function(){_0x24b1a2['setClearAlpha']['apply'](_0x24b1a2,arguments);},this['clear']=function(_0x42e851=!0x0,_0x3fde05=!0x0,_0x3b1e07=!0x0){let _0xb1073e=0x0;if(_0x42e851){let _0x226100=!0x1;if(null!==_0xa7e31c){const _0x303d1b=_0xa7e31c['texture']['format'];_0x226100=_0x303d1b===_0x207dba['c90']||_0x303d1b===_0x207dba['TkQ']||_0x303d1b===_0x207dba['ZQM'];}if(_0x226100){const _0x2519f2=_0xa7e31c['texture']['type'],_0x30bf69=_0x2519f2===_0x207dba['OUM']||_0x2519f2===_0x207dba['bkx']||_0x2519f2===_0x207dba['cHt']||_0x2519f2===_0x207dba['V3x']||_0x2519f2===_0x207dba['Wew']||_0x2519f2===_0x207dba['gJ2'],_0x2d2180=_0x24b1a2['getClearColor'](),_0x9abfe6=_0x24b1a2['getClearAlpha'](),_0x403514=_0x2d2180['r'],_0x378dcd=_0x2d2180['g'],_0x5b542d=_0x2d2180['b'];_0x30bf69?(_0x31744b[0x0]=_0x403514,_0x31744b[0x1]=_0x378dcd,_0x31744b[0x2]=_0x5b542d,_0x31744b[0x3]=_0x9abfe6,_0x13ecc3['clearBufferuiv'](_0x13ecc3['COLOR'],0x0,_0x31744b)):(_0x554120[0x0]=_0x403514,_0x554120[0x1]=_0x378dcd,_0x554120[0x2]=_0x5b542d,_0x554120[0x3]=_0x9abfe6,_0x13ecc3['clearBufferiv'](_0x13ecc3['COLOR'],0x0,_0x554120));}else _0xb1073e|=_0x13ecc3['COLOR_BUFFER_BIT'];}_0x3fde05&&(_0xb1073e|=_0x13ecc3['DEPTH_BUFFER_BIT']),_0x3b1e07&&(_0xb1073e|=_0x13ecc3['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x13ecc3['clear'](_0xb1073e);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0x169516['removeEventListener']('webglcontextlost',_0xdc98f3,!0x1),_0x169516['removeEventListener']('webglcontextrestored',_0x2f1584,!0x1),_0x169516['removeEventListener']('webglcontextcreationerror',_0x509a4c,!0x1),_0x24b1a2['dispose'](),_0x16d905['dispose'](),_0x1944e9['dispose'](),_0x465b01['dispose'](),_0x59c855['dispose'](),_0x36e6ad['dispose'](),_0x2f0f1f['dispose'](),_0x4d8332['dispose'](),_0x51ee99['dispose'](),_0x40a198['dispose'](),_0x242757['dispose'](),_0x242757['removeEventListener']('sessionstart',_0x5eaadc),_0x242757['removeEventListener']('sessionend',_0x40da64),_0x57277d['stop']();},this['renderBufferDirect']=function(_0x393c2c,_0x45bcdc,_0x478324,_0x51bb8b,_0x21abfa,_0x17b25f){null===_0x45bcdc&&(_0x45bcdc=_0x35f934);const _0x47ec28=_0x21abfa['isMesh']&&_0x21abfa['matrixWorld']['determinant']()<0x0,_0x5c5087=function(_0x1f87a1,_0x3e27a8,_0x56a488,_0x1859e9,_0x393219){!0x0!==_0x3e27a8['isScene']&&(_0x3e27a8=_0x35f934),_0x2f6373['resetTextureUnits']();const _0x389e9f=_0x3e27a8['fog'],_0x1220fe=_0x1859e9['isMeshStandardMaterial']?_0x3e27a8['environment']:null,_0x4e845f=null===_0xa7e31c?_0x4ea863['outputColorSpace']:!0x0===_0xa7e31c['isXRRenderTarget']?_0xa7e31c['texture']['colorSpace']:_0x207dba['Zr2'],_0x8876bf=(_0x1859e9['isMeshStandardMaterial']?_0x36e6ad:_0x59c855)['get'](_0x1859e9['envMap']||_0x1220fe),_0x452bd1=!0x0===_0x1859e9['vertexColors']&&!!_0x56a488['attributes']['color']&&0x4===_0x56a488['attributes']['color']['itemSize'],_0x320138=!!_0x56a488['attributes']['tangent']&&(!!_0x1859e9['normalMap']||_0x1859e9['anisotropy']>0x0),_0x5a5f2a=!!_0x56a488['morphAttributes']['position'],_0x5b6e1c=!!_0x56a488['morphAttributes']['normal'],_0x44a7ce=!!_0x56a488['morphAttributes']['color'];let _0x324416=_0x207dba['y_p'];_0x1859e9['toneMapped']&&(null!==_0xa7e31c&&!0x0!==_0xa7e31c['isXRRenderTarget']||(_0x324416=_0x4ea863['toneMapping']));const _0x4330e5=_0x56a488['morphAttributes']['position']||_0x56a488['morphAttributes']['normal']||_0x56a488['morphAttributes']['color'],_0x239237=void 0x0!==_0x4330e5?_0x4330e5['length']:0x0,_0x4e95b1=_0x465b01['get'](_0x1859e9),_0x8215a8=_0x488253['state']['lights'];if(!0x0===_0x306222&&(!0x0===_0x3f3b53||_0x1f87a1!==_0x25be9b)){const _0x55ed7a=_0x1f87a1===_0x25be9b&&_0x1859e9['id']===_0x509919;_0x509b3b['setState'](_0x1859e9,_0x1f87a1,_0x55ed7a);}let _0x54477c=!0x1;_0x1859e9['version']===_0x4e95b1['__version']?_0x4e95b1['needsLights']&&_0x4e95b1['lightsStateVersion']!==_0x8215a8['state']['version']||_0x4e95b1['outputColorSpace']!==_0x4e845f||_0x393219['isBatchedMesh']&&!0x1===_0x4e95b1['batching']?_0x54477c=!0x0:_0x393219['isBatchedMesh']||!0x0!==_0x4e95b1['batching']?_0x393219['isBatchedMesh']&&!0x0===_0x4e95b1['batchingColor']&&null===_0x393219['colorTexture']||_0x393219['isBatchedMesh']&&!0x1===_0x4e95b1['batchingColor']&&null!==_0x393219['colorTexture']||_0x393219['isInstancedMesh']&&!0x1===_0x4e95b1['instancing']?_0x54477c=!0x0:_0x393219['isInstancedMesh']||!0x0!==_0x4e95b1['instancing']?_0x393219['isSkinnedMesh']&&!0x1===_0x4e95b1['skinning']?_0x54477c=!0x0:_0x393219['isSkinnedMesh']||!0x0!==_0x4e95b1['skinning']?_0x393219['isInstancedMesh']&&!0x0===_0x4e95b1['instancingColor']&&null===_0x393219['instanceColor']||_0x393219['isInstancedMesh']&&!0x1===_0x4e95b1['instancingColor']&&null!==_0x393219['instanceColor']||_0x393219['isInstancedMesh']&&!0x0===_0x4e95b1['instancingMorph']&&null===_0x393219['morphTexture']||_0x393219['isInstancedMesh']&&!0x1===_0x4e95b1['instancingMorph']&&null!==_0x393219['morphTexture']||_0x4e95b1['envMap']!==_0x8876bf||!0x0===_0x1859e9['fog']&&_0x4e95b1['fog']!==_0x389e9f?_0x54477c=!0x0:void 0x0===_0x4e95b1['numClippingPlanes']||_0x4e95b1['numClippingPlanes']===_0x509b3b['numPlanes']&&_0x4e95b1['numIntersection']===_0x509b3b['numIntersection']?(_0x4e95b1['vertexAlphas']!==_0x452bd1||_0x4e95b1['vertexTangents']!==_0x320138||_0x4e95b1['morphTargets']!==_0x5a5f2a||_0x4e95b1['morphNormals']!==_0x5b6e1c||_0x4e95b1['morphColors']!==_0x44a7ce||_0x4e95b1['toneMapping']!==_0x324416||_0x4e95b1['morphTargetsCount']!==_0x239237)&&(_0x54477c=!0x0):_0x54477c=!0x0:_0x54477c=!0x0:_0x54477c=!0x0:_0x54477c=!0x0:(_0x54477c=!0x0,_0x4e95b1['__version']=_0x1859e9['version']);let _0x941b97=_0x4e95b1['currentProgram'];!0x0===_0x54477c&&(_0x941b97=_0x58ffe1(_0x1859e9,_0x3e27a8,_0x393219));let _0x44e197=!0x1,_0x41c3b6=!0x1,_0x1fd1a8=!0x1;const _0x2355b1=_0x941b97['getUniforms'](),_0x4c25cb=_0x4e95b1['uniforms'];_0x271cac['useProgram'](_0x941b97['program'])&&(_0x44e197=!0x0,_0x41c3b6=!0x0,_0x1fd1a8=!0x0),_0x1859e9['id']!==_0x509919&&(_0x509919=_0x1859e9['id'],_0x41c3b6=!0x0);if(_0x44e197||_0x25be9b!==_0x1f87a1){_0x271cac['buffers']['depth']['getReversed']()?(_0xab9243['copy'](_0x1f87a1['projectionMatrix']),(0x0,_0x207dba['xiE'])(_0xab9243),(0x0,_0x207dba['Mmk'])(_0xab9243),_0x2355b1['setValue'](_0x13ecc3,'projectionMatrix',_0xab9243)):_0x2355b1['setValue'](_0x13ecc3,'projectionMatrix',_0x1f87a1['projectionMatrix']),_0x2355b1['setValue'](_0x13ecc3,'viewMatrix',_0x1f87a1['matrixWorldInverse']);const _0x359313=_0x2355b1['map']['cameraPosition'];void 0x0!==_0x359313&&_0x359313['setValue'](_0x13ecc3,_0x4bbbef['setFromMatrixPosition'](_0x1f87a1['matrixWorld'])),_0x18791e['logarithmicDepthBuffer']&&_0x2355b1['setValue'](_0x13ecc3,'logDepthBufFC',0x2/(Math['log'](_0x1f87a1['far']+0x1)/Math['LN2'])),(_0x1859e9['isMeshPhongMaterial']||_0x1859e9['isMeshToonMaterial']||_0x1859e9['isMeshLambertMaterial']||_0x1859e9['isMeshBasicMaterial']||_0x1859e9['isMeshStandardMaterial']||_0x1859e9['isShaderMaterial'])&&_0x2355b1['setValue'](_0x13ecc3,'isOrthographic',!0x0===_0x1f87a1['isOrthographicCamera']),_0x25be9b!==_0x1f87a1&&(_0x25be9b=_0x1f87a1,_0x41c3b6=!0x0,_0x1fd1a8=!0x0);}if(_0x393219['isSkinnedMesh']){_0x2355b1['setOptional'](_0x13ecc3,_0x393219,'bindMatrix'),_0x2355b1['setOptional'](_0x13ecc3,_0x393219,'bindMatrixInverse');const _0x338e12=_0x393219['skeleton'];_0x338e12&&(null===_0x338e12['boneTexture']&&_0x338e12['computeBoneTexture'](),_0x2355b1['setValue'](_0x13ecc3,'boneTexture',_0x338e12['boneTexture'],_0x2f6373));}_0x393219['isBatchedMesh']&&(_0x2355b1['setOptional'](_0x13ecc3,_0x393219,'batchingTexture'),_0x2355b1['setValue'](_0x13ecc3,'batchingTexture',_0x393219['_matricesTexture'],_0x2f6373),_0x2355b1['setOptional'](_0x13ecc3,_0x393219,'batchingIdTexture'),_0x2355b1['setValue'](_0x13ecc3,'batchingIdTexture',_0x393219['_indirectTexture'],_0x2f6373),_0x2355b1['setOptional'](_0x13ecc3,_0x393219,'batchingColorTexture'),null!==_0x393219['_colorsTexture']&&_0x2355b1['setValue'](_0x13ecc3,'batchingColorTexture',_0x393219['_colorsTexture'],_0x2f6373));const _0x1f7cde=_0x56a488['morphAttributes'];void 0x0===_0x1f7cde['position']&&void 0x0===_0x1f7cde['normal']&&void 0x0===_0x1f7cde['color']||_0x5cae82['update'](_0x393219,_0x56a488,_0x941b97),(_0x41c3b6||_0x4e95b1['receiveShadow']!==_0x393219['receiveShadow'])&&(_0x4e95b1['receiveShadow']=_0x393219['receiveShadow'],_0x2355b1['setValue'](_0x13ecc3,'receiveShadow',_0x393219['receiveShadow'])),_0x1859e9['isMeshGouraudMaterial']&&null!==_0x1859e9['envMap']&&(_0x4c25cb['envMap']['value']=_0x8876bf,_0x4c25cb['flipEnvMap']['value']=_0x8876bf['isCubeTexture']&&!0x1===_0x8876bf['isRenderTargetTexture']?-0x1:0x1),_0x1859e9['isMeshStandardMaterial']&&null===_0x1859e9['envMap']&&null!==_0x3e27a8['environment']&&(_0x4c25cb['envMapIntensity']['value']=_0x3e27a8['environmentIntensity']),_0x41c3b6&&(_0x2355b1['setValue'](_0x13ecc3,'toneMappingExposure',_0x4ea863['toneMappingExposure']),_0x4e95b1['needsLights']&&(_0x48ccfe=_0x1fd1a8,(_0x3c304e=_0x4c25cb)['ambientLightColor']['needsUpdate']=_0x48ccfe,_0x3c304e['lightProbe']['needsUpdate']=_0x48ccfe,_0x3c304e['directionalLights']['needsUpdate']=_0x48ccfe,_0x3c304e['directionalLightShadows']['needsUpdate']=_0x48ccfe,_0x3c304e['pointLights']['needsUpdate']=_0x48ccfe,_0x3c304e['pointLightShadows']['needsUpdate']=_0x48ccfe,_0x3c304e['spotLights']['needsUpdate']=_0x48ccfe,_0x3c304e['spotLightShadows']['needsUpdate']=_0x48ccfe,_0x3c304e['rectAreaLights']['needsUpdate']=_0x48ccfe,_0x3c304e['hemisphereLights']['needsUpdate']=_0x48ccfe),_0x389e9f&&!0x0===_0x1859e9['fog']&&_0x278ee4['refreshFogUniforms'](_0x4c25cb,_0x389e9f),_0x278ee4['refreshMaterialUniforms'](_0x4c25cb,_0x1859e9,_0x316352,_0x2b9ee0,_0x488253['state']['transmissionRenderTarget'][_0x1f87a1['id']]),_0x13aa91['upload'](_0x13ecc3,_0x29ce00(_0x4e95b1),_0x4c25cb,_0x2f6373));var _0x3c304e,_0x48ccfe;_0x1859e9['isShaderMaterial']&&!0x0===_0x1859e9['uniformsNeedUpdate']&&(_0x13aa91['upload'](_0x13ecc3,_0x29ce00(_0x4e95b1),_0x4c25cb,_0x2f6373),_0x1859e9['uniformsNeedUpdate']=!0x1),_0x1859e9['isSpriteMaterial']&&_0x2355b1['setValue'](_0x13ecc3,'center',_0x393219['center']);if(_0x2355b1['setValue'](_0x13ecc3,'modelViewMatrix',_0x393219['modelViewMatrix']),_0x2355b1['setValue'](_0x13ecc3,'normalMatrix',_0x393219['normalMatrix']),_0x2355b1['setValue'](_0x13ecc3,'modelMatrix',_0x393219['matrixWorld']),_0x1859e9['isShaderMaterial']||_0x1859e9['isRawShaderMaterial']){const _0x1e0ab9=_0x1859e9['uniformsGroups'];for(let _0x1d0593=0x0,_0x32dfe2=_0x1e0ab9['length'];_0x1d0593<_0x32dfe2;_0x1d0593++){const _0x402d05=_0x1e0ab9[_0x1d0593];_0x51ee99['update'](_0x402d05,_0x941b97),_0x51ee99['bind'](_0x402d05,_0x941b97);}}return _0x941b97;}(_0x393c2c,_0x45bcdc,_0x478324,_0x51bb8b,_0x21abfa);_0x271cac['setMaterial'](_0x51bb8b,_0x47ec28);let _0x3e8d72=_0x478324['index'],_0x1e74df=0x1;if(!0x0===_0x51bb8b['wireframe']){if(_0x3e8d72=_0x1bb776['getWireframeAttribute'](_0x478324),void 0x0===_0x3e8d72)return;_0x1e74df=0x2;}const _0x5ae593=_0x478324['drawRange'],_0x4b58cd=_0x478324['attributes']['position'];let _0x11e691=_0x5ae593['start']*_0x1e74df,_0x24c679=(_0x5ae593['start']+_0x5ae593['count'])*_0x1e74df;null!==_0x17b25f&&(_0x11e691=Math['max'](_0x11e691,_0x17b25f['start']*_0x1e74df),_0x24c679=Math['min'](_0x24c679,(_0x17b25f['start']+_0x17b25f['count'])*_0x1e74df)),null!==_0x3e8d72?(_0x11e691=Math['max'](_0x11e691,0x0),_0x24c679=Math['min'](_0x24c679,_0x3e8d72['count'])):null!=_0x4b58cd&&(_0x11e691=Math['max'](_0x11e691,0x0),_0x24c679=Math['min'](_0x24c679,_0x4b58cd['count']));const _0x157e42=_0x24c679-_0x11e691;if(_0x157e42<0x0||_0x157e42===0x1/0x0)return;let _0x32030f;_0x4d8332['setup'](_0x21abfa,_0x51bb8b,_0x5c5087,_0x478324,_0x3e8d72);let _0x4e083a=_0x31dd26;if(null!==_0x3e8d72&&(_0x32030f=_0x457b59['get'](_0x3e8d72),_0x4e083a=_0x318aba,_0x4e083a['setIndex'](_0x32030f)),_0x21abfa['isMesh'])!0x0===_0x51bb8b['wireframe']?(_0x271cac['setLineWidth'](_0x51bb8b['wireframeLinewidth']*_0x5b3078()),_0x4e083a['setMode'](_0x13ecc3['LINES'])):_0x4e083a['setMode'](_0x13ecc3['TRIANGLES']);else{if(_0x21abfa['isLine']){let _0x1e235a=_0x51bb8b['linewidth'];void 0x0===_0x1e235a&&(_0x1e235a=0x1),_0x271cac['setLineWidth'](_0x1e235a*_0x5b3078()),_0x21abfa['isLineSegments']?_0x4e083a['setMode'](_0x13ecc3['LINES']):_0x21abfa['isLineLoop']?_0x4e083a['setMode'](_0x13ecc3['LINE_LOOP']):_0x4e083a['setMode'](_0x13ecc3['LINE_STRIP']);}else _0x21abfa['isPoints']?_0x4e083a['setMode'](_0x13ecc3['POINTS']):_0x21abfa['isSprite']&&_0x4e083a['setMode'](_0x13ecc3['TRIANGLES']);}if(_0x21abfa['isBatchedMesh']){if(null!==_0x21abfa['_multiDrawInstances'])_0x4e083a['renderMultiDrawInstances'](_0x21abfa['_multiDrawStarts'],_0x21abfa['_multiDrawCounts'],_0x21abfa['_multiDrawCount'],_0x21abfa['_multiDrawInstances']);else{if(_0x5a0850['get']('WEBGL_multi_draw'))_0x4e083a['renderMultiDraw'](_0x21abfa['_multiDrawStarts'],_0x21abfa['_multiDrawCounts'],_0x21abfa['_multiDrawCount']);else{const _0xe775c7=_0x21abfa['_multiDrawStarts'],_0x4f9ab6=_0x21abfa['_multiDrawCounts'],_0x487580=_0x21abfa['_multiDrawCount'],_0x42d833=_0x3e8d72?_0x457b59['get'](_0x3e8d72)['bytesPerElement']:0x1,_0x178cf7=_0x465b01['get'](_0x51bb8b)['currentProgram']['getUniforms']();for(let _0x199a10=0x0;_0x199a10<_0x487580;_0x199a10++)_0x178cf7['setValue'](_0x13ecc3,'_gl_DrawID',_0x199a10),_0x4e083a['render'](_0xe775c7[_0x199a10]/_0x42d833,_0x4f9ab6[_0x199a10]);}}}else{if(_0x21abfa['isInstancedMesh'])_0x4e083a['renderInstances'](_0x11e691,_0x157e42,_0x21abfa['count']);else{if(_0x478324['isInstancedBufferGeometry']){const _0x239b90=void 0x0!==_0x478324['_maxInstanceCount']?_0x478324['_maxInstanceCount']:0x1/0x0,_0x3c8c5f=Math['min'](_0x478324['instanceCount'],_0x239b90);_0x4e083a['renderInstances'](_0x11e691,_0x157e42,_0x3c8c5f);}else _0x4e083a['render'](_0x11e691,_0x157e42);}}},this['compile']=function(_0x25c6f4,_0x2756e1,_0x1f3de7=null){null===_0x1f3de7&&(_0x1f3de7=_0x25c6f4),_0x488253=_0x1944e9['get'](_0x1f3de7),_0x488253['init'](_0x2756e1),_0x4370a5['push'](_0x488253),_0x1f3de7['traverseVisible'](function(_0x384037){_0x384037['isLight']&&_0x384037['layers']['test'](_0x2756e1['layers'])&&(_0x488253['pushLight'](_0x384037),_0x384037['castShadow']&&_0x488253['pushShadow'](_0x384037));}),_0x25c6f4!==_0x1f3de7&&_0x25c6f4['traverseVisible'](function(_0x67f999){_0x67f999['isLight']&&_0x67f999['layers']['test'](_0x2756e1['layers'])&&(_0x488253['pushLight'](_0x67f999),_0x67f999['castShadow']&&_0x488253['pushShadow'](_0x67f999));}),_0x488253['setupLights']();const _0x2d3d80=new Set();return _0x25c6f4['traverse'](function(_0x6f5f7a){if(!(_0x6f5f7a['isMesh']||_0x6f5f7a['isPoints']||_0x6f5f7a['isLine']||_0x6f5f7a['isSprite']))return;const _0x485022=_0x6f5f7a['material'];if(_0x485022){if(Array['isArray'](_0x485022))for(let _0x5409b7=0x0;_0x5409b7<_0x485022['length'];_0x5409b7++){const _0x3be78f=_0x485022[_0x5409b7];_0x59491c(_0x3be78f,_0x1f3de7,_0x6f5f7a),_0x2d3d80['add'](_0x3be78f);}else _0x59491c(_0x485022,_0x1f3de7,_0x6f5f7a),_0x2d3d80['add'](_0x485022);}}),_0x4370a5['pop'](),_0x488253=null,_0x2d3d80;},this['compileAsync']=function(_0x4be9dc,_0x4a7c75,_0x2412a1=null){const _0x44bd26=this['compile'](_0x4be9dc,_0x4a7c75,_0x2412a1);return new Promise(_0x4f6e15=>{function _0xa1b49(){_0x44bd26['forEach'](function(_0x49aa73){_0x465b01['get'](_0x49aa73)['currentProgram']['isReady']()&&_0x44bd26['delete'](_0x49aa73);}),0x0!==_0x44bd26['size']?setTimeout(_0xa1b49,0xa):_0x4f6e15(_0x4be9dc);}null!==_0x5a0850['get']('KHR_parallel_shader_compile')?_0xa1b49():setTimeout(_0xa1b49,0xa);});};let _0x1bd37a=null;function _0x5eaadc(){_0x57277d['stop']();}function _0x40da64(){_0x57277d['start']();}const _0x57277d=new _0x56597a();function _0x36f35f(_0x39e8ed,_0x340205,_0x17fd04,_0x43018f){if(!0x1===_0x39e8ed['visible'])return;if(_0x39e8ed['layers']['test'](_0x340205['layers'])){if(_0x39e8ed['isGroup'])_0x17fd04=_0x39e8ed['renderOrder'];else{if(_0x39e8ed['isLOD'])!0x0===_0x39e8ed['autoUpdate']&&_0x39e8ed['update'](_0x340205);else{if(_0x39e8ed['isLight'])_0x488253['pushLight'](_0x39e8ed),_0x39e8ed['castShadow']&&_0x488253['pushShadow'](_0x39e8ed);else{if(_0x39e8ed['isSprite']){if(!_0x39e8ed['frustumCulled']||_0xa933e7['intersectsSprite'](_0x39e8ed)){_0x43018f&&_0x57ac50['setFromMatrixPosition'](_0x39e8ed['matrixWorld'])['applyMatrix4'](_0xe30e1c);const _0x40e249=_0x2f0f1f['update'](_0x39e8ed),_0xb7fbd2=_0x39e8ed['material'];_0xb7fbd2['visible']&&_0x56750d['push'](_0x39e8ed,_0x40e249,_0xb7fbd2,_0x17fd04,_0x57ac50['z'],null);}}else{if((_0x39e8ed['isMesh']||_0x39e8ed['isLine']||_0x39e8ed['isPoints'])&&(!_0x39e8ed['frustumCulled']||_0xa933e7['intersectsObject'](_0x39e8ed))){const _0x2e9d81=_0x2f0f1f['update'](_0x39e8ed),_0x31dbb9=_0x39e8ed['material'];if(_0x43018f&&(void 0x0!==_0x39e8ed['boundingSphere']?(null===_0x39e8ed['boundingSphere']&&_0x39e8ed['computeBoundingSphere'](),_0x57ac50['copy'](_0x39e8ed['boundingSphere']['center'])):(null===_0x2e9d81['boundingSphere']&&_0x2e9d81['computeBoundingSphere'](),_0x57ac50['copy'](_0x2e9d81['boundingSphere']['center'])),_0x57ac50['applyMatrix4'](_0x39e8ed['matrixWorld'])['applyMatrix4'](_0xe30e1c)),Array['isArray'](_0x31dbb9)){const _0x251352=_0x2e9d81['groups'];for(let _0x4d59f0=0x0,_0x1fa96b=_0x251352['length'];_0x4d59f0<_0x1fa96b;_0x4d59f0++){const _0x5bb8cf=_0x251352[_0x4d59f0],_0x5ac077=_0x31dbb9[_0x5bb8cf['materialIndex']];_0x5ac077&&_0x5ac077['visible']&&_0x56750d['push'](_0x39e8ed,_0x2e9d81,_0x5ac077,_0x17fd04,_0x57ac50['z'],_0x5bb8cf);}}else _0x31dbb9['visible']&&_0x56750d['push'](_0x39e8ed,_0x2e9d81,_0x31dbb9,_0x17fd04,_0x57ac50['z'],null);}}}}}}const _0x17e9a5=_0x39e8ed['children'];for(let _0x5922b4=0x0,_0x1e4c09=_0x17e9a5['length'];_0x5922b4<_0x1e4c09;_0x5922b4++)_0x36f35f(_0x17e9a5[_0x5922b4],_0x340205,_0x17fd04,_0x43018f);}function _0x1391f6(_0x4749c2,_0x7b5b5,_0x4c5e04,_0x50670f){const _0x5700d5=_0x4749c2['opaque'],_0x12765b=_0x4749c2['transmissive'],_0x785be5=_0x4749c2['transparent'];_0x488253['setupLightsView'](_0x4c5e04),!0x0===_0x306222&&_0x509b3b['setGlobalState'](_0x4ea863['clippingPlanes'],_0x4c5e04),_0x50670f&&_0x271cac['viewport'](_0x4b7293['copy'](_0x50670f)),_0x5700d5['length']>0x0&&_0x7e6e64(_0x5700d5,_0x7b5b5,_0x4c5e04),_0x12765b['length']>0x0&&_0x7e6e64(_0x12765b,_0x7b5b5,_0x4c5e04),_0x785be5['length']>0x0&&_0x7e6e64(_0x785be5,_0x7b5b5,_0x4c5e04),_0x271cac['buffers']['depth']['setTest'](!0x0),_0x271cac['buffers']['depth']['setMask'](!0x0),_0x271cac['buffers']['color']['setMask'](!0x0),_0x271cac['setPolygonOffset'](!0x1);}function _0x39d125(_0x135372,_0x917e34,_0x35cf90,_0x44631b){if(null!==(!0x0===_0x35cf90['isScene']?_0x35cf90['overrideMaterial']:null))return;void 0x0===_0x488253['state']['transmissionRenderTarget'][_0x44631b['id']]&&(_0x488253['state']['transmissionRenderTarget'][_0x44631b['id']]=new _0x207dba['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0x5a0850['has']('EXT_color_buffer_half_float')||_0x5a0850['has']('EXT_color_buffer_float')?_0x207dba['ix0']:_0x207dba['OUM'],'minFilter':_0x207dba['$_I'],'samples':0x4,'stencilBuffer':_0x2c1ea9,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0x207dba['ppV']['workingColorSpace']}));const _0x463680=_0x488253['state']['transmissionRenderTarget'][_0x44631b['id']],_0x2871f2=_0x44631b['viewport']||_0x4b7293;_0x463680['setSize'](_0x2871f2['z']*_0x4ea863['transmissionResolutionScale'],_0x2871f2['w']*_0x4ea863['transmissionResolutionScale']);const _0x21a0b6=_0x4ea863['getRenderTarget']();_0x4ea863['setRenderTarget'](_0x463680),_0x4ea863['getClearColor'](_0x12ecf7),_0x48059e=_0x4ea863['getClearAlpha'](),_0x48059e<0x1&&_0x4ea863['setClearColor'](0xffffff,0.5),_0x4ea863['clear'](),_0x10a771&&_0x24b1a2['render'](_0x35cf90);const _0x49d53c=_0x4ea863['toneMapping'];_0x4ea863['toneMapping']=_0x207dba['y_p'];const _0x551bfe=_0x44631b['viewport'];if(void 0x0!==_0x44631b['viewport']&&(_0x44631b['viewport']=void 0x0),_0x488253['setupLightsView'](_0x44631b),!0x0===_0x306222&&_0x509b3b['setGlobalState'](_0x4ea863['clippingPlanes'],_0x44631b),_0x7e6e64(_0x135372,_0x35cf90,_0x44631b),_0x2f6373['updateMultisampleRenderTarget'](_0x463680),_0x2f6373['updateRenderTargetMipmap'](_0x463680),!0x1===_0x5a0850['has']('WEBGL_multisampled_render_to_texture')){let _0x4f0b05=!0x1;for(let _0x4a8a65=0x0,_0x2a9cca=_0x917e34['length'];_0x4a8a65<_0x2a9cca;_0x4a8a65++){const _0x1267cc=_0x917e34[_0x4a8a65],_0x59ff21=_0x1267cc['object'],_0x56fb46=_0x1267cc['geometry'],_0x343bda=_0x1267cc['material'],_0x4f5141=_0x1267cc['group'];if(_0x343bda['side']===_0x207dba['$EB']&&_0x59ff21['layers']['test'](_0x44631b['layers'])){const _0x2a0110=_0x343bda['side'];_0x343bda['side']=_0x207dba['hsX'],_0x343bda['needsUpdate']=!0x0,_0x2d292b(_0x59ff21,_0x35cf90,_0x44631b,_0x56fb46,_0x343bda,_0x4f5141),_0x343bda['side']=_0x2a0110,_0x343bda['needsUpdate']=!0x0,_0x4f0b05=!0x0;}}!0x0===_0x4f0b05&&(_0x2f6373['updateMultisampleRenderTarget'](_0x463680),_0x2f6373['updateRenderTargetMipmap'](_0x463680));}_0x4ea863['setRenderTarget'](_0x21a0b6),_0x4ea863['setClearColor'](_0x12ecf7,_0x48059e),void 0x0!==_0x551bfe&&(_0x44631b['viewport']=_0x551bfe),_0x4ea863['toneMapping']=_0x49d53c;}function _0x7e6e64(_0x455d1d,_0x5d9a4e,_0x10773c){const _0x284d77=!0x0===_0x5d9a4e['isScene']?_0x5d9a4e['overrideMaterial']:null;for(let _0x364beb=0x0,_0x46f81e=_0x455d1d['length'];_0x364beb<_0x46f81e;_0x364beb++){const _0x22e500=_0x455d1d[_0x364beb],_0x5a758c=_0x22e500['object'],_0x3f64d3=_0x22e500['geometry'],_0x3f0283=null===_0x284d77?_0x22e500['material']:_0x284d77,_0xd03913=_0x22e500['group'];_0x5a758c['layers']['test'](_0x10773c['layers'])&&_0x2d292b(_0x5a758c,_0x5d9a4e,_0x10773c,_0x3f64d3,_0x3f0283,_0xd03913);}}function _0x2d292b(_0x149bbe,_0x4f4051,_0x5265ed,_0x1ba14c,_0x5b6d24,_0xfd2fa2){_0x149bbe['onBeforeRender'](_0x4ea863,_0x4f4051,_0x5265ed,_0x1ba14c,_0x5b6d24,_0xfd2fa2),_0x149bbe['modelViewMatrix']['multiplyMatrices'](_0x5265ed['matrixWorldInverse'],_0x149bbe['matrixWorld']),_0x149bbe['normalMatrix']['getNormalMatrix'](_0x149bbe['modelViewMatrix']),_0x5b6d24['onBeforeRender'](_0x4ea863,_0x4f4051,_0x5265ed,_0x1ba14c,_0x149bbe,_0xfd2fa2),!0x0===_0x5b6d24['transparent']&&_0x5b6d24['side']===_0x207dba['$EB']&&!0x1===_0x5b6d24['forceSinglePass']?(_0x5b6d24['side']=_0x207dba['hsX'],_0x5b6d24['needsUpdate']=!0x0,_0x4ea863['renderBufferDirect'](_0x5265ed,_0x4f4051,_0x1ba14c,_0x5b6d24,_0x149bbe,_0xfd2fa2),_0x5b6d24['side']=_0x207dba['hB5'],_0x5b6d24['needsUpdate']=!0x0,_0x4ea863['renderBufferDirect'](_0x5265ed,_0x4f4051,_0x1ba14c,_0x5b6d24,_0x149bbe,_0xfd2fa2),_0x5b6d24['side']=_0x207dba['$EB']):_0x4ea863['renderBufferDirect'](_0x5265ed,_0x4f4051,_0x1ba14c,_0x5b6d24,_0x149bbe,_0xfd2fa2),_0x149bbe['onAfterRender'](_0x4ea863,_0x4f4051,_0x5265ed,_0x1ba14c,_0x5b6d24,_0xfd2fa2);}function _0x58ffe1(_0x11d32c,_0x103e3c,_0x50732c){!0x0!==_0x103e3c['isScene']&&(_0x103e3c=_0x35f934);const _0x2457ce=_0x465b01['get'](_0x11d32c),_0x28004d=_0x488253['state']['lights'],_0x428b94=_0x488253['state']['shadowsArray'],_0x367e6a=_0x28004d['state']['version'],_0x44fa12=_0x40a198['getParameters'](_0x11d32c,_0x28004d['state'],_0x428b94,_0x103e3c,_0x50732c),_0x52b5cc=_0x40a198['getProgramCacheKey'](_0x44fa12);let _0x2f99c9=_0x2457ce['programs'];_0x2457ce['environment']=_0x11d32c['isMeshStandardMaterial']?_0x103e3c['environment']:null,_0x2457ce['fog']=_0x103e3c['fog'],_0x2457ce['envMap']=(_0x11d32c['isMeshStandardMaterial']?_0x36e6ad:_0x59c855)['get'](_0x11d32c['envMap']||_0x2457ce['environment']),_0x2457ce['envMapRotation']=null!==_0x2457ce['environment']&&null===_0x11d32c['envMap']?_0x103e3c['environmentRotation']:_0x11d32c['envMapRotation'],void 0x0===_0x2f99c9&&(_0x11d32c['addEventListener']('dispose',_0x6dc72),_0x2f99c9=new Map(),_0x2457ce['programs']=_0x2f99c9);let _0x116802=_0x2f99c9['get'](_0x52b5cc);if(void 0x0!==_0x116802){if(_0x2457ce['currentProgram']===_0x116802&&_0x2457ce['lightsStateVersion']===_0x367e6a)return _0x405b2b(_0x11d32c,_0x44fa12),_0x116802;}else _0x44fa12['uniforms']=_0x40a198['getUniforms'](_0x11d32c),_0x11d32c['onBeforeCompile'](_0x44fa12,_0x4ea863),_0x116802=_0x40a198['acquireProgram'](_0x44fa12,_0x52b5cc),_0x2f99c9['set'](_0x52b5cc,_0x116802),_0x2457ce['uniforms']=_0x44fa12['uniforms'];const _0x3b17df=_0x2457ce['uniforms'];return(_0x11d32c['isShaderMaterial']||_0x11d32c['isRawShaderMaterial'])&&!0x0!==_0x11d32c['clipping']||(_0x3b17df['clippingPlanes']=_0x509b3b['uniform']),_0x405b2b(_0x11d32c,_0x44fa12),_0x2457ce['needsLights']=function(_0x1c3eb7){return _0x1c3eb7['isMeshLambertMaterial']||_0x1c3eb7['isMeshToonMaterial']||_0x1c3eb7['isMeshPhongMaterial']||_0x1c3eb7['isMeshStandardMaterial']||_0x1c3eb7['isShadowMaterial']||_0x1c3eb7['isShaderMaterial']&&!0x0===_0x1c3eb7['lights'];}(_0x11d32c),_0x2457ce['lightsStateVersion']=_0x367e6a,_0x2457ce['needsLights']&&(_0x3b17df['ambientLightColor']['value']=_0x28004d['state']['ambient'],_0x3b17df['lightProbe']['value']=_0x28004d['state']['probe'],_0x3b17df['directionalLights']['value']=_0x28004d['state']['directional'],_0x3b17df['directionalLightShadows']['value']=_0x28004d['state']['directionalShadow'],_0x3b17df['spotLights']['value']=_0x28004d['state']['spot'],_0x3b17df['spotLightShadows']['value']=_0x28004d['state']['spotShadow'],_0x3b17df['rectAreaLights']['value']=_0x28004d['state']['rectArea'],_0x3b17df['ltc_1']['value']=_0x28004d['state']['rectAreaLTC1'],_0x3b17df['ltc_2']['value']=_0x28004d['state']['rectAreaLTC2'],_0x3b17df['pointLights']['value']=_0x28004d['state']['point'],_0x3b17df['pointLightShadows']['value']=_0x28004d['state']['pointShadow'],_0x3b17df['hemisphereLights']['value']=_0x28004d['state']['hemi'],_0x3b17df['directionalShadowMap']['value']=_0x28004d['state']['directionalShadowMap'],_0x3b17df['directionalShadowMatrix']['value']=_0x28004d['state']['directionalShadowMatrix'],_0x3b17df['spotShadowMap']['value']=_0x28004d['state']['spotShadowMap'],_0x3b17df['spotLightMatrix']['value']=_0x28004d['state']['spotLightMatrix'],_0x3b17df['spotLightMap']['value']=_0x28004d['state']['spotLightMap'],_0x3b17df['pointShadowMap']['value']=_0x28004d['state']['pointShadowMap'],_0x3b17df['pointShadowMatrix']['value']=_0x28004d['state']['pointShadowMatrix']),_0x2457ce['currentProgram']=_0x116802,_0x2457ce['uniformsList']=null,_0x116802;}function _0x29ce00(_0x4e9c67){if(null===_0x4e9c67['uniformsList']){const _0x30382d=_0x4e9c67['currentProgram']['getUniforms']();_0x4e9c67['uniformsList']=_0x13aa91['seqWithValue'](_0x30382d['seq'],_0x4e9c67['uniforms']);}return _0x4e9c67['uniformsList'];}function _0x405b2b(_0x8eda49,_0x36d3de){const _0x1f418e=_0x465b01['get'](_0x8eda49);_0x1f418e['outputColorSpace']=_0x36d3de['outputColorSpace'],_0x1f418e['batching']=_0x36d3de['batching'],_0x1f418e['batchingColor']=_0x36d3de['batchingColor'],_0x1f418e['instancing']=_0x36d3de['instancing'],_0x1f418e['instancingColor']=_0x36d3de['instancingColor'],_0x1f418e['instancingMorph']=_0x36d3de['instancingMorph'],_0x1f418e['skinning']=_0x36d3de['skinning'],_0x1f418e['morphTargets']=_0x36d3de['morphTargets'],_0x1f418e['morphNormals']=_0x36d3de['morphNormals'],_0x1f418e['morphColors']=_0x36d3de['morphColors'],_0x1f418e['morphTargetsCount']=_0x36d3de['morphTargetsCount'],_0x1f418e['numClippingPlanes']=_0x36d3de['numClippingPlanes'],_0x1f418e['numIntersection']=_0x36d3de['numClipIntersection'],_0x1f418e['vertexAlphas']=_0x36d3de['vertexAlphas'],_0x1f418e['vertexTangents']=_0x36d3de['vertexTangents'],_0x1f418e['toneMapping']=_0x36d3de['toneMapping'];}_0x57277d['setAnimationLoop'](function(_0x1843cc){_0x1bd37a&&_0x1bd37a(_0x1843cc);}),'undefined'!=typeof self&&_0x57277d['setContext'](self),this['setAnimationLoop']=function(_0x1d7019){_0x1bd37a=_0x1d7019,_0x242757['setAnimationLoop'](_0x1d7019),null===_0x1d7019?_0x57277d['stop']():_0x57277d['start']();},_0x242757['addEventListener']('sessionstart',_0x5eaadc),_0x242757['addEventListener']('sessionend',_0x40da64),this['render']=function(_0x34091f,_0x1e563d){if(void 0x0!==_0x1e563d&&!0x0!==_0x1e563d['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x4b6858)return;if(!0x0===_0x34091f['matrixWorldAutoUpdate']&&_0x34091f['updateMatrixWorld'](),null===_0x1e563d['parent']&&!0x0===_0x1e563d['matrixWorldAutoUpdate']&&_0x1e563d['updateMatrixWorld'](),!0x0===_0x242757['enabled']&&!0x0===_0x242757['isPresenting']&&(!0x0===_0x242757['cameraAutoUpdate']&&_0x242757['updateCamera'](_0x1e563d),_0x1e563d=_0x242757['getCamera']()),!0x0===_0x34091f['isScene']&&_0x34091f['onBeforeRender'](_0x4ea863,_0x34091f,_0x1e563d,_0xa7e31c),_0x488253=_0x1944e9['get'](_0x34091f,_0x4370a5['length']),_0x488253['init'](_0x1e563d),_0x4370a5['push'](_0x488253),_0xe30e1c['multiplyMatrices'](_0x1e563d['projectionMatrix'],_0x1e563d['matrixWorldInverse']),_0xa933e7['setFromProjectionMatrix'](_0xe30e1c),_0x3f3b53=this['localClippingEnabled'],_0x306222=_0x509b3b['init'](this['clippingPlanes'],_0x3f3b53),_0x56750d=_0x16d905['get'](_0x34091f,_0x5a3964['length']),_0x56750d['init'](),_0x5a3964['push'](_0x56750d),!0x0===_0x242757['enabled']&&!0x0===_0x242757['isPresenting']){const _0x473ef2=_0x4ea863['xr']['getDepthSensingMesh']();null!==_0x473ef2&&_0x36f35f(_0x473ef2,_0x1e563d,-0x1/0x0,_0x4ea863['sortObjects']);}_0x36f35f(_0x34091f,_0x1e563d,0x0,_0x4ea863['sortObjects']),_0x56750d['finish'](),!0x0===_0x4ea863['sortObjects']&&_0x56750d['sort'](_0x5f1854,_0x4f7025),_0x10a771=!0x1===_0x242757['enabled']||!0x1===_0x242757['isPresenting']||!0x1===_0x242757['hasDepthSensing'](),_0x10a771&&_0x24b1a2['addToRenderList'](_0x56750d,_0x34091f),this['info']['render']['frame']++,!0x0===_0x306222&&_0x509b3b['beginShadows']();const _0x1b73f1=_0x488253['state']['shadowsArray'];_0x598e5a['render'](_0x1b73f1,_0x34091f,_0x1e563d),!0x0===_0x306222&&_0x509b3b['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x15a879=_0x56750d['opaque'],_0x134d08=_0x56750d['transmissive'];if(_0x488253['setupLights'](),_0x1e563d['isArrayCamera']){const _0x18f740=_0x1e563d['cameras'];if(_0x134d08['length']>0x0)for(let _0x22bc67=0x0,_0x2ca617=_0x18f740['length'];_0x22bc67<_0x2ca617;_0x22bc67++){_0x39d125(_0x15a879,_0x134d08,_0x34091f,_0x18f740[_0x22bc67]);}_0x10a771&&_0x24b1a2['render'](_0x34091f);for(let _0x5642a0=0x0,_0x4c26d6=_0x18f740['length'];_0x5642a0<_0x4c26d6;_0x5642a0++){const _0x40ec2e=_0x18f740[_0x5642a0];_0x1391f6(_0x56750d,_0x34091f,_0x40ec2e,_0x40ec2e['viewport']);}}else _0x134d08['length']>0x0&&_0x39d125(_0x15a879,_0x134d08,_0x34091f,_0x1e563d),_0x10a771&&_0x24b1a2['render'](_0x34091f),_0x1391f6(_0x56750d,_0x34091f,_0x1e563d);null!==_0xa7e31c&&0x0===_0x3cf756&&(_0x2f6373['updateMultisampleRenderTarget'](_0xa7e31c),_0x2f6373['updateRenderTargetMipmap'](_0xa7e31c)),!0x0===_0x34091f['isScene']&&_0x34091f['onAfterRender'](_0x4ea863,_0x34091f,_0x1e563d),_0x4d8332['resetDefaultState'](),_0x509919=-0x1,_0x25be9b=null,_0x4370a5['pop'](),_0x4370a5['length']>0x0?(_0x488253=_0x4370a5[_0x4370a5['length']-0x1],!0x0===_0x306222&&_0x509b3b['setGlobalState'](_0x4ea863['clippingPlanes'],_0x488253['state']['camera'])):_0x488253=null,_0x5a3964['pop'](),_0x56750d=_0x5a3964['length']>0x0?_0x5a3964[_0x5a3964['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0x599f4c;},this['getActiveMipmapLevel']=function(){return _0x3cf756;},this['getRenderTarget']=function(){return _0xa7e31c;},this['setRenderTargetTextures']=function(_0x351f03,_0x490683,_0x4679db){_0x465b01['get'](_0x351f03['texture'])['__webglTexture']=_0x490683,_0x465b01['get'](_0x351f03['depthTexture'])['__webglTexture']=_0x4679db;const _0x43b02f=_0x465b01['get'](_0x351f03);_0x43b02f['__hasExternalTextures']=!0x0,_0x43b02f['__autoAllocateDepthBuffer']=void 0x0===_0x4679db,_0x43b02f['__autoAllocateDepthBuffer']||!0x0===_0x5a0850['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x43b02f['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x47acf3,_0x33fd3f){const _0x3293fc=_0x465b01['get'](_0x47acf3);_0x3293fc['__webglFramebuffer']=_0x33fd3f,_0x3293fc['__useDefaultFramebuffer']=void 0x0===_0x33fd3f;};const _0x1d74d9=_0x13ecc3['createFramebuffer']();this['setRenderTarget']=function(_0x3a756a,_0x4c0c0a=0x0,_0x55fa46=0x0){_0xa7e31c=_0x3a756a,_0x599f4c=_0x4c0c0a,_0x3cf756=_0x55fa46;let _0x2adb26=!0x0,_0x1330fb=null,_0x2456f7=!0x1,_0x4a8d68=!0x1;if(_0x3a756a){const _0x4004e1=_0x465b01['get'](_0x3a756a);if(void 0x0!==_0x4004e1['__useDefaultFramebuffer'])_0x271cac['bindFramebuffer'](_0x13ecc3['FRAMEBUFFER'],null),_0x2adb26=!0x1;else{if(void 0x0===_0x4004e1['__webglFramebuffer'])_0x2f6373['setupRenderTarget'](_0x3a756a);else{if(_0x4004e1['__hasExternalTextures'])_0x2f6373['rebindTextures'](_0x3a756a,_0x465b01['get'](_0x3a756a['texture'])['__webglTexture'],_0x465b01['get'](_0x3a756a['depthTexture'])['__webglTexture']);else{if(_0x3a756a['depthBuffer']){const _0x3c21c2=_0x3a756a['depthTexture'];if(_0x4004e1['__boundDepthTexture']!==_0x3c21c2){if(null!==_0x3c21c2&&_0x465b01['has'](_0x3c21c2)&&(_0x3a756a['width']!==_0x3c21c2['image']['width']||_0x3a756a['height']!==_0x3c21c2['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x2f6373['setupDepthRenderbuffer'](_0x3a756a);}}}}}const _0x16565c=_0x3a756a['texture'];(_0x16565c['isData3DTexture']||_0x16565c['isDataArrayTexture']||_0x16565c['isCompressedArrayTexture'])&&(_0x4a8d68=!0x0);const _0x2b873b=_0x465b01['get'](_0x3a756a)['__webglFramebuffer'];_0x3a756a['isWebGLCubeRenderTarget']?(_0x1330fb=Array['isArray'](_0x2b873b[_0x4c0c0a])?_0x2b873b[_0x4c0c0a][_0x55fa46]:_0x2b873b[_0x4c0c0a],_0x2456f7=!0x0):_0x1330fb=_0x3a756a['samples']>0x0&&!0x1===_0x2f6373['useMultisampledRTT'](_0x3a756a)?_0x465b01['get'](_0x3a756a)['__webglMultisampledFramebuffer']:Array['isArray'](_0x2b873b)?_0x2b873b[_0x55fa46]:_0x2b873b,_0x4b7293['copy'](_0x3a756a['viewport']),_0x1d6810['copy'](_0x3a756a['scissor']),_0x5e35df=_0x3a756a['scissorTest'];}else _0x4b7293['copy'](_0x1088ba)['multiplyScalar'](_0x316352)['floor'](),_0x1d6810['copy'](_0x26aa99)['multiplyScalar'](_0x316352)['floor'](),_0x5e35df=_0x24af4f;0x0!==_0x55fa46&&(_0x1330fb=_0x1d74d9);if(_0x271cac['bindFramebuffer'](_0x13ecc3['FRAMEBUFFER'],_0x1330fb)&&_0x2adb26&&_0x271cac['drawBuffers'](_0x3a756a,_0x1330fb),_0x271cac['viewport'](_0x4b7293),_0x271cac['scissor'](_0x1d6810),_0x271cac['setScissorTest'](_0x5e35df),_0x2456f7){const _0x3db72e=_0x465b01['get'](_0x3a756a['texture']);_0x13ecc3['framebufferTexture2D'](_0x13ecc3['FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x13ecc3['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4c0c0a,_0x3db72e['__webglTexture'],_0x55fa46);}else{if(_0x4a8d68){const _0x5ec9f4=_0x465b01['get'](_0x3a756a['texture']),_0x2af11a=_0x4c0c0a;_0x13ecc3['framebufferTextureLayer'](_0x13ecc3['FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x5ec9f4['__webglTexture'],_0x55fa46,_0x2af11a);}else{if(null!==_0x3a756a&&0x0!==_0x55fa46){const _0x36dfeb=_0x465b01['get'](_0x3a756a['texture']);_0x13ecc3['framebufferTexture2D'](_0x13ecc3['FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x13ecc3['TEXTURE_2D'],_0x36dfeb['__webglTexture'],_0x55fa46);}}}_0x509919=-0x1;},this['readRenderTargetPixels']=function(_0x5f0a9e,_0x457fcd,_0x3d9d72,_0x3fa4f5,_0x156e55,_0x12fd58,_0x4ca7ee){if(!_0x5f0a9e||!_0x5f0a9e['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x4bf71a=_0x465b01['get'](_0x5f0a9e)['__webglFramebuffer'];if(_0x5f0a9e['isWebGLCubeRenderTarget']&&void 0x0!==_0x4ca7ee&&(_0x4bf71a=_0x4bf71a[_0x4ca7ee]),_0x4bf71a){_0x271cac['bindFramebuffer'](_0x13ecc3['FRAMEBUFFER'],_0x4bf71a);try{const _0x4533a2=_0x5f0a9e['texture'],_0x5777aa=_0x4533a2['format'],_0x219a73=_0x4533a2['type'];if(!_0x18791e['textureFormatReadable'](_0x5777aa))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x18791e['textureTypeReadable'](_0x219a73))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0x457fcd>=0x0&&_0x457fcd<=_0x5f0a9e['width']-_0x3fa4f5&&_0x3d9d72>=0x0&&_0x3d9d72<=_0x5f0a9e['height']-_0x156e55&&_0x13ecc3['readPixels'](_0x457fcd,_0x3d9d72,_0x3fa4f5,_0x156e55,_0x1ec472['convert'](_0x5777aa),_0x1ec472['convert'](_0x219a73),_0x12fd58);}finally{const _0x1cd2a7=null!==_0xa7e31c?_0x465b01['get'](_0xa7e31c)['__webglFramebuffer']:null;_0x271cac['bindFramebuffer'](_0x13ecc3['FRAMEBUFFER'],_0x1cd2a7);}}},this['readRenderTargetPixelsAsync']=async function(_0x4ce022,_0x4d09c8,_0x2a19fc,_0x163e2d,_0x4bbc42,_0x31df44,_0x1efc27){if(!_0x4ce022||!_0x4ce022['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x444c5b=_0x465b01['get'](_0x4ce022)['__webglFramebuffer'];if(_0x4ce022['isWebGLCubeRenderTarget']&&void 0x0!==_0x1efc27&&(_0x444c5b=_0x444c5b[_0x1efc27]),_0x444c5b){const _0x54cba6=_0x4ce022['texture'],_0x144c3c=_0x54cba6['format'],_0xfaf6c9=_0x54cba6['type'];if(!_0x18791e['textureFormatReadable'](_0x144c3c))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x18791e['textureTypeReadable'](_0xfaf6c9))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0x4d09c8>=0x0&&_0x4d09c8<=_0x4ce022['width']-_0x163e2d&&_0x2a19fc>=0x0&&_0x2a19fc<=_0x4ce022['height']-_0x4bbc42){_0x271cac['bindFramebuffer'](_0x13ecc3['FRAMEBUFFER'],_0x444c5b);const _0x14ade5=_0x13ecc3['createBuffer']();_0x13ecc3['bindBuffer'](_0x13ecc3['PIXEL_PACK_BUFFER'],_0x14ade5),_0x13ecc3['bufferData'](_0x13ecc3['PIXEL_PACK_BUFFER'],_0x31df44['byteLength'],_0x13ecc3['STREAM_READ']),_0x13ecc3['readPixels'](_0x4d09c8,_0x2a19fc,_0x163e2d,_0x4bbc42,_0x1ec472['convert'](_0x144c3c),_0x1ec472['convert'](_0xfaf6c9),0x0);const _0x408b43=null!==_0xa7e31c?_0x465b01['get'](_0xa7e31c)['__webglFramebuffer']:null;_0x271cac['bindFramebuffer'](_0x13ecc3['FRAMEBUFFER'],_0x408b43);const _0x398890=_0x13ecc3['fenceSync'](_0x13ecc3['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x13ecc3['flush'](),await(0x0,_0x207dba['jej'])(_0x13ecc3,_0x398890,0x4),_0x13ecc3['bindBuffer'](_0x13ecc3['PIXEL_PACK_BUFFER'],_0x14ade5),_0x13ecc3['getBufferSubData'](_0x13ecc3['PIXEL_PACK_BUFFER'],0x0,_0x31df44),_0x13ecc3['deleteBuffer'](_0x14ade5),_0x13ecc3['deleteSync'](_0x398890),_0x31df44;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x3c55c3,_0x5dcf1c=null,_0x3a51e2=0x0){!0x0!==_0x3c55c3['isTexture']&&((0x0,_0x207dba['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0x5dcf1c=arguments[0x0]||null,_0x3c55c3=arguments[0x1]);const _0x2e3536=Math['pow'](0x2,-_0x3a51e2),_0x362792=Math['floor'](_0x3c55c3['image']['width']*_0x2e3536),_0x4bd144=Math['floor'](_0x3c55c3['image']['height']*_0x2e3536),_0x428af2=null!==_0x5dcf1c?_0x5dcf1c['x']:0x0,_0x1f9575=null!==_0x5dcf1c?_0x5dcf1c['y']:0x0;_0x2f6373['setTexture2D'](_0x3c55c3,0x0),_0x13ecc3['copyTexSubImage2D'](_0x13ecc3['TEXTURE_2D'],_0x3a51e2,0x0,0x0,_0x428af2,_0x1f9575,_0x362792,_0x4bd144),_0x271cac['unbindTexture']();};const _0x13db56=_0x13ecc3['createFramebuffer'](),_0x35980f=_0x13ecc3['createFramebuffer']();this['copyTextureToTexture']=function(_0xbb9480,_0x799a85,_0x4bb29e=null,_0x4c1b8f=null,_0x413e19=0x0,_0x414548=null){let _0x36f4ee,_0x3334a1,_0x5810c9,_0x4f7dcc,_0x31d0f9,_0x55aaff,_0x2000a1,_0x399d75,_0x420a2e;!0x0!==_0xbb9480['isTexture']&&((0x0,_0x207dba['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x4c1b8f=arguments[0x0]||null,_0xbb9480=arguments[0x1],_0x799a85=arguments[0x2],_0x414548=arguments[0x3]||0x0,_0x4bb29e=null),null===_0x414548&&(0x0!==_0x413e19?((0x0,_0x207dba['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x414548=_0x413e19,_0x413e19=0x0):_0x414548=0x0);const _0x467538=_0xbb9480['isCompressedTexture']?_0xbb9480['mipmaps'][_0x414548]:_0xbb9480['image'];if(null!==_0x4bb29e)_0x36f4ee=_0x4bb29e['max']['x']-_0x4bb29e['min']['x'],_0x3334a1=_0x4bb29e['max']['y']-_0x4bb29e['min']['y'],_0x5810c9=_0x4bb29e['isBox3']?_0x4bb29e['max']['z']-_0x4bb29e['min']['z']:0x1,_0x4f7dcc=_0x4bb29e['min']['x'],_0x31d0f9=_0x4bb29e['min']['y'],_0x55aaff=_0x4bb29e['isBox3']?_0x4bb29e['min']['z']:0x0;else{const _0x5bc636=Math['pow'](0x2,-_0x413e19);_0x36f4ee=Math['floor'](_0x467538['width']*_0x5bc636),_0x3334a1=Math['floor'](_0x467538['height']*_0x5bc636),_0x5810c9=_0xbb9480['isDataArrayTexture']?_0x467538['depth']:_0xbb9480['isData3DTexture']?Math['floor'](_0x467538['depth']*_0x5bc636):0x1,_0x4f7dcc=0x0,_0x31d0f9=0x0,_0x55aaff=0x0;}null!==_0x4c1b8f?(_0x2000a1=_0x4c1b8f['x'],_0x399d75=_0x4c1b8f['y'],_0x420a2e=_0x4c1b8f['z']):(_0x2000a1=0x0,_0x399d75=0x0,_0x420a2e=0x0);const _0x27888d=_0x1ec472['convert'](_0x799a85['format']),_0x5ef96f=_0x1ec472['convert'](_0x799a85['type']);let _0x43feaf;_0x799a85['isData3DTexture']?(_0x2f6373['setTexture3D'](_0x799a85,0x0),_0x43feaf=_0x13ecc3['TEXTURE_3D']):_0x799a85['isDataArrayTexture']||_0x799a85['isCompressedArrayTexture']?(_0x2f6373['setTexture2DArray'](_0x799a85,0x0),_0x43feaf=_0x13ecc3['TEXTURE_2D_ARRAY']):(_0x2f6373['setTexture2D'](_0x799a85,0x0),_0x43feaf=_0x13ecc3['TEXTURE_2D']),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_FLIP_Y_WEBGL'],_0x799a85['flipY']),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x799a85['premultiplyAlpha']),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_ALIGNMENT'],_0x799a85['unpackAlignment']);const _0x1b9e7e=_0x13ecc3['getParameter'](_0x13ecc3['UNPACK_ROW_LENGTH']),_0x1c6b9f=_0x13ecc3['getParameter'](_0x13ecc3['UNPACK_IMAGE_HEIGHT']),_0x3e9ac2=_0x13ecc3['getParameter'](_0x13ecc3['UNPACK_SKIP_PIXELS']),_0x5d8f0a=_0x13ecc3['getParameter'](_0x13ecc3['UNPACK_SKIP_ROWS']),_0x331ece=_0x13ecc3['getParameter'](_0x13ecc3['UNPACK_SKIP_IMAGES']);_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_ROW_LENGTH'],_0x467538['width']),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_IMAGE_HEIGHT'],_0x467538['height']),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_SKIP_PIXELS'],_0x4f7dcc),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_SKIP_ROWS'],_0x31d0f9),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_SKIP_IMAGES'],_0x55aaff);const _0x17ed86=_0xbb9480['isDataArrayTexture']||_0xbb9480['isData3DTexture'],_0x49c2e0=_0x799a85['isDataArrayTexture']||_0x799a85['isData3DTexture'];if(_0xbb9480['isDepthTexture']){const _0x5a980c=_0x465b01['get'](_0xbb9480),_0x544f82=_0x465b01['get'](_0x799a85),_0x17c342=_0x465b01['get'](_0x5a980c['__renderTarget']),_0x34b305=_0x465b01['get'](_0x544f82['__renderTarget']);_0x271cac['bindFramebuffer'](_0x13ecc3['READ_FRAMEBUFFER'],_0x17c342['__webglFramebuffer']),_0x271cac['bindFramebuffer'](_0x13ecc3['DRAW_FRAMEBUFFER'],_0x34b305['__webglFramebuffer']);for(let _0xc27eee=0x0;_0xc27eee<_0x5810c9;_0xc27eee++)_0x17ed86&&(_0x13ecc3['framebufferTextureLayer'](_0x13ecc3['READ_FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x465b01['get'](_0xbb9480)['__webglTexture'],_0x413e19,_0x55aaff+_0xc27eee),_0x13ecc3['framebufferTextureLayer'](_0x13ecc3['DRAW_FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x465b01['get'](_0x799a85)['__webglTexture'],_0x414548,_0x420a2e+_0xc27eee)),_0x13ecc3['blitFramebuffer'](_0x4f7dcc,_0x31d0f9,_0x36f4ee,_0x3334a1,_0x2000a1,_0x399d75,_0x36f4ee,_0x3334a1,_0x13ecc3['DEPTH_BUFFER_BIT'],_0x13ecc3['NEAREST']);_0x271cac['bindFramebuffer'](_0x13ecc3['READ_FRAMEBUFFER'],null),_0x271cac['bindFramebuffer'](_0x13ecc3['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x413e19||_0xbb9480['isRenderTargetTexture']||_0x465b01['has'](_0xbb9480)){const _0x2f7e94=_0x465b01['get'](_0xbb9480),_0x58bdd5=_0x465b01['get'](_0x799a85);_0x271cac['bindFramebuffer'](_0x13ecc3['READ_FRAMEBUFFER'],_0x13db56),_0x271cac['bindFramebuffer'](_0x13ecc3['DRAW_FRAMEBUFFER'],_0x35980f);for(let _0x5109ad=0x0;_0x5109ad<_0x5810c9;_0x5109ad++)_0x17ed86?_0x13ecc3['framebufferTextureLayer'](_0x13ecc3['READ_FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x2f7e94['__webglTexture'],_0x413e19,_0x55aaff+_0x5109ad):_0x13ecc3['framebufferTexture2D'](_0x13ecc3['READ_FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x13ecc3['TEXTURE_2D'],_0x2f7e94['__webglTexture'],_0x413e19),_0x49c2e0?_0x13ecc3['framebufferTextureLayer'](_0x13ecc3['DRAW_FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x58bdd5['__webglTexture'],_0x414548,_0x420a2e+_0x5109ad):_0x13ecc3['framebufferTexture2D'](_0x13ecc3['DRAW_FRAMEBUFFER'],_0x13ecc3['COLOR_ATTACHMENT0'],_0x13ecc3['TEXTURE_2D'],_0x58bdd5['__webglTexture'],_0x414548),0x0!==_0x413e19?_0x13ecc3['blitFramebuffer'](_0x4f7dcc,_0x31d0f9,_0x36f4ee,_0x3334a1,_0x2000a1,_0x399d75,_0x36f4ee,_0x3334a1,_0x13ecc3['COLOR_BUFFER_BIT'],_0x13ecc3['NEAREST']):_0x49c2e0?_0x13ecc3['copyTexSubImage3D'](_0x43feaf,_0x414548,_0x2000a1,_0x399d75,_0x420a2e+_0x5109ad,_0x4f7dcc,_0x31d0f9,_0x36f4ee,_0x3334a1):_0x13ecc3['copyTexSubImage2D'](_0x43feaf,_0x414548,_0x2000a1,_0x399d75,_0x4f7dcc,_0x31d0f9,_0x36f4ee,_0x3334a1);_0x271cac['bindFramebuffer'](_0x13ecc3['READ_FRAMEBUFFER'],null),_0x271cac['bindFramebuffer'](_0x13ecc3['DRAW_FRAMEBUFFER'],null);}else _0x49c2e0?_0xbb9480['isDataTexture']||_0xbb9480['isData3DTexture']?_0x13ecc3['texSubImage3D'](_0x43feaf,_0x414548,_0x2000a1,_0x399d75,_0x420a2e,_0x36f4ee,_0x3334a1,_0x5810c9,_0x27888d,_0x5ef96f,_0x467538['data']):_0x799a85['isCompressedArrayTexture']?_0x13ecc3['compressedTexSubImage3D'](_0x43feaf,_0x414548,_0x2000a1,_0x399d75,_0x420a2e,_0x36f4ee,_0x3334a1,_0x5810c9,_0x27888d,_0x467538['data']):_0x13ecc3['texSubImage3D'](_0x43feaf,_0x414548,_0x2000a1,_0x399d75,_0x420a2e,_0x36f4ee,_0x3334a1,_0x5810c9,_0x27888d,_0x5ef96f,_0x467538):_0xbb9480['isDataTexture']?_0x13ecc3['texSubImage2D'](_0x13ecc3['TEXTURE_2D'],_0x414548,_0x2000a1,_0x399d75,_0x36f4ee,_0x3334a1,_0x27888d,_0x5ef96f,_0x467538['data']):_0xbb9480['isCompressedTexture']?_0x13ecc3['compressedTexSubImage2D'](_0x13ecc3['TEXTURE_2D'],_0x414548,_0x2000a1,_0x399d75,_0x467538['width'],_0x467538['height'],_0x27888d,_0x467538['data']):_0x13ecc3['texSubImage2D'](_0x13ecc3['TEXTURE_2D'],_0x414548,_0x2000a1,_0x399d75,_0x36f4ee,_0x3334a1,_0x27888d,_0x5ef96f,_0x467538);}_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_ROW_LENGTH'],_0x1b9e7e),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_IMAGE_HEIGHT'],_0x1c6b9f),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_SKIP_PIXELS'],_0x3e9ac2),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_SKIP_ROWS'],_0x5d8f0a),_0x13ecc3['pixelStorei'](_0x13ecc3['UNPACK_SKIP_IMAGES'],_0x331ece),0x0===_0x414548&&_0x799a85['generateMipmaps']&&_0x13ecc3['generateMipmap'](_0x43feaf),_0x271cac['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x149dbd,_0x45a198,_0x32550c=null,_0x258baf=null,_0x2d714f=0x0){return!0x0!==_0x149dbd['isTexture']&&((0x0,_0x207dba['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0x32550c=arguments[0x0]||null,_0x258baf=arguments[0x1]||null,_0x149dbd=arguments[0x2],_0x45a198=arguments[0x3],_0x2d714f=arguments[0x4]||0x0),(0x0,_0x207dba['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x149dbd,_0x45a198,_0x32550c,_0x258baf,_0x2d714f);},this['initRenderTarget']=function(_0x14416f){void 0x0===_0x465b01['get'](_0x14416f)['__webglFramebuffer']&&_0x2f6373['setupRenderTarget'](_0x14416f);},this['initTexture']=function(_0x2b08c6){_0x2b08c6['isCubeTexture']?_0x2f6373['setTextureCube'](_0x2b08c6,0x0):_0x2b08c6['isData3DTexture']?_0x2f6373['setTexture3D'](_0x2b08c6,0x0):_0x2b08c6['isDataArrayTexture']||_0x2b08c6['isCompressedArrayTexture']?_0x2f6373['setTexture2DArray'](_0x2b08c6,0x0):_0x2f6373['setTexture2D'](_0x2b08c6,0x0),_0x271cac['unbindTexture']();},this['resetState']=function(){_0x599f4c=0x0,_0x3cf756=0x0,_0xa7e31c=null,_0x271cac['reset'](),_0x4d8332['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0x207dba['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0x540211){this['_outputColorSpace']=_0x540211;const _0x549952=this['getContext']();_0x549952['drawingBufferColorspace']=_0x207dba['ppV']['_getDrawingBufferColorSpace'](_0x540211),_0x549952['unpackColorSpace']=_0x207dba['ppV']['_getUnpackColorSpace']();}}}}]);